!function(f){"object"==typeof exports&&"undefined"!=typeof module?module.exports=f():"function"==typeof define&&define.amd?define([],f):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).LgVideo=f()}(function(){return function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);throw(f=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",f}c=n[i]={exports:{}},e[i][0].call(c.exports,function(r){return o(e[i][1][r]||r)},c,c.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){var global,factory;global=this,factory=function(){function Video(element){return this.el=element,this.core=window.lgData[this.el.getAttribute("lg-uid")],this.core.s=_extends({},videoDefaults,this.core.s),this.videoLoaded=!1,this.init(),this}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},videoDefaults={videoMaxWidth:"855px",youtubePlayerParams:!1,vimeoPlayerParams:!1,dailymotionPlayerParams:!1,vkPlayerParams:!1,videojs:!1,videojsOptions:{}};Video.prototype.init=function(){function loadOnClick($el){if(utils.hasClass($el.querySelector(".lg-object"),"lg-has-poster")&&"none"!==$el.querySelector(".lg-object").style.display)if(utils.hasClass($el,"lg-has-video")){var youtubePlayer=$el.querySelector(".lg-youtube"),vimeoPlayer=$el.querySelector(".lg-vimeo"),dailymotionPlayer=$el.querySelector(".lg-dailymotion"),html5Player=$el.querySelector(".lg-html5");if(youtubePlayer)youtubePlayer.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*");else if(vimeoPlayer)try{$f(vimeoPlayer).api("play")}catch(e){console.error("Make sure you have included froogaloop2 js")}else if(dailymotionPlayer)dailymotionPlayer.contentWindow.postMessage("play","*");else if(html5Player)if(_this.core.s.videojs)try{videojs(html5Player).play()}catch(e){console.error("Make sure you have included videojs")}else html5Player.play();utils.addClass($el,"lg-video-playing")}else{utils.addClass($el,"lg-video-playing"),utils.addClass($el,"lg-has-video");youtubePlayer=function(_src,_html){if($el.querySelector(".lg-video").insertAdjacentHTML("beforeend",_this.loadVideo(_src,"",!1,_this.core.index,_html)),_html)if(_this.core.s.videojs)try{videojs(_this.core.___slide[_this.core.index].querySelector(".lg-html5"),_this.core.s.videojsOptions,function(){this.play()})}catch(e){console.error("Make sure you have included videojs")}else _this.core.___slide[_this.core.index].querySelector(".lg-html5").play()},vimeoPlayer=(_this.core.s.dynamic?youtubePlayer(_this.core.s.dynamicEl[_this.core.index].src,_this.core.s.dynamicEl[_this.core.index].html):youtubePlayer(_this.core.items[_this.core.index].getAttribute("href")||_this.core.items[_this.core.index].getAttribute("data-src"),_this.core.items[_this.core.index].getAttribute("data-html")),$el.querySelector(".lg-object"));$el.querySelector(".lg-video").appendChild(vimeoPlayer),utils.hasClass($el.querySelector(".lg-video-object"),"lg-html5")||(utils.removeClass($el,"lg-complete"),utils.on($el.querySelector(".lg-video-object"),"load.lg error.lg",function(){utils.addClass($el,"lg-complete")}))}}var _this=this;utils.on(_this.core.el,"hasVideo.lgtm",function(event){if(_this.core.___slide[event.detail.index].querySelector(".lg-video").insertAdjacentHTML("beforeend",_this.loadVideo(event.detail.src,"lg-object",!0,event.detail.index,event.detail.html)),event.detail.html)if(_this.core.s.videojs)try{videojs(_this.core.___slide[event.detail.index].querySelector(".lg-html5"),_this.core.s.videojsOptions,function(){_this.videoLoaded||this.play()})}catch(e){console.error("Make sure you have included videojs")}else _this.core.___slide[event.detail.index].querySelector(".lg-html5").play()}),utils.on(_this.core.el,"onAferAppendSlide.lgtm",function(event){_this.core.___slide[event.detail.index].querySelector(".lg-video-cont")&&(_this.core.___slide[event.detail.index].querySelector(".lg-video-cont").style.maxWidth=_this.core.s.videoMaxWidth,_this.videoLoaded=!0)});if(_this.core.doCss()&&1<_this.core.items.length&&(_this.core.s.enableSwipe&&_this.core.isTouch||_this.core.s.enableDrag&&!_this.core.isTouch))utils.on(_this.core.el,"onSlideClick.lgtm",function(){var $el=_this.core.___slide[_this.core.index];loadOnClick($el)});else for(var i=0;i<_this.core.___slide.length;i++)(index=>{utils.on(_this.core.___slide[index],"click.lg",function(){loadOnClick(_this.core.___slide[index])})})(i);utils.on(_this.core.el,"onBeforeSlide.lgtm",function(event){var $videoSlide=_this.core.___slide[event.detail.prevIndex],youtubePlayer=$videoSlide.querySelector(".lg-youtube"),vimeoPlayer=$videoSlide.querySelector(".lg-vimeo"),dailymotionPlayer=$videoSlide.querySelector(".lg-dailymotion"),vkPlayer=$videoSlide.querySelector(".lg-vk"),$videoSlide=$videoSlide.querySelector(".lg-html5");if(youtubePlayer)youtubePlayer.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*");else if(vimeoPlayer)try{$f(vimeoPlayer).api("pause")}catch(e){console.error("Make sure you have included froogaloop2 js")}else if(dailymotionPlayer)dailymotionPlayer.contentWindow.postMessage("pause","*");else if($videoSlide)if(_this.core.s.videojs)try{videojs($videoSlide).pause()}catch(e){console.error("Make sure you have included videojs")}else $videoSlide.pause();vkPlayer&&vkPlayer.setAttribute("src",vkPlayer.getAttribute("src").replace("&autoplay","&noplay"));youtubePlayer=_this.core.s.dynamic?_this.core.s.dynamicEl[event.detail.index].src:_this.core.items[event.detail.index].getAttribute("href")||_this.core.items[event.detail.index].getAttribute("data-src"),vimeoPlayer=_this.core.isVideo(youtubePlayer,event.detail.index)||{};(vimeoPlayer.youtube||vimeoPlayer.vimeo||vimeoPlayer.dailymotion||vimeoPlayer.vk)&&utils.addClass(_this.core.outer,"lg-hide-download")}),utils.on(_this.core.el,"onAfterSlide.lgtm",function(event){utils.removeClass(_this.core.___slide[event.detail.prevIndex],"lg-video-playing")})},Video.prototype.loadVideo=function(src,addClass,noposter,index,html){var video="",autoplay=1,a="",src=this.core.isVideo(src,index)||{},index=(noposter&&(autoplay=this.videoLoaded?0:1),noposter=this.core.s.dynamic?this.core.s.dynamicEl[index].title:this.core.items[index].getAttribute("title"),this.core.items[index].querySelector("img")),noposter=(noposter=index?noposter||index.getAttribute("alt"):noposter)?'title="'+noposter+'"':"";return src.youtube?(a="?wmode=opaque&autoplay="+autoplay+"&enablejsapi=1",this.core.s.youtubePlayerParams&&(a=a+"&"+utils.param(this.core.s.youtubePlayerParams)),video='<iframe class="lg-video-object lg-youtube '+addClass+'" '+noposter+' width="560" height="315" src="//www.youtube.com/embed/'+src.youtube[1]+a+'" frameborder="0" allowfullscreen></iframe>'):src.vimeo?(a="?autoplay="+autoplay+"&api=1",this.core.s.vimeoPlayerParams&&(a=a+"&"+utils.param(this.core.s.vimeoPlayerParams)),video='<iframe class="lg-video-object lg-vimeo '+addClass+'" '+noposter+' width="560" height="315"  src="//player.vimeo.com/video/'+src.vimeo[1]+a+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'):src.dailymotion?(a="?wmode=opaque&autoplay="+autoplay+"&api=postMessage",this.core.s.dailymotionPlayerParams&&(a=a+"&"+utils.param(this.core.s.dailymotionPlayerParams)),video='<iframe class="lg-video-object lg-dailymotion '+addClass+'" '+noposter+' width="560" height="315" src="//www.dailymotion.com/embed/video/'+src.dailymotion[1]+a+'" frameborder="0" allowfullscreen></iframe>'):src.html5?video=html="."!==(index=html.substring(0,1))&&"#"!==index?html:document.querySelector(html).innerHTML:src.vk&&(a="&autoplay="+autoplay,this.core.s.vkPlayerParams&&(a=a+"&"+utils.param(this.core.s.vkPlayerParams)),video='<iframe class="lg-video-object lg-vk '+addClass+'" '+noposter+'  width="560" height="315" src="http://vk.com/video_ext.php?'+src.vk[1]+a+'" frameborder="0" allowfullscreen></iframe>'),video},Video.prototype.destroy=function(){this.videoLoaded=!1},window.lgModules.video=Video},void 0!==exports?factory():(factory(),global.lgVideo={})},{}]},{},[1])(1)});