(modules=>{var installedModules={};function __webpack_require__(moduleId){var module;return(installedModules[moduleId]||(module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}},modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module)).exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)})([function(module,exports,__webpack_require__){var pdfjsWebApp,pdfjsWebAppOptions;function webViewerLoad(){var config={appContainer:document.body,mainContainer:document.getElementById("viewerContainer"),viewerContainer:document.getElementById("viewer"),eventBus:null,toolbar:{container:document.getElementById("toolbarViewer"),numPages:document.getElementById("numPages"),pageNumber:document.getElementById("pageNumber"),scaleSelectContainer:document.getElementById("scaleSelectContainer"),scaleSelect:document.getElementById("scaleSelect"),customScaleOption:document.getElementById("customScaleOption"),previous:document.getElementById("previous"),next:document.getElementById("next"),zoomIn:document.getElementById("zoomIn"),zoomOut:document.getElementById("zoomOut"),viewFind:document.getElementById("viewFind"),openFile:document.getElementById("openFile"),print:document.getElementById("print"),presentationModeButton:document.getElementById("presentationMode"),download:document.getElementById("download"),viewBookmark:document.getElementById("viewBookmark")},secondaryToolbar:{toolbar:document.getElementById("secondaryToolbar"),toggleButton:document.getElementById("secondaryToolbarToggle"),toolbarButtonContainer:document.getElementById("secondaryToolbarButtonContainer"),presentationModeButton:document.getElementById("secondaryPresentationMode"),openFileButton:document.getElementById("secondaryOpenFile"),printButton:document.getElementById("secondaryPrint"),downloadButton:document.getElementById("secondaryDownload"),viewBookmarkButton:document.getElementById("secondaryViewBookmark"),firstPageButton:document.getElementById("firstPage"),lastPageButton:document.getElementById("lastPage"),pageRotateCwButton:document.getElementById("pageRotateCw"),pageRotateCcwButton:document.getElementById("pageRotateCcw"),cursorSelectToolButton:document.getElementById("cursorSelectTool"),cursorHandToolButton:document.getElementById("cursorHandTool"),scrollVerticalButton:document.getElementById("scrollVertical"),scrollHorizontalButton:document.getElementById("scrollHorizontal"),scrollWrappedButton:document.getElementById("scrollWrapped"),spreadNoneButton:document.getElementById("spreadNone"),spreadOddButton:document.getElementById("spreadOdd"),spreadEvenButton:document.getElementById("spreadEven"),documentPropertiesButton:document.getElementById("documentProperties")},fullscreen:{contextFirstPage:document.getElementById("contextFirstPage"),contextLastPage:document.getElementById("contextLastPage"),contextPageRotateCw:document.getElementById("contextPageRotateCw"),contextPageRotateCcw:document.getElementById("contextPageRotateCcw")},sidebar:{outerContainer:document.getElementById("outerContainer"),viewerContainer:document.getElementById("viewerContainer"),toggleButton:document.getElementById("sidebarToggle"),thumbnailButton:document.getElementById("viewThumbnail"),outlineButton:document.getElementById("viewOutline"),attachmentsButton:document.getElementById("viewAttachments"),thumbnailView:document.getElementById("thumbnailView"),outlineView:document.getElementById("outlineView"),attachmentsView:document.getElementById("attachmentsView")},sidebarResizer:{outerContainer:document.getElementById("outerContainer"),resizer:document.getElementById("sidebarResizer")},findBar:{bar:document.getElementById("findbar"),toggleButton:document.getElementById("viewFind"),findField:document.getElementById("findInput"),highlightAllCheckbox:document.getElementById("findHighlightAll"),caseSensitiveCheckbox:document.getElementById("findMatchCase"),entireWordCheckbox:document.getElementById("findEntireWord"),findMsg:document.getElementById("findMsg"),findResultsCount:document.getElementById("findResultsCount"),findPreviousButton:document.getElementById("findPrevious"),findNextButton:document.getElementById("findNext")},passwordOverlay:{overlayName:"passwordOverlay",container:document.getElementById("passwordOverlay"),label:document.getElementById("passwordText"),input:document.getElementById("password"),submitButton:document.getElementById("passwordSubmit"),cancelButton:document.getElementById("passwordCancel")},documentProperties:{overlayName:"documentPropertiesOverlay",container:document.getElementById("documentPropertiesOverlay"),closeButton:document.getElementById("documentPropertiesClose"),fields:{fileName:document.getElementById("fileNameField"),fileSize:document.getElementById("fileSizeField"),title:document.getElementById("titleField"),author:document.getElementById("authorField"),subject:document.getElementById("subjectField"),keywords:document.getElementById("keywordsField"),creationDate:document.getElementById("creationDateField"),modificationDate:document.getElementById("modificationDateField"),creator:document.getElementById("creatorField"),producer:document.getElementById("producerField"),version:document.getElementById("versionField"),pageCount:document.getElementById("pageCountField"),pageSize:document.getElementById("pageSizeField"),linearized:document.getElementById("linearizedField")}},errorWrapper:{container:document.getElementById("errorWrapper"),errorMessage:document.getElementById("errorMessage"),closeButton:document.getElementById("errorClose"),errorMoreInfo:document.getElementById("errorMoreInfo"),moreInfoButton:document.getElementById("errorShowMore"),lessInfoButton:document.getElementById("errorShowLess")},printContainer:document.getElementById("printContainer"),openFileInputName:"fileInput",debuggerScriptPath:"./debugger.js"},event=(window.PDFViewerApplication=pdfjsWebApp.PDFViewerApplication,window.PDFViewerApplicationOptions=pdfjsWebAppOptions.AppOptions,document.createEvent("CustomEvent"));event.initCustomEvent("webviewerloaded",!0,!0,{}),document.dispatchEvent(event),pdfjsWebApp.PDFViewerApplication.run(config)}pdfjsWebApp=__webpack_require__(1),pdfjsWebAppOptions=__webpack_require__(6),__webpack_require__(36),__webpack_require__(41),"interactive"===document.readyState||"complete"===document.readyState?webViewerLoad():document.addEventListener("DOMContentLoaded",webViewerLoad,!0)},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFPrintServiceFactory=exports.DefaultExternalServices=exports.PDFViewerApplication=void 0;var _regenerator=(obj=__webpack_require__(2))&&obj.__esModule?obj:{default:obj},_ui_utils=__webpack_require__(5),_app_options=__webpack_require__(6),_pdfjsLib=__webpack_require__(7),_pdf_cursor_tools=__webpack_require__(9),_pdf_rendering_queue=__webpack_require__(11),_pdf_sidebar=__webpack_require__(12),_overlay_manager=__webpack_require__(13),_password_prompt=__webpack_require__(14),_pdf_attachment_viewer=__webpack_require__(15),_pdf_document_properties=__webpack_require__(16),_pdf_find_bar=__webpack_require__(17),_pdf_find_controller=__webpack_require__(18),_pdf_history=__webpack_require__(20),_pdf_link_service=__webpack_require__(21),_pdf_outline_viewer=__webpack_require__(22),_pdf_presentation_mode=__webpack_require__(23),_pdf_sidebar_resizer=__webpack_require__(24),_pdf_thumbnail_viewer=__webpack_require__(25),_pdf_viewer=__webpack_require__(27),_secondary_toolbar=__webpack_require__(32),_toolbar=__webpack_require__(34),_view_history=__webpack_require__(35);function _slicedToArray(arr,i){return(arr=>{if(Array.isArray(arr))return arr})(arr)||((arr,i)=>{if(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}})(arr,i)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}var _open,_close,_initializeViewerComponents2,_initializeL10n2,_parseHashParameters2,_readPreferences2,_initialize,WHEEL_ZOOM_DISABLED_TIMEOUT=1e3,ViewOnLoad_UNKNOWN=-1,ViewOnLoad_INITIAL=1,obj={updateFindControlState:function(data){},updateFindMatchesCount:function(data){},initPassiveLoading:function(callbacks){},fallback:function(data,callback){},reportTelemetry:function(data){},createDownloadManager:function(options){throw new Error("Not implemented: createDownloadManager")},createPreferences:function(){throw new Error("Not implemented: createPreferences")},createL10n:function(options){throw new Error("Not implemented: createL10n")},supportsIntegratedFind:!1,supportsDocumentFonts:!0,supportsDocumentColors:!0,supportedMouseWheelZoomModifierKeys:{ctrlKey:!0,metaKey:!0}},PDFViewerApplication=(exports.DefaultExternalServices=obj,{initialBookmark:document.location.hash.substring(1),initialized:!1,fellback:!1,appConfig:null,pdfDocument:null,pdfLoadingTask:null,printService:null,pdfViewer:null,pdfThumbnailViewer:null,pdfRenderingQueue:null,pdfPresentationMode:null,pdfDocumentProperties:null,pdfLinkService:null,pdfHistory:null,pdfSidebar:null,pdfSidebarResizer:null,pdfOutlineViewer:null,pdfAttachmentViewer:null,pdfCursorTools:null,store:null,downloadManager:null,overlayManager:null,preferences:null,toolbar:null,secondaryToolbar:null,eventBus:null,l10n:null,isInitialViewSet:!1,downloadComplete:!1,isViewerEmbedded:window.parent!==window,url:"",baseUrl:"",externalServices:obj,_boundEvents:{},contentDispositionFilename:null,initialize:(_initialize=_asyncToGenerator(_regenerator.default.mark(function _callee(appConfig){var appContainer,_this=this;return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return this.preferences=this.externalServices.createPreferences(),this.appConfig=appConfig,_context.next=4,this._readPreferences();case 4:return _context.next=6,this._parseHashParameters();case 6:return _context.next=8,this._initializeL10n();case 8:return this.isViewerEmbedded&&_app_options.AppOptions.get("externalLinkTarget")===_pdfjsLib.LinkTarget.NONE&&_app_options.AppOptions.set("externalLinkTarget",_pdfjsLib.LinkTarget.TOP),_context.next=11,this._initializeViewerComponents();case 11:this.bindEvents(),this.bindWindowEvents(),appContainer=appConfig.appContainer||document.documentElement,this.l10n.translate(appContainer).then(function(){_this.eventBus.dispatch("localized",{source:_this})}),this.initialized=!0;case 16:case"end":return _context.stop()}},_callee,this)})),function(_x){return _initialize.apply(this,arguments)}),_readPreferences:(_readPreferences2=_asyncToGenerator(_regenerator.default.mark(function _callee2(){var prefs,name;return _regenerator.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!0===_app_options.AppOptions.get("disablePreferences"))return _context2.abrupt("return");_context2.next=2;break;case 2:return _context2.prev=2,_context2.next=5,this.preferences.getAll();case 5:for(name in prefs=_context2.sent)_app_options.AppOptions.set(name,prefs[name]);_context2.next=12;break;case 9:_context2.prev=9,_context2.t0=_context2.catch(2),console.error('_readPreferences: "'.concat(_context2.t0.message,'".'));case 12:case"end":return _context2.stop()}},_callee2,this,[[2,9]])})),function(){return _readPreferences2.apply(this,arguments)}),_parseHashParameters:(_parseHashParameters2=_asyncToGenerator(_regenerator.default.mark(function _callee3(){var waitOn,hash,enabled;return _regenerator.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(_app_options.AppOptions.get("pdfBugEnabled")){_context3.next=2;break}return _context3.abrupt("return",void 0);case 2:waitOn=[],hash=document.location.hash.substring(1),"disableworker"in(hash=(0,_ui_utils.parseQueryString)(hash))&&"true"===hash.disableworker&&waitOn.push((()=>(_pdfjsLib.GlobalWorkerOptions.workerSrc||(_pdfjsLib.GlobalWorkerOptions.workerSrc=_app_options.AppOptions.get("workerSrc")),(0,_pdfjsLib.loadScript)(_pdfjsLib.PDFWorker.getWorkerSrc())))()),"disablerange"in hash&&_app_options.AppOptions.set("disableRange","true"===hash.disablerange),"disablestream"in hash&&_app_options.AppOptions.set("disableStream","true"===hash.disablestream),"disableautofetch"in hash&&_app_options.AppOptions.set("disableAutoFetch","true"===hash.disableautofetch),"disablefontface"in hash&&_app_options.AppOptions.set("disableFontFace","true"===hash.disablefontface),"disablehistory"in hash&&_app_options.AppOptions.set("disableHistory","true"===hash.disablehistory),"webgl"in hash&&_app_options.AppOptions.set("enableWebGL","true"===hash.webgl),"useonlycsszoom"in hash&&_app_options.AppOptions.set("useOnlyCssZoom","true"===hash.useonlycsszoom),"verbosity"in hash&&_app_options.AppOptions.set("verbosity",0|hash.verbosity),"textlayer"in hash?(_context3.t0=hash.textlayer,_context3.next="off"===_context3.t0?18:"visible"===_context3.t0||"shadow"===_context3.t0||"hover"===_context3.t0?20:23):_context3.next=23;break;case 18:return _app_options.AppOptions.set("textLayerMode",_ui_utils.TextLayerMode.DISABLE),_context3.abrupt("break",23);case 20:return this.appConfig.viewerContainer.classList.add("textLayer-"+hash.textlayer),_context3.abrupt("break",23);case 23:return"pdfbug"in hash&&(_app_options.AppOptions.set("pdfBug",!0),enabled=hash.pdfbug.split(","),waitOn.push((enabledTabs=>{var appConfig=PDFViewerApplication.appConfig;return(0,_pdfjsLib.loadScript)(appConfig.debuggerScriptPath).then(function(){PDFBug.enable(enabledTabs),PDFBug.init({OPS:_pdfjsLib.OPS,createObjectURL:_pdfjsLib.createObjectURL},appConfig.mainContainer)})})(enabled))),"locale"in hash&&_app_options.AppOptions.set("locale",hash.locale),_context3.abrupt("return",Promise.all(waitOn).catch(function(reason){console.error('_parseHashParameters: "'.concat(reason.message,'".'))}));case 26:case"end":return _context3.stop()}},_callee3,this)})),function(){return _parseHashParameters2.apply(this,arguments)}),_initializeL10n:(_initializeL10n2=_asyncToGenerator(_regenerator.default.mark(function _callee4(){var dir;return _regenerator.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return this.l10n=this.externalServices.createL10n({locale:_app_options.AppOptions.get("locale")}),_context4.next=3,this.l10n.getDirection();case 3:dir=_context4.sent,document.getElementsByTagName("html")[0].dir=dir;case 5:case"end":return _context4.stop()}},_callee4,this)})),function(){return _initializeL10n2.apply(this,arguments)}),_initializeViewerComponents:(_initializeViewerComponents2=_asyncToGenerator(_regenerator.default.mark(function _callee5(){var appConfig,eventBus,pdfRenderingQueue,pdfLinkService,downloadManager,findController,container,viewer;return _regenerator.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:appConfig=this.appConfig,this.overlayManager=new _overlay_manager.OverlayManager,eventBus=appConfig.eventBus||(0,_ui_utils.getGlobalEventBus)(_app_options.AppOptions.get("eventBusDispatchToDOM")),this.eventBus=eventBus,(pdfRenderingQueue=new _pdf_rendering_queue.PDFRenderingQueue).onIdle=this.cleanup.bind(this),this.pdfRenderingQueue=pdfRenderingQueue,pdfLinkService=new _pdf_link_service.PDFLinkService({eventBus:eventBus,externalLinkTarget:_app_options.AppOptions.get("externalLinkTarget"),externalLinkRel:_app_options.AppOptions.get("externalLinkRel")}),this.pdfLinkService=pdfLinkService,downloadManager=this.externalServices.createDownloadManager({disableCreateObjectURL:_app_options.AppOptions.get("disableCreateObjectURL")}),this.downloadManager=downloadManager,findController=new _pdf_find_controller.PDFFindController({linkService:pdfLinkService,eventBus:eventBus}),this.findController=findController,container=appConfig.mainContainer,viewer=appConfig.viewerContainer,this.pdfViewer=new _pdf_viewer.PDFViewer({container:container,viewer:viewer,eventBus:eventBus,renderingQueue:pdfRenderingQueue,linkService:pdfLinkService,downloadManager:downloadManager,findController:findController,renderer:_app_options.AppOptions.get("renderer"),enableWebGL:_app_options.AppOptions.get("enableWebGL"),l10n:this.l10n,textLayerMode:_app_options.AppOptions.get("textLayerMode"),imageResourcesPath:_app_options.AppOptions.get("imageResourcesPath"),renderInteractiveForms:_app_options.AppOptions.get("renderInteractiveForms"),enablePrintAutoRotate:_app_options.AppOptions.get("enablePrintAutoRotate"),useOnlyCssZoom:_app_options.AppOptions.get("useOnlyCssZoom"),maxCanvasPixels:_app_options.AppOptions.get("maxCanvasPixels")}),pdfRenderingQueue.setViewer(this.pdfViewer),pdfLinkService.setViewer(this.pdfViewer),this.pdfThumbnailViewer=new _pdf_thumbnail_viewer.PDFThumbnailViewer({container:appConfig.sidebar.thumbnailView,renderingQueue:pdfRenderingQueue,linkService:pdfLinkService,l10n:this.l10n}),pdfRenderingQueue.setThumbnailViewer(this.pdfThumbnailViewer),this.pdfHistory=new _pdf_history.PDFHistory({linkService:pdfLinkService,eventBus:eventBus}),pdfLinkService.setHistory(this.pdfHistory),this.supportsIntegratedFind||(this.findBar=new _pdf_find_bar.PDFFindBar(appConfig.findBar,eventBus,this.l10n)),this.pdfDocumentProperties=new _pdf_document_properties.PDFDocumentProperties(appConfig.documentProperties,this.overlayManager,eventBus,this.l10n),this.pdfCursorTools=new _pdf_cursor_tools.PDFCursorTools({container:container,eventBus:eventBus,cursorToolOnLoad:_app_options.AppOptions.get("cursorToolOnLoad")}),this.toolbar=new _toolbar.Toolbar(appConfig.toolbar,eventBus,this.l10n),this.secondaryToolbar=new _secondary_toolbar.SecondaryToolbar(appConfig.secondaryToolbar,container,eventBus),this.supportsFullscreen&&(this.pdfPresentationMode=new _pdf_presentation_mode.PDFPresentationMode({container:container,viewer:viewer,pdfViewer:this.pdfViewer,eventBus:eventBus,contextMenuItems:appConfig.fullscreen})),this.passwordPrompt=new _password_prompt.PasswordPrompt(appConfig.passwordOverlay,this.overlayManager,this.l10n),this.pdfOutlineViewer=new _pdf_outline_viewer.PDFOutlineViewer({container:appConfig.sidebar.outlineView,eventBus:eventBus,linkService:pdfLinkService}),this.pdfAttachmentViewer=new _pdf_attachment_viewer.PDFAttachmentViewer({container:appConfig.sidebar.attachmentsView,eventBus:eventBus,downloadManager:downloadManager}),this.pdfSidebar=new _pdf_sidebar.PDFSidebar({elements:appConfig.sidebar,pdfViewer:this.pdfViewer,pdfThumbnailViewer:this.pdfThumbnailViewer,eventBus:eventBus,l10n:this.l10n}),this.pdfSidebar.onToggled=this.forceRendering.bind(this),this.pdfSidebarResizer=new _pdf_sidebar_resizer.PDFSidebarResizer(appConfig.sidebarResizer,eventBus,this.l10n);case 34:case"end":return _context5.stop()}},_callee5,this)})),function(){return _initializeViewerComponents2.apply(this,arguments)}),run:function(config){this.initialize(config).then(webViewerInitialized)},zoomIn:function(ticks){if(!this.pdfViewer.isInPresentationMode){for(var newScale=this.pdfViewer.currentScale;newScale=(1.1*newScale).toFixed(2),newScale=Math.ceil(10*newScale)/10,newScale=Math.min(_ui_utils.MAX_SCALE,newScale),0<--ticks&&newScale<_ui_utils.MAX_SCALE;);this.pdfViewer.currentScaleValue=newScale}},zoomOut:function(ticks){if(!this.pdfViewer.isInPresentationMode){for(var newScale=this.pdfViewer.currentScale;newScale=(newScale/1.1).toFixed(2),newScale=Math.floor(10*newScale)/10,newScale=Math.max(_ui_utils.MIN_SCALE,newScale),0<--ticks&&newScale>_ui_utils.MIN_SCALE;);this.pdfViewer.currentScaleValue=newScale}},zoomReset:function(){this.pdfViewer.isInPresentationMode||(this.pdfViewer.currentScaleValue=_ui_utils.DEFAULT_SCALE_VALUE)},get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0},set page(val){this.pdfViewer.currentPageNumber=val},get page(){return this.pdfViewer.currentPageNumber},get printing(){return!!this.printService},get supportsPrinting(){return PDFPrintServiceFactory.instance.supportsPrinting},get supportsFullscreen(){var doc=document.documentElement,doc=!!(doc.requestFullscreen||doc.mozRequestFullScreen||doc.webkitRequestFullScreen||doc.msRequestFullscreen);return!1!==document.fullscreenEnabled&&!1!==document.mozFullScreenEnabled&&!1!==document.webkitFullscreenEnabled&&!1!==document.msFullscreenEnabled||(doc=!1),(0,_pdfjsLib.shadow)(this,"supportsFullscreen",doc)},get supportsIntegratedFind(){return this.externalServices.supportsIntegratedFind},get supportsDocumentFonts(){return this.externalServices.supportsDocumentFonts},get supportsDocumentColors(){return this.externalServices.supportsDocumentColors},get loadingBar(){var bar=new _ui_utils.ProgressBar("#loadingBar");return(0,_pdfjsLib.shadow)(this,"loadingBar",bar)},get supportedMouseWheelZoomModifierKeys(){return this.externalServices.supportedMouseWheelZoomModifierKeys},initPassiveLoading:function(){throw new Error("Not implemented: initPassiveLoading")},setTitleUsingUrl:function(){var url=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",title=(this.url=url,this.baseUrl=url.split("#")[0],(0,_ui_utils.getPDFFileNameFromURL)(url,""));if(!title)try{title=decodeURIComponent((0,_pdfjsLib.getFilenameFromUrl)(url))||url}catch(ex){title=url}this.setTitle(title)},setTitle:function(title){this.isViewerEmbedded||(document.title=title)},close:(_close=_asyncToGenerator(_regenerator.default.mark(function _callee6(){var promise;return _regenerator.default.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(this.appConfig.errorWrapper.container.setAttribute("hidden","true"),this.pdfLoadingTask){_context6.next=4;break}return _context6.abrupt("return",void 0);case 4:return promise=this.pdfLoadingTask.destroy(),this.pdfLoadingTask=null,this.pdfDocument&&(this.pdfDocument=null,this.pdfThumbnailViewer.setDocument(null),this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null),this.pdfDocumentProperties.setDocument(null)),this.store=null,this.isInitialViewSet=!1,this.downloadComplete=!1,this.url="",this.baseUrl="",this.contentDispositionFilename=null,this.pdfSidebar.reset(),this.pdfOutlineViewer.reset(),this.pdfAttachmentViewer.reset(),this.findBar&&this.findBar.reset(),this.toolbar.reset(),this.secondaryToolbar.reset(),"undefined"!=typeof PDFBug&&PDFBug.cleanup(),_context6.abrupt("return",promise);case 21:case"end":return _context6.stop()}},_callee6,this)})),function(){return _close.apply(this,arguments)}),open:(_open=_asyncToGenerator(_regenerator.default.mark(function _callee7(file,args){var workerParameters,key,parameters,apiParameters,_key,value,_key2,_value,loadingTask,_this2=this;return _regenerator.default.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:if(this.pdfLoadingTask)return _context7.next=3,this.close();_context7.next=3;break;case 3:for(key in workerParameters=_app_options.AppOptions.getAll(_app_options.OptionKind.WORKER))_pdfjsLib.GlobalWorkerOptions[key]=workerParameters[key];for(_key in parameters=Object.create(null),"string"==typeof file?(this.setTitleUsingUrl(file),parameters.url=file):file&&"byteLength"in file?parameters.data=file:file.url&&file.originalUrl&&(this.setTitleUsingUrl(file.originalUrl),parameters.url=file.url),apiParameters=_app_options.AppOptions.getAll(_app_options.OptionKind.API))value=apiParameters[_key],parameters[_key]=value;if(args)for(_key2 in args)_value=args[_key2],"length"===_key2&&this.pdfDocumentProperties.setFileSize(_value),parameters[_key2]=_value;return loadingTask=(0,_pdfjsLib.getDocument)(parameters),(this.pdfLoadingTask=loadingTask).onPassword=function(updateCallback,reason){_this2.pdfLinkService.externalLinkEnabled=!1,_this2.passwordPrompt.setUpdateCallback(updateCallback,reason),_this2.passwordPrompt.open()},loadingTask.onProgress=function(_ref){var loaded=_ref.loaded;_this2.progress(loaded/_ref.total)},loadingTask.onUnsupportedFeature=this.fallback.bind(this),_context7.abrupt("return",loadingTask.promise.then(function(pdfDocument){_this2.load(pdfDocument)},function(exception){var message;if(loadingTask===_this2.pdfLoadingTask)return message=exception&&exception.message,(exception instanceof _pdfjsLib.InvalidPDFException?_this2.l10n.get("invalid_file_error",null,"Invalid or corrupted PDF file."):exception instanceof _pdfjsLib.MissingPDFException?_this2.l10n.get("missing_file_error",null,"Missing PDF file."):exception instanceof _pdfjsLib.UnexpectedResponseException?_this2.l10n.get("unexpected_response_error",null,"Unexpected server response."):_this2.l10n.get("loading_error",null,"An error occurred while loading the PDF.")).then(function(msg){throw _this2.error(msg,{message:message}),new Error(msg)})}));case 16:case"end":return _context7.stop()}},_callee7,this)})),function(_x2,_x3){return _open.apply(this,arguments)}),download:function(){var _this3=this;function downloadByUrl(){downloadManager.downloadUrl(url,filename)}var url=this.baseUrl,filename=this.contentDispositionFilename||(0,_ui_utils.getPDFFileNameFromURL)(this.url),downloadManager=this.downloadManager;downloadManager.onerror=function(err){_this3.error("PDF failed to download: ".concat(err))},this.pdfDocument&&this.downloadComplete?this.pdfDocument.getData().then(function(data){data=new Blob([data],{type:"application/pdf"});downloadManager.download(data,url,filename)}).catch(downloadByUrl):downloadByUrl()},fallback:function(featureId){},error:function(message,moreInfo){var moreInfoText=[this.l10n.get("error_version_info",{version:_pdfjsLib.version||"?",build:_pdfjsLib.build||"?"},"PDF.js v{{version}} (build: {{build}})")],moreInfo=(moreInfo&&(moreInfoText.push(this.l10n.get("error_message",{message:moreInfo.message},"Message: {{message}}")),moreInfo.stack?moreInfoText.push(this.l10n.get("error_stack",{stack:moreInfo.stack},"Stack: {{stack}}")):(moreInfo.filename&&moreInfoText.push(this.l10n.get("error_file",{file:moreInfo.filename},"File: {{file}}")),moreInfo.lineNumber&&moreInfoText.push(this.l10n.get("error_line",{line:moreInfo.lineNumber},"Line: {{line}}")))),this.appConfig.errorWrapper),errorWrapper=moreInfo.container;errorWrapper.removeAttribute("hidden");moreInfo.errorMessage.textContent=message;var message=moreInfo.closeButton,errorMoreInfo=(message.onclick=function(){errorWrapper.setAttribute("hidden","true")},moreInfo.errorMoreInfo),moreInfoButton=moreInfo.moreInfoButton,lessInfoButton=moreInfo.lessInfoButton;moreInfoButton.onclick=function(){errorMoreInfo.removeAttribute("hidden"),moreInfoButton.setAttribute("hidden","true"),lessInfoButton.removeAttribute("hidden"),errorMoreInfo.style.height=errorMoreInfo.scrollHeight+"px"},lessInfoButton.onclick=function(){errorMoreInfo.setAttribute("hidden","true"),moreInfoButton.removeAttribute("hidden"),lessInfoButton.setAttribute("hidden","true")},moreInfoButton.oncontextmenu=_ui_utils.noContextMenuHandler,lessInfoButton.oncontextmenu=_ui_utils.noContextMenuHandler,message.oncontextmenu=_ui_utils.noContextMenuHandler,moreInfoButton.removeAttribute("hidden"),lessInfoButton.setAttribute("hidden","true"),Promise.all(moreInfoText).then(function(parts){errorMoreInfo.value=parts.join("\n")})},progress:function(level){var _this4=this;this.downloadComplete||((level=Math.round(100*level))>this.loadingBar.percent||isNaN(level))&&(this.loadingBar.percent=level,this.pdfDocument?this.pdfDocument.loadingParams.disableAutoFetch:_app_options.AppOptions.get("disableAutoFetch"))&&level&&(this.disableAutoFetchLoadingBarTimeout&&(clearTimeout(this.disableAutoFetchLoadingBarTimeout),this.disableAutoFetchLoadingBarTimeout=null),this.loadingBar.show(),this.disableAutoFetchLoadingBarTimeout=setTimeout(function(){_this4.loadingBar.hide(),_this4.disableAutoFetchLoadingBarTimeout=null},5e3))},load:function(pdfDocument){var _this5=this,pageLayoutPromise=((this.pdfDocument=pdfDocument).getDownloadInfo().then(function(){_this5.downloadComplete=!0,_this5.loadingBar.hide(),firstPagePromise.then(function(){_this5.eventBus.dispatch("documentloaded",{source:_this5})})}),pdfDocument.getPageLayout().catch(function(){})),pageModePromise=pdfDocument.getPageMode().catch(function(){}),openActionDestPromise=pdfDocument.getOpenActionDestination().catch(function(){}),store=(this.toolbar.setPagesCount(pdfDocument.numPages,!1),this.secondaryToolbar.setPagesCount(pdfDocument.numPages),this.store=new _view_history.ViewHistory(pdfDocument.fingerprint)),pdfViewer=(this.pdfLinkService.setDocument(pdfDocument,null),this.pdfDocumentProperties.setDocument(pdfDocument,this.url),this.pdfViewer),firstPagePromise=(pdfViewer.setDocument(pdfDocument),pdfViewer.firstPagePromise),pagesPromise=pdfViewer.pagesPromise,onePageRendered=pdfViewer.onePageRendered,pdfThumbnailViewer=this.pdfThumbnailViewer;pdfThumbnailViewer.setDocument(pdfDocument),firstPagePromise.then(function(pdfPage){_this5.loadingBar.setWidth(_this5.appConfig.viewerContainer);var storePromise=store.getMultiple({page:null,zoom:_ui_utils.DEFAULT_SCALE_VALUE,scrollLeft:"0",scrollTop:"0",rotation:null,sidebarView:_pdf_sidebar.SidebarView.UNKNOWN,scrollMode:_ui_utils.ScrollMode.UNKNOWN,spreadMode:_ui_utils.SpreadMode.UNKNOWN}).catch(function(){});Promise.all([_ui_utils.animationStarted,storePromise,pageLayoutPromise,pageModePromise,openActionDestPromise]).then((()=>{var _ref3=_asyncToGenerator(_regenerator.default.mark(function _callee8(_ref2){var _ref4$,pageLayout,pageMode,viewOnLoad,_ref4,zoom,hash,rotation,sidebarView,scrollMode,spreadMode;return _regenerator.default.wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _ref4=_slicedToArray(_ref2,5),_ref4[0],_ref4$=void 0===(_ref4$=_ref4[1])?{}:_ref4$,pageLayout=_ref4[2],pageMode=_ref4[3],_ref4=_ref4[4],viewOnLoad=_app_options.AppOptions.get("viewOnLoad"),_this5._initializePdfHistory({fingerprint:pdfDocument.fingerprint,viewOnLoad:viewOnLoad,initialDest:_ref4}),_ref4=_this5.initialBookmark,zoom=_app_options.AppOptions.get("defaultZoomValue"),hash=zoom?"zoom=".concat(zoom):null,rotation=null,sidebarView=_app_options.AppOptions.get("sidebarViewOnLoad"),scrollMode=_app_options.AppOptions.get("scrollModeOnLoad"),spreadMode=_app_options.AppOptions.get("spreadModeOnLoad"),_ref4$.page&&viewOnLoad!==ViewOnLoad_INITIAL&&(hash="page=".concat(_ref4$.page,"&zoom=").concat(zoom||_ref4$.zoom,",")+"".concat(_ref4$.scrollLeft,",").concat(_ref4$.scrollTop),rotation=parseInt(_ref4$.rotation,10),sidebarView===_pdf_sidebar.SidebarView.UNKNOWN&&(sidebarView=0|_ref4$.sidebarView),scrollMode===_ui_utils.ScrollMode.UNKNOWN&&(scrollMode=0|_ref4$.scrollMode),spreadMode===_ui_utils.SpreadMode.UNKNOWN)&&(spreadMode=0|_ref4$.spreadMode),pageMode&&sidebarView===_pdf_sidebar.SidebarView.UNKNOWN&&(sidebarView=(mode=>{switch(mode){case"UseNone":return _pdf_sidebar.SidebarView.NONE;case"UseThumbs":return _pdf_sidebar.SidebarView.THUMBS;case"UseOutlines":return _pdf_sidebar.SidebarView.OUTLINE;case"UseAttachments":return _pdf_sidebar.SidebarView.ATTACHMENTS}return _pdf_sidebar.SidebarView.NONE})(pageMode)),pageLayout&&spreadMode===_ui_utils.SpreadMode.UNKNOWN&&(spreadMode=(layout=>{switch(layout){case"SinglePage":case"OneColumn":return _ui_utils.SpreadMode.NONE;case"TwoColumnLeft":case"TwoPageLeft":return _ui_utils.SpreadMode.ODD;case"TwoColumnRight":case"TwoPageRight":return _ui_utils.SpreadMode.EVEN}return _ui_utils.SpreadMode.NONE})(pageLayout)),_this5.setInitialView(hash,{rotation:rotation,sidebarView:sidebarView,scrollMode:scrollMode,spreadMode:spreadMode}),_this5.eventBus.dispatch("documentinit",{source:_this5}),_this5.isViewerEmbedded||pdfViewer.focus(),_context8.next=18,Promise.race([pagesPromise,new Promise(function(resolve){setTimeout(resolve,1e4)})]);case 18:if(_ref4||hash){_context8.next=20;break}return _context8.abrupt("return");case 20:if(pdfViewer.hasEqualPageSizes)return _context8.abrupt("return");_context8.next=22;break;case 22:_this5.initialBookmark=_ref4,pdfViewer.currentScaleValue=pdfViewer.currentScaleValue,_this5.setInitialView(hash);case 25:case"end":return _context8.stop()}},_callee8)}));return function(_x4){return _ref3.apply(this,arguments)}})()).catch(function(){_this5.setInitialView()}).then(function(){pdfViewer.update()})}),pdfDocument.getPageLabels().then(function(labels){if(labels&&!_app_options.AppOptions.get("disablePageLabels")){var i=0,numLabels=labels.length;if(numLabels!==_this5.pagesCount)console.error("The number of Page Labels does not match the number of pages in the document.");else{for(;i<numLabels&&labels[i]===(i+1).toString();)i++;i!==numLabels&&(pdfViewer.setPageLabels(labels),pdfThumbnailViewer.setPageLabels(labels),_this5.toolbar.setPagesCount(pdfDocument.numPages,!0),_this5.toolbar.setPageNumber(pdfViewer.currentPageNumber,pdfViewer.currentPageLabel))}}}),pagesPromise.then(function(){_this5.supportsPrinting&&pdfDocument.getJavaScript().then(function(javaScript){if(javaScript){javaScript.some(function(js){return!!js&&(console.warn("Warning: JavaScript is not supported"),_this5.fallback(_pdfjsLib.UNSUPPORTED_FEATURES.javaScript),!0)});for(var regex=/\bprint\s*\(/,i=0,ii=javaScript.length;i<ii;i++){var js=javaScript[i];if(js&&regex.test(js))return void setTimeout(function(){window.print()})}}})}),onePageRendered.then(function(){pdfDocument.getOutline().then(function(outline){_this5.pdfOutlineViewer.render({outline:outline})}),pdfDocument.getAttachments().then(function(attachments){_this5.pdfAttachmentViewer.render({attachments:attachments})})}),pdfDocument.getMetadata().then(function(_ref5){var pdfTitle,info=_ref5.info,metadata=_ref5.metadata,_ref5=_ref5.contentDispositionFilename;_this5.documentInfo=info,_this5.metadata=metadata,_this5.contentDispositionFilename=_ref5,console.log("PDF "+pdfDocument.fingerprint+" ["+info.PDFFormatVersion+" "+(info.Producer||"-").trim()+" / "+(info.Creator||"-").trim()+"] (PDF.js: "+(_pdfjsLib.version||"-")+(_app_options.AppOptions.get("enableWebGL")?" [WebGL]":"")+")"),(pdfTitle=!(pdfTitle=metadata&&metadata.has("dc:title")&&"Untitled"!==(metadata=metadata.get("dc:title"))?metadata:pdfTitle)&&info&&info.Title?info.Title:pdfTitle)?_this5.setTitle("".concat(pdfTitle," - ").concat(_ref5||document.title)):_ref5&&_this5.setTitle(_ref5),info.IsAcroFormPresent&&(console.warn("Warning: AcroForm/XFA is not supported"),_this5.fallback(_pdfjsLib.UNSUPPORTED_FEATURES.forms))})},_initializePdfHistory:function(_ref6){var fingerprint=_ref6.fingerprint,viewOnLoad=_ref6.viewOnLoad,_ref6=_ref6.initialDest,_ref6=void 0===_ref6?null:_ref6;_app_options.AppOptions.get("disableHistory")||this.isViewerEmbedded||(this.pdfHistory.initialize({fingerprint:fingerprint,resetHistory:viewOnLoad===ViewOnLoad_INITIAL,updateUrl:_app_options.AppOptions.get("historyUpdateUrl")}),this.pdfHistory.initialBookmark&&(this.initialBookmark=this.pdfHistory.initialBookmark,this.initialRotation=this.pdfHistory.initialRotation),_ref6&&!this.initialBookmark&&viewOnLoad===ViewOnLoad_UNKNOWN&&(this.initialBookmark=JSON.stringify(_ref6),this.pdfHistory.push({explicitDest:_ref6,pageNumber:null})))},setInitialView:function(storedHash){function setRotation(angle){(0,_ui_utils.isValidRotation)(angle)&&(_this6.pdfViewer.pagesRotation=angle)}var _this6=this,_ref7=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},rotation=_ref7.rotation,sidebarView=_ref7.sidebarView,scrollMode=_ref7.scrollMode,_ref7=_ref7.spreadMode;this.isInitialViewSet=!0,this.pdfSidebar.setInitialView(sidebarView),sidebarView=scrollMode,scrollMode=_ref7,(0,_ui_utils.isValidScrollMode)(sidebarView)&&(_this6.pdfViewer.scrollMode=sidebarView),(0,_ui_utils.isValidSpreadMode)(scrollMode)&&(_this6.pdfViewer.spreadMode=scrollMode),this.initialBookmark?(setRotation(this.initialRotation),delete this.initialRotation,this.pdfLinkService.setHash(this.initialBookmark),this.initialBookmark=null):storedHash&&(setRotation(rotation),this.pdfLinkService.setHash(storedHash)),this.toolbar.setPageNumber(this.pdfViewer.currentPageNumber,this.pdfViewer.currentPageLabel),this.secondaryToolbar.setPageNumber(this.pdfViewer.currentPageNumber),this.pdfViewer.currentScaleValue||(this.pdfViewer.currentScaleValue=_ui_utils.DEFAULT_SCALE_VALUE)},cleanup:function(){this.pdfDocument&&(this.pdfViewer.cleanup(),this.pdfThumbnailViewer.cleanup(),this.pdfViewer.renderer!==_ui_utils.RendererType.SVG)&&this.pdfDocument.cleanup()},forceRendering:function(){this.pdfRenderingQueue.printing=this.printing,this.pdfRenderingQueue.isThumbnailViewEnabled=this.pdfSidebar.isThumbnailViewVisible,this.pdfRenderingQueue.renderHighestPriority()},beforePrint:function(){var printContainer,pagesOverview,_this7=this;this.printService||(this.supportsPrinting?this.pdfViewer.pageViewsReady?(pagesOverview=this.pdfViewer.getPagesOverview(),printContainer=this.appConfig.printContainer,pagesOverview=PDFPrintServiceFactory.instance.createPrintService(this.pdfDocument,pagesOverview,printContainer,this.l10n),this.printService=pagesOverview,this.forceRendering(),pagesOverview.layout()):this.l10n.get("printing_not_ready",null,"Warning: The PDF is not fully loaded for printing.").then(function(notReadyMessage){window.alert(notReadyMessage)}):this.l10n.get("printing_not_supported",null,"Warning: Printing is not fully supported by this browser.").then(function(printMessage){_this7.error(printMessage)}))},afterPrint:function(){this.printService&&(this.printService.destroy(),this.printService=null),this.forceRendering()},rotatePages:function(delta){this.pdfDocument&&(delta=(this.pdfViewer.pagesRotation+360+delta)%360,this.pdfViewer.pagesRotation=delta)},requestPresentationMode:function(){this.pdfPresentationMode&&this.pdfPresentationMode.request()},bindEvents:function(){var eventBus=this.eventBus,_boundEvents=this._boundEvents;_boundEvents.beforePrint=this.beforePrint.bind(this),_boundEvents.afterPrint=this.afterPrint.bind(this),eventBus.on("resize",webViewerResize),eventBus.on("hashchange",webViewerHashchange),eventBus.on("beforeprint",_boundEvents.beforePrint),eventBus.on("afterprint",_boundEvents.afterPrint),eventBus.on("pagerendered",webViewerPageRendered),eventBus.on("textlayerrendered",webViewerTextLayerRendered),eventBus.on("updateviewarea",webViewerUpdateViewarea),eventBus.on("pagechanging",webViewerPageChanging),eventBus.on("scalechanging",webViewerScaleChanging),eventBus.on("rotationchanging",webViewerRotationChanging),eventBus.on("sidebarviewchanged",webViewerSidebarViewChanged),eventBus.on("pagemode",webViewerPageMode),eventBus.on("namedaction",webViewerNamedAction),eventBus.on("presentationmodechanged",webViewerPresentationModeChanged),eventBus.on("presentationmode",webViewerPresentationMode),eventBus.on("openfile",webViewerOpenFile),eventBus.on("print",webViewerPrint),eventBus.on("download",webViewerDownload),eventBus.on("firstpage",webViewerFirstPage),eventBus.on("lastpage",webViewerLastPage),eventBus.on("nextpage",webViewerNextPage),eventBus.on("previouspage",webViewerPreviousPage),eventBus.on("zoomin",webViewerZoomIn),eventBus.on("zoomout",webViewerZoomOut),eventBus.on("zoomreset",webViewerZoomReset),eventBus.on("pagenumberchanged",webViewerPageNumberChanged),eventBus.on("scalechanged",webViewerScaleChanged),eventBus.on("rotatecw",webViewerRotateCw),eventBus.on("rotateccw",webViewerRotateCcw),eventBus.on("switchscrollmode",webViewerSwitchScrollMode),eventBus.on("scrollmodechanged",webViewerScrollModeChanged),eventBus.on("switchspreadmode",webViewerSwitchSpreadMode),eventBus.on("spreadmodechanged",webViewerSpreadModeChanged),eventBus.on("documentproperties",webViewerDocumentProperties),eventBus.on("find",webViewerFind),eventBus.on("findfromurlhash",webViewerFindFromUrlHash),eventBus.on("updatefindmatchescount",webViewerUpdateFindMatchesCount),eventBus.on("updatefindcontrolstate",webViewerUpdateFindControlState),eventBus.on("fileinputchange",webViewerFileInputChange)},bindWindowEvents:function(){var eventBus=this.eventBus,_boundEvents=this._boundEvents;_boundEvents.windowResize=function(){eventBus.dispatch("resize",{source:window})},_boundEvents.windowHashChange=function(){eventBus.dispatch("hashchange",{source:window,hash:document.location.hash.substring(1)})},_boundEvents.windowBeforePrint=function(){eventBus.dispatch("beforeprint",{source:window})},_boundEvents.windowAfterPrint=function(){eventBus.dispatch("afterprint",{source:window})},window.addEventListener("visibilitychange",webViewerVisibilityChange),window.addEventListener("wheel",webViewerWheel,{passive:!1}),window.addEventListener("click",webViewerClick),window.addEventListener("keydown",webViewerKeyDown),window.addEventListener("resize",_boundEvents.windowResize),window.addEventListener("hashchange",_boundEvents.windowHashChange),window.addEventListener("beforeprint",_boundEvents.windowBeforePrint),window.addEventListener("afterprint",_boundEvents.windowAfterPrint)},unbindEvents:function(){var eventBus=this.eventBus,_boundEvents=this._boundEvents;eventBus.off("resize",webViewerResize),eventBus.off("hashchange",webViewerHashchange),eventBus.off("beforeprint",_boundEvents.beforePrint),eventBus.off("afterprint",_boundEvents.afterPrint),eventBus.off("pagerendered",webViewerPageRendered),eventBus.off("textlayerrendered",webViewerTextLayerRendered),eventBus.off("updateviewarea",webViewerUpdateViewarea),eventBus.off("pagechanging",webViewerPageChanging),eventBus.off("scalechanging",webViewerScaleChanging),eventBus.off("rotationchanging",webViewerRotationChanging),eventBus.off("sidebarviewchanged",webViewerSidebarViewChanged),eventBus.off("pagemode",webViewerPageMode),eventBus.off("namedaction",webViewerNamedAction),eventBus.off("presentationmodechanged",webViewerPresentationModeChanged),eventBus.off("presentationmode",webViewerPresentationMode),eventBus.off("openfile",webViewerOpenFile),eventBus.off("print",webViewerPrint),eventBus.off("download",webViewerDownload),eventBus.off("firstpage",webViewerFirstPage),eventBus.off("lastpage",webViewerLastPage),eventBus.off("nextpage",webViewerNextPage),eventBus.off("previouspage",webViewerPreviousPage),eventBus.off("zoomin",webViewerZoomIn),eventBus.off("zoomout",webViewerZoomOut),eventBus.off("zoomreset",webViewerZoomReset),eventBus.off("pagenumberchanged",webViewerPageNumberChanged),eventBus.off("scalechanged",webViewerScaleChanged),eventBus.off("rotatecw",webViewerRotateCw),eventBus.off("rotateccw",webViewerRotateCcw),eventBus.off("switchscrollmode",webViewerSwitchScrollMode),eventBus.off("scrollmodechanged",webViewerScrollModeChanged),eventBus.off("switchspreadmode",webViewerSwitchSpreadMode),eventBus.off("spreadmodechanged",webViewerSpreadModeChanged),eventBus.off("documentproperties",webViewerDocumentProperties),eventBus.off("find",webViewerFind),eventBus.off("findfromurlhash",webViewerFindFromUrlHash),eventBus.off("updatefindmatchescount",webViewerUpdateFindMatchesCount),eventBus.off("updatefindcontrolstate",webViewerUpdateFindControlState),eventBus.off("fileinputchange",webViewerFileInputChange),_boundEvents.beforePrint=null,_boundEvents.afterPrint=null},unbindWindowEvents:function(){var _boundEvents=this._boundEvents;window.removeEventListener("visibilitychange",webViewerVisibilityChange),window.removeEventListener("wheel",webViewerWheel),window.removeEventListener("click",webViewerClick),window.removeEventListener("keydown",webViewerKeyDown),window.removeEventListener("resize",_boundEvents.windowResize),window.removeEventListener("hashchange",_boundEvents.windowHashChange),window.removeEventListener("beforeprint",_boundEvents.windowBeforePrint),window.removeEventListener("afterprint",_boundEvents.windowAfterPrint),_boundEvents.windowResize=null,_boundEvents.windowHashChange=null,_boundEvents.windowBeforePrint=null,_boundEvents.windowAfterPrint=null}}),HOSTED_VIEWER_ORIGINS=(exports.PDFViewerApplication=PDFViewerApplication,["null","http://mozilla.github.io","https://mozilla.github.io"]),validateFileURL=function(file){if(void 0!==file)try{var viewerOrigin=new URL(window.location.href).origin||"null";if(!HOSTED_VIEWER_ORIGINS.includes(viewerOrigin)){var _ref8=new URL(file,window.location.href);if(_ref8.origin!==viewerOrigin&&"blob:"!==_ref8.protocol)throw new Error("file origin does not match viewer's")}}catch(ex){var message=ex&&ex.message;throw PDFViewerApplication.l10n.get("loading_error",null,"An error occurred while loading the PDF.").then(function(loadingErrorMessage){PDFViewerApplication.error(loadingErrorMessage,{message:message})}),ex}};function webViewerInitialized(){var appConfig=PDFViewerApplication.appConfig,queryString=document.location.search.substring(1),queryString=(0,_ui_utils.parseQueryString)(queryString),queryString="file"in queryString?queryString.file:_app_options.AppOptions.get("defaultUrl"),fileInput=(validateFileURL(queryString),document.createElement("input"));fileInput.id=appConfig.openFileInputName,fileInput.className="fileInput",fileInput.setAttribute("type","file"),fileInput.oncontextmenu=_ui_utils.noContextMenuHandler,document.body.appendChild(fileInput),window.File&&window.FileReader&&window.FileList&&window.Blob?fileInput.value=null:(appConfig.toolbar.openFile.setAttribute("hidden","true"),appConfig.secondaryToolbar.openFileButton.setAttribute("hidden","true")),fileInput.addEventListener("change",function(evt){var files=evt.target.files;files&&0!==files.length&&PDFViewerApplication.eventBus.dispatch("fileinputchange",{source:this,fileInput:evt.target})}),appConfig.mainContainer.addEventListener("dragover",function(evt){evt.preventDefault(),evt.dataTransfer.dropEffect="move"}),appConfig.mainContainer.addEventListener("drop",function(evt){evt.preventDefault();var files=evt.dataTransfer.files;files&&0!==files.length&&PDFViewerApplication.eventBus.dispatch("fileinputchange",{source:this,fileInput:evt.dataTransfer})}),PDFViewerApplication.supportsPrinting||(appConfig.toolbar.print.classList.add("hidden"),appConfig.secondaryToolbar.printButton.classList.add("hidden")),PDFViewerApplication.supportsFullscreen||(appConfig.toolbar.presentationModeButton.classList.add("hidden"),appConfig.secondaryToolbar.presentationModeButton.classList.add("hidden")),PDFViewerApplication.supportsIntegratedFind&&appConfig.toolbar.viewFind.classList.add("hidden"),appConfig.mainContainer.addEventListener("transitionend",function(evt){evt.target===this&&PDFViewerApplication.eventBus.dispatch("resize",{source:this})},!0);try{webViewerOpenFileViaURL(queryString)}catch(reason){PDFViewerApplication.l10n.get("loading_error",null,"An error occurred while loading the PDF.").then(function(msg){PDFViewerApplication.error(msg,reason)})}}function webViewerPageRendered(evt){var evt=evt.pageNumber,pageIndex=evt-1,pageView=PDFViewerApplication.pdfViewer.getPageView(pageIndex);evt===PDFViewerApplication.page&&PDFViewerApplication.toolbar.updateLoadingIndicatorState(!1),pageView&&(PDFViewerApplication.pdfSidebar.isThumbnailViewVisible&&PDFViewerApplication.pdfThumbnailViewer.getThumbnail(pageIndex).setImage(pageView),"undefined"!=typeof Stats&&Stats.enabled&&pageView.stats&&Stats.add(evt,pageView.stats),pageView.error)&&PDFViewerApplication.l10n.get("rendering_error",null,"An error occurred while rendering the page.").then(function(msg){PDFViewerApplication.error(msg,pageView.error)})}function webViewerTextLayerRendered(evt){}function webViewerPageMode(evt){var view,mode=evt.mode;switch(mode){case"thumbs":view=_pdf_sidebar.SidebarView.THUMBS;break;case"bookmarks":case"outline":view=_pdf_sidebar.SidebarView.OUTLINE;break;case"attachments":view=_pdf_sidebar.SidebarView.ATTACHMENTS;break;case"none":view=_pdf_sidebar.SidebarView.NONE;break;default:return void console.error('Invalid "pagemode" hash parameter: '+mode)}PDFViewerApplication.pdfSidebar.switchView(view,!0)}function webViewerNamedAction(evt){switch(evt.action){case"GoToPage":PDFViewerApplication.appConfig.toolbar.pageNumber.select();break;case"Find":PDFViewerApplication.supportsIntegratedFind||PDFViewerApplication.findBar.toggle()}}function webViewerPresentationModeChanged(evt){var active=evt.active;PDFViewerApplication.pdfViewer.presentationModeState=evt.switchInProgress?_ui_utils.PresentationModeState.CHANGING:active?_ui_utils.PresentationModeState.FULLSCREEN:_ui_utils.PresentationModeState.NORMAL}function webViewerSidebarViewChanged(evt){PDFViewerApplication.pdfRenderingQueue.isThumbnailViewEnabled=PDFViewerApplication.pdfSidebar.isThumbnailViewVisible;var store=PDFViewerApplication.store;store&&PDFViewerApplication.isInitialViewSet&&store.set("sidebarView",evt.view).catch(function(){})}function webViewerUpdateViewarea(evt){var evt=evt.location,store=PDFViewerApplication.store,store=(store&&PDFViewerApplication.isInitialViewSet&&store.setMultiple({page:evt.pageNumber,zoom:evt.scale,scrollLeft:evt.left,scrollTop:evt.top,rotation:evt.rotation}).catch(function(){}),PDFViewerApplication.pdfLinkService.getAnchorUrl(evt.pdfOpenParams));PDFViewerApplication.appConfig.toolbar.viewBookmark.href=store,PDFViewerApplication.appConfig.secondaryToolbar.viewBookmarkButton.href=store;evt=PDFViewerApplication.pdfViewer.getPageView(PDFViewerApplication.page-1).renderingState!==_pdf_rendering_queue.RenderingStates.FINISHED;PDFViewerApplication.toolbar.updateLoadingIndicatorState(evt)}function webViewerScrollModeChanged(evt){var store=PDFViewerApplication.store;store&&PDFViewerApplication.isInitialViewSet&&store.set("scrollMode",evt.mode).catch(function(){})}function webViewerSpreadModeChanged(evt){var store=PDFViewerApplication.store;store&&PDFViewerApplication.isInitialViewSet&&store.set("spreadMode",evt.mode).catch(function(){})}function webViewerResize(){var pdfDocument=PDFViewerApplication.pdfDocument,pdfViewer=PDFViewerApplication.pdfViewer;pdfDocument&&("auto"!==(pdfDocument=pdfViewer.currentScaleValue)&&"page-fit"!==pdfDocument&&"page-width"!==pdfDocument||(pdfViewer.currentScaleValue=pdfDocument),pdfViewer.update())}function webViewerHashchange(evt){evt=evt.hash;evt&&(PDFViewerApplication.isInitialViewSet?PDFViewerApplication.pdfHistory.popStateInProgress||PDFViewerApplication.pdfLinkService.setHash(evt):PDFViewerApplication.initialBookmark=evt)}function webViewerPresentationMode(){PDFViewerApplication.requestPresentationMode()}function webViewerOpenFile(){var openFileInputName=PDFViewerApplication.appConfig.openFileInputName;document.getElementById(openFileInputName).click()}function webViewerPrint(){window.print()}function webViewerDownload(){PDFViewerApplication.download()}function webViewerFirstPage(){PDFViewerApplication.pdfDocument&&(PDFViewerApplication.page=1)}function webViewerLastPage(){PDFViewerApplication.pdfDocument&&(PDFViewerApplication.page=PDFViewerApplication.pagesCount)}function webViewerNextPage(){PDFViewerApplication.page++}function webViewerPreviousPage(){PDFViewerApplication.page--}function webViewerZoomIn(){PDFViewerApplication.zoomIn()}function webViewerZoomOut(){PDFViewerApplication.zoomOut()}function webViewerZoomReset(){PDFViewerApplication.zoomReset()}function webViewerPageNumberChanged(evt){var pdfViewer=PDFViewerApplication.pdfViewer;""!==evt.value&&(pdfViewer.currentPageLabel=evt.value),evt.value!==pdfViewer.currentPageNumber.toString()&&evt.value!==pdfViewer.currentPageLabel&&PDFViewerApplication.toolbar.setPageNumber(pdfViewer.currentPageNumber,pdfViewer.currentPageLabel)}function webViewerScaleChanged(evt){PDFViewerApplication.pdfViewer.currentScaleValue=evt.value}function webViewerRotateCw(){PDFViewerApplication.rotatePages(90)}function webViewerRotateCcw(){PDFViewerApplication.rotatePages(-90)}function webViewerSwitchScrollMode(evt){PDFViewerApplication.pdfViewer.scrollMode=evt.mode}function webViewerSwitchSpreadMode(evt){PDFViewerApplication.pdfViewer.spreadMode=evt.mode}function webViewerDocumentProperties(){PDFViewerApplication.pdfDocumentProperties.open()}function webViewerFind(evt){PDFViewerApplication.findController.executeCommand("find"+evt.type,{query:evt.query,phraseSearch:evt.phraseSearch,caseSensitive:evt.caseSensitive,entireWord:evt.entireWord,highlightAll:evt.highlightAll,findPrevious:evt.findPrevious})}function webViewerFindFromUrlHash(evt){PDFViewerApplication.findController.executeCommand("find",{query:evt.query,phraseSearch:evt.phraseSearch,caseSensitive:!1,entireWord:!1,highlightAll:!0,findPrevious:!1})}function webViewerUpdateFindMatchesCount(_ref9){_ref9=_ref9.matchesCount;PDFViewerApplication.supportsIntegratedFind?PDFViewerApplication.externalServices.updateFindMatchesCount(_ref9):PDFViewerApplication.findBar.updateResultsCount(_ref9)}function webViewerUpdateFindControlState(_ref10){var state=_ref10.state,previous=_ref10.previous,_ref10=_ref10.matchesCount;PDFViewerApplication.supportsIntegratedFind?PDFViewerApplication.externalServices.updateFindControlState({result:state,findPrevious:previous,matchesCount:_ref10}):PDFViewerApplication.findBar.updateUIState(state,previous,_ref10)}function webViewerScaleChanging(evt){PDFViewerApplication.toolbar.setPageScale(evt.presetValue,evt.scale),PDFViewerApplication.pdfViewer.update()}function webViewerRotationChanging(evt){PDFViewerApplication.pdfThumbnailViewer.pagesRotation=evt.pagesRotation,PDFViewerApplication.forceRendering(),PDFViewerApplication.pdfViewer.currentPageNumber=evt.pageNumber}function webViewerPageChanging(evt){var page=evt.pageNumber;PDFViewerApplication.toolbar.setPageNumber(page,evt.pageLabel||null),PDFViewerApplication.secondaryToolbar.setPageNumber(page),PDFViewerApplication.pdfSidebar.isThumbnailViewVisible&&PDFViewerApplication.pdfThumbnailViewer.scrollThumbnailIntoView(page),"undefined"!=typeof Stats&&Stats.enabled&&(evt=PDFViewerApplication.pdfViewer.getPageView(page-1))&&evt.stats&&Stats.add(page,evt.stats)}function webViewerVisibilityChange(evt){"visible"===document.visibilityState&&setZoomDisabledTimeout()}var webViewerOpenFileViaURL=function(file){var xhr;file&&0===file.lastIndexOf("file:",0)?(PDFViewerApplication.setTitleUsingUrl(file),(xhr=new XMLHttpRequest).onload=function(){PDFViewerApplication.open(new Uint8Array(xhr.response))},xhr.open("GET",file),xhr.responseType="arraybuffer",xhr.send()):file&&PDFViewerApplication.open(file)},webViewerFileInputChange=function(evt){var url;PDFViewerApplication.pdfViewer&&PDFViewerApplication.pdfViewer.isInPresentationMode||(evt=evt.fileInput.files[0],URL.createObjectURL&&!_app_options.AppOptions.get("disableCreateObjectURL")?(url=URL.createObjectURL(evt),evt.name&&(url={url:url,originalUrl:evt.name}),PDFViewerApplication.open(url)):(PDFViewerApplication.setTitleUsingUrl(evt.name),(url=new FileReader).onload=function(evt){evt=evt.target.result;PDFViewerApplication.open(new Uint8Array(evt))},url.readAsArrayBuffer(evt)),(url=PDFViewerApplication.appConfig).toolbar.viewBookmark.setAttribute("hidden","true"),url.secondaryToolbar.viewBookmarkButton.setAttribute("hidden","true"),url.toolbar.download.setAttribute("hidden","true"),url.secondaryToolbar.downloadButton.setAttribute("hidden","true"))},zoomDisabledTimeout=null;function setZoomDisabledTimeout(){zoomDisabledTimeout&&clearTimeout(zoomDisabledTimeout),zoomDisabledTimeout=setTimeout(function(){zoomDisabledTimeout=null},WHEEL_ZOOM_DISABLED_TIMEOUT)}function webViewerWheel(evt){var ticks,dx,pdfViewer=PDFViewerApplication.pdfViewer,supportedMouseWheelZoomModifierKeys=PDFViewerApplication.supportedMouseWheelZoomModifierKeys;pdfViewer.isInPresentationMode||(evt.ctrlKey&&supportedMouseWheelZoomModifierKeys.ctrlKey||evt.metaKey&&supportedMouseWheelZoomModifierKeys.metaKey?(evt.preventDefault(),zoomDisabledTimeout||"hidden"===document.visibilityState||(supportedMouseWheelZoomModifierKeys=pdfViewer.currentScale,(ticks=3*(0,_ui_utils.normalizeWheelEventDelta)(evt))<0?PDFViewerApplication.zoomOut(-ticks):PDFViewerApplication.zoomIn(ticks),supportedMouseWheelZoomModifierKeys!==(ticks=pdfViewer.currentScale)&&(ticks=ticks/supportedMouseWheelZoomModifierKeys-1,supportedMouseWheelZoomModifierKeys=pdfViewer.container.getBoundingClientRect(),dx=evt.clientX-supportedMouseWheelZoomModifierKeys.left,evt=evt.clientY-supportedMouseWheelZoomModifierKeys.top,pdfViewer.container.scrollLeft+=dx*ticks,pdfViewer.container.scrollTop+=evt*ticks))):setZoomDisabledTimeout())}function webViewerClick(evt){var appConfig;PDFViewerApplication.secondaryToolbar.isOpen&&(appConfig=PDFViewerApplication.appConfig,PDFViewerApplication.pdfViewer.containsElement(evt.target)||appConfig.toolbar.container.contains(evt.target)&&evt.target!==appConfig.secondaryToolbar.toggleButton)&&PDFViewerApplication.secondaryToolbar.close()}function webViewerKeyDown(evt){if(!PDFViewerApplication.overlayManager.active){var findState,handled=!1,ensureViewerFocused=!1,cmd=(evt.ctrlKey?1:0)|(evt.altKey?2:0)|(evt.shiftKey?4:0)|(evt.metaKey?8:0),pdfViewer=PDFViewerApplication.pdfViewer,isViewerInPresentationMode=pdfViewer&&pdfViewer.isInPresentationMode;if(1==cmd||8==cmd||5==cmd||12==cmd)switch(evt.keyCode){case 70:PDFViewerApplication.supportsIntegratedFind||(PDFViewerApplication.findBar.open(),handled=!0);break;case 71:PDFViewerApplication.supportsIntegratedFind||((findState=PDFViewerApplication.findController.state)&&PDFViewerApplication.findController.executeCommand("findagain",{query:findState.query,phraseSearch:findState.phraseSearch,caseSensitive:findState.caseSensitive,entireWord:findState.entireWord,highlightAll:findState.highlightAll,findPrevious:5==cmd||12==cmd}),handled=!0);break;case 61:case 107:case 187:case 171:isViewerInPresentationMode||PDFViewerApplication.zoomIn(),handled=!0;break;case 173:case 109:case 189:isViewerInPresentationMode||PDFViewerApplication.zoomOut(),handled=!0;break;case 48:case 96:isViewerInPresentationMode||(setTimeout(function(){PDFViewerApplication.zoomReset()}),handled=!1);break;case 38:(isViewerInPresentationMode||1<PDFViewerApplication.page)&&(PDFViewerApplication.page=1,ensureViewerFocused=handled=!0);break;case 40:(isViewerInPresentationMode||PDFViewerApplication.page<PDFViewerApplication.pagesCount)&&(PDFViewerApplication.page=PDFViewerApplication.pagesCount,ensureViewerFocused=handled=!0)}if(1!=cmd&&8!=cmd||83===evt.keyCode&&(PDFViewerApplication.download(),handled=!0),3==cmd||10==cmd)switch(evt.keyCode){case 80:PDFViewerApplication.requestPresentationMode(),handled=!0;break;case 71:PDFViewerApplication.appConfig.toolbar.pageNumber.select(),handled=!0}if(handled)ensureViewerFocused&&!isViewerInPresentationMode&&pdfViewer.focus(),evt.preventDefault();else{var curElement=document.activeElement||document.querySelector(":focus"),curElementTagName=curElement&&curElement.tagName.toUpperCase();if("INPUT"!==curElementTagName&&"TEXTAREA"!==curElementTagName&&"SELECT"!==curElementTagName||27===evt.keyCode){if(0==cmd){var turnPage=0,turnOnlyIfPageFit=!1;switch(evt.keyCode){case 38:case 33:pdfViewer.isVerticalScrollbarEnabled&&(turnOnlyIfPageFit=!0),turnPage=-1;break;case 8:isViewerInPresentationMode||(turnOnlyIfPageFit=!0),turnPage=-1;break;case 37:pdfViewer.isHorizontalScrollbarEnabled&&(turnOnlyIfPageFit=!0);case 75:case 80:turnPage=-1;break;case 27:PDFViewerApplication.secondaryToolbar.isOpen&&(PDFViewerApplication.secondaryToolbar.close(),handled=!0),!PDFViewerApplication.supportsIntegratedFind&&PDFViewerApplication.findBar.opened&&(PDFViewerApplication.findBar.close(),handled=!0);break;case 40:case 34:pdfViewer.isVerticalScrollbarEnabled&&(turnOnlyIfPageFit=!0),turnPage=1;break;case 13:case 32:isViewerInPresentationMode||(turnOnlyIfPageFit=!0),turnPage=1;break;case 39:pdfViewer.isHorizontalScrollbarEnabled&&(turnOnlyIfPageFit=!0);case 74:case 78:turnPage=1;break;case 36:(isViewerInPresentationMode||1<PDFViewerApplication.page)&&(PDFViewerApplication.page=1,ensureViewerFocused=handled=!0);break;case 35:(isViewerInPresentationMode||PDFViewerApplication.page<PDFViewerApplication.pagesCount)&&(PDFViewerApplication.page=PDFViewerApplication.pagesCount,ensureViewerFocused=handled=!0);break;case 83:PDFViewerApplication.pdfCursorTools.switchTool(_pdf_cursor_tools.CursorTool.SELECT);break;case 72:PDFViewerApplication.pdfCursorTools.switchTool(_pdf_cursor_tools.CursorTool.HAND);break;case 82:PDFViewerApplication.rotatePages(90);break;case 115:PDFViewerApplication.pdfSidebar.toggle()}0===turnPage||turnOnlyIfPageFit&&"page-fit"!==pdfViewer.currentScaleValue||(0<turnPage?PDFViewerApplication.page<PDFViewerApplication.pagesCount&&PDFViewerApplication.page++:1<PDFViewerApplication.page&&PDFViewerApplication.page--,handled=!0)}if(4==cmd)switch(evt.keyCode){case 13:case 32:!isViewerInPresentationMode&&"page-fit"!==pdfViewer.currentScaleValue||(1<PDFViewerApplication.page&&PDFViewerApplication.page--,handled=!0);break;case 82:PDFViewerApplication.rotatePages(-90)}handled||isViewerInPresentationMode||(33<=evt.keyCode&&evt.keyCode<=40||32===evt.keyCode&&"BUTTON"!==curElementTagName)&&(ensureViewerFocused=!0),ensureViewerFocused&&!pdfViewer.containsElement(curElement)&&pdfViewer.focus(),handled&&evt.preventDefault()}}}}var PDFPrintServiceFactory={instance:{supportsPrinting:!1,createPrintService:function(){throw new Error("Not implemented: createPrintService")}}};exports.PDFPrintServiceFactory=PDFPrintServiceFactory},function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)},function(module,exports,__webpack_require__){!function(module){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}module=(exports=>{var undefined,Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function wrap(innerFn,outerFn,self,tryLocsList){outerFn=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,outerFn=Object.create(outerFn.prototype),tryLocsList=new Context(tryLocsList||[]);return outerFn._invoke=((innerFn,self,context)=>{var state=GenStateSuspendedStart;return function(method,arg){if(state===GenStateExecuting)throw new Error("Generator is already running");if(state===GenStateCompleted){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){delegate=function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(method===undefined){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=undefined,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}method=tryCatch(method,delegate.iterator,context.arg);if("throw"===method.type)return context.method="throw",context.arg=method.arg,context.delegate=null,ContinueSentinel;method=method.arg;if(!method)return context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel;{if(!method.done)return method;context[delegate.resultName]=method.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=undefined)}context.delegate=null;return ContinueSentinel}(delegate,context);if(delegate){if(delegate===ContinueSentinel)continue;return delegate}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if(state===GenStateSuspendedStart)throw state=GenStateCompleted,context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state=GenStateExecuting;delegate=tryCatch(innerFn,self,context);if("normal"===delegate.type){if(state=context.done?GenStateCompleted:GenStateSuspendedYield,delegate.arg!==ContinueSentinel)return{value:delegate.arg,done:context.done}}else"throw"===delegate.type&&(state=GenStateCompleted,context.method="throw",context.arg=delegate.arg)}}})(innerFn,self,tryLocsList),outerFn}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var GenStateSuspendedStart="suspendedStart",GenStateSuspendedYield="suspendedYield",GenStateExecuting="executing",GenStateCompleted="completed",ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}($Symbol={})[iteratorSymbol]=function(){return this};var getProto=Object.getPrototypeOf,Gp=((getProto=getProto&&getProto(getProto(values([]))))&&getProto!==Op&&hasOwn.call(getProto,iteratorSymbol)&&($Symbol=getProto),GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create($Symbol));function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg)}})}function AsyncIterator(generator){var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new Promise(function(resolve,reject){!function invoke(method,arg,resolve,reject){var result,method=tryCatch(generator[method],generator,arg);if("throw"!==method.type)return(arg=(result=method.arg).value)&&"object"===_typeof(arg)&&hasOwn.call(arg,"__await")?Promise.resolve(arg.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)}):Promise.resolve(arg).then(function(unwrapped){result.value=unwrapped,resolve(result)},function(error){return invoke("throw",error,resolve,reject)});reject(method.arg)}(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var i,iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length))return i=-1,(iteratorMethod=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=undefined,next.done=!0,next}).next=iteratorMethod}return{next:doneResult}}function doneResult(){return{value:undefined,done:!0}}return(GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype).constructor=GeneratorFunction,GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction",exports.isGeneratorFunction=function(genFun){genFun="function"==typeof genFun&&genFun.constructor;return!!genFun&&(genFun===GeneratorFunction||"GeneratorFunction"===(genFun.displayName||genFun.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,toStringTagSymbol in genFun||(genFun[toStringTagSymbol]="GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this},exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return exports.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),Gp[toStringTagSymbol]="Generator",Gp[iteratorSymbol]=function(){return this},Gp.toString=function(){return"[object Generator]"},exports.keys=function(object){var key,keys=[];for(key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined)},stop:function(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=undefined),!!caught}for(var i=this.tryEntries.length-1;0<=i;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;0<=i;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}var record=(finallyEntry=finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc?null:finallyEntry)?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;0<=i;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;0<=i;--i){var record,thrown,entry=this.tryEntries[i];if(entry.tryLoc===tryLoc)return"throw"===(record=entry.completion).type&&(thrown=record.arg,resetTryEntry(entry)),thrown}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=undefined),ContinueSentinel}},exports})("object"===_typeof(module)?module.exports:{});try{regeneratorRuntime=module}catch(accidentalStrictMode){Function("r","regeneratorRuntime = r")(module)}}.call(this,__webpack_require__(4)(module))},function(module,exports,__webpack_require__){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.isValidRotation=function(angle){return Number.isInteger(angle)&&angle%90==0},exports.isValidScrollMode=function(mode){return Number.isInteger(mode)&&Object.values(ScrollMode).includes(mode)&&mode!==ScrollMode.UNKNOWN},exports.isValidSpreadMode=function(mode){return Number.isInteger(mode)&&Object.values(SpreadMode).includes(mode)&&mode!==SpreadMode.UNKNOWN},exports.isPortraitOrientation=function(size){return size.width<=size.height},exports.getGlobalEventBus=function(){var dispatchToDOM=0<arguments.length&&void 0!==arguments[0]&&arguments[0];globalEventBus=globalEventBus||new EventBus({dispatchToDOM:dispatchToDOM});return globalEventBus},exports.getPDFFileNameFromURL=function(url){var defaultFilename=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof url)return defaultFilename;if((url=>{for(var i=0,ii=url.length;i<ii&&""===url[i].trim();)i++;return"data:"===url.substring(i,i+5).toLowerCase()})(url))return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),defaultFilename;var reFilename=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,url=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(url),url=reFilename.exec(url[1])||reFilename.exec(url[2])||reFilename.exec(url[3]);if(url&&(url=url[0]).includes("%"))try{url=reFilename.exec(decodeURIComponent(url))[0]}catch(ex){}return url||defaultFilename},exports.noContextMenuHandler=function(evt){evt.preventDefault()},exports.parseQueryString=function(query){for(var parts=query.split("&"),params=Object.create(null),i=0,ii=parts.length;i<ii;++i){var param=parts[i].split("="),key=param[0].toLowerCase(),param=1<param.length?param[1]:null;params[decodeURIComponent(key)]=decodeURIComponent(param)}return params},exports.backtrackBeforeAllVisibleElements=backtrackBeforeAllVisibleElements,exports.getVisibleElements=function(scrollEl,views){var sortByVisibility=2<arguments.length&&void 0!==arguments[2]&&arguments[2],horizontal=3<arguments.length&&void 0!==arguments[3]&&arguments[3],top=scrollEl.scrollTop,bottom=top+scrollEl.clientHeight,left=scrollEl.scrollLeft,right=left+scrollEl.clientWidth;var visible=[],numViews=views.length,scrollEl=0===numViews?0:binarySearchFirstItem(views,horizontal?function(view){return view=(view=view.div).offsetLeft+view.clientLeft+view.clientWidth,left<view}:function(view){return view=(view=view.div).offsetTop+view.clientTop+view.clientHeight,top<view});0<scrollEl&&scrollEl<numViews&&!horizontal&&(scrollEl=backtrackBeforeAllVisibleElements(scrollEl,views,top));for(var lastEdge=horizontal?right:-1,i=scrollEl;i<numViews;i++){var view=views[i],element=view.div,currentWidth=element.offsetLeft+element.clientLeft,currentHeight=element.offsetTop+element.clientTop,viewWidth=element.clientWidth,element=element.clientHeight,viewRight=currentWidth+viewWidth,viewBottom=currentHeight+element;if(-1===lastEdge)bottom<=viewBottom&&(lastEdge=viewBottom);else if(lastEdge<(horizontal?currentWidth:currentHeight))break;viewBottom<=top||bottom<=currentHeight||viewRight<=left||right<=currentWidth||(viewBottom=Math.max(0,top-currentHeight)+Math.max(0,viewBottom-bottom),viewRight=Math.max(0,left-currentWidth)+Math.max(0,viewRight-right),viewBottom=(element-viewBottom)*(viewWidth-viewRight)*100/element/viewWidth|0,visible.push({id:view.id,x:currentWidth,y:currentHeight,view:view,percent:viewBottom}))}var scrollEl=visible[0],last=visible[visible.length-1];sortByVisibility&&visible.sort(function(a,b){var pc=a.percent-b.percent;return.001<Math.abs(pc)?-pc:a.id-b.id});return{first:scrollEl,last:last,views:visible}},exports.roundToDivide=function(x,div){var r=x%div;return 0==r?x:Math.round(x-r+div)},exports.getPageSizeInches=function(_ref){var view=_ref.view,userUnit=_ref.userUnit,_ref=_ref.rotate,view=((arr,i)=>(arr=>{if(Array.isArray(arr))return arr})(arr)||((arr,i)=>{if(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}})(arr,i)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance")})())(view,4),x1=view[0],y1=view[1],_ref=_ref%180!=0,x1=(view[2]-x1)/72*userUnit,view=(view[3]-y1)/72*userUnit;return{width:_ref?view:x1,height:_ref?x1:view}},exports.approximateFraction=function(x){if(Math.floor(x)===x)return[x,1];var xinv=1/x;{if(8<xinv)return[1,8];if(Math.floor(xinv)===xinv)return[1,xinv]}var x_=1<x?xinv:x,a=0,b=1,c=1,d=1;for(;;){var p=a+c,q=b+d;if(8<q)break;x_<=p/q?(c=p,d=q):(a=p,b=q)}xinv=x_-a/b<c/d-x_?x_===x?[a,b]:[b,a]:x_===x?[c,d]:[d,c];return xinv},exports.getOutputScale=function(ctx){var devicePixelRatio=window.devicePixelRatio||1,ctx=ctx.webkitBackingStorePixelRatio||ctx.mozBackingStorePixelRatio||ctx.msBackingStorePixelRatio||ctx.oBackingStorePixelRatio||ctx.backingStorePixelRatio||1,devicePixelRatio=devicePixelRatio/ctx;return{sx:devicePixelRatio,sy:devicePixelRatio,scaled:1!=devicePixelRatio}},exports.scrollIntoView=function(element,spot){var skipOverflowHiddenElements=2<arguments.length&&void 0!==arguments[2]&&arguments[2],parent=element.offsetParent;if(parent){for(var offsetY=element.offsetTop+element.clientTop,offsetX=element.offsetLeft+element.clientLeft;parent.clientHeight===parent.scrollHeight&&parent.clientWidth===parent.scrollWidth||skipOverflowHiddenElements&&"hidden"===getComputedStyle(parent).overflow;)if(parent.dataset._scaleY&&(offsetY/=parent.dataset._scaleY,offsetX/=parent.dataset._scaleX),offsetY+=parent.offsetTop,offsetX+=parent.offsetLeft,!(parent=parent.offsetParent))return;spot&&(void 0!==spot.top&&(offsetY+=spot.top),void 0!==spot.left)&&(offsetX+=spot.left,parent.scrollLeft=offsetX),parent.scrollTop=offsetY}else console.error("offsetParent is not set -- cannot scroll")},exports.watchScroll=function(viewAreaElement,callback){function debounceScroll(evt){rAF=rAF||window.requestAnimationFrame(function(){rAF=null;var currentX=viewAreaElement.scrollLeft,lastX=state.lastX,lastX=(currentX!==lastX&&(state.right=lastX<currentX),state.lastX=currentX,viewAreaElement.scrollTop),currentX=state.lastY;lastX!==currentX&&(state.down=currentX<lastX),state.lastY=lastX,callback(state)})}var state={right:!0,down:!0,lastX:viewAreaElement.scrollLeft,lastY:viewAreaElement.scrollTop,_eventHandler:debounceScroll},rAF=null;return viewAreaElement.addEventListener("scroll",debounceScroll,!0),state},exports.binarySearchFirstItem=binarySearchFirstItem,exports.normalizeWheelEventDelta=function(evt){var delta=Math.sqrt(evt.deltaX*evt.deltaX+evt.deltaY*evt.deltaY),angle=Math.atan2(evt.deltaY,evt.deltaX);-.25*Math.PI<angle&&angle<.75*Math.PI&&(delta=-delta);0===evt.deltaMode?delta/=900:1===evt.deltaMode&&(delta/=30);return delta},exports.waitOnEventOrTimeout=function(_ref2){var target=_ref2.target,name=_ref2.name,_ref2=_ref2.delay,delay=void 0===_ref2?0:_ref2;return new Promise(function(resolve,reject){if("object"!==_typeof(target)||!name||"string"!=typeof name||!(Number.isInteger(delay)&&0<=delay))throw new Error("waitOnEventOrTimeout - invalid parameters.");function handler(type){target instanceof EventBus?target.off(name,eventHandler):target.removeEventListener(name,eventHandler),timeout&&clearTimeout(timeout),resolve(type)}var eventHandler=handler.bind(null,WaitOnType.EVENT),timeoutHandler=(target instanceof EventBus?target.on(name,eventHandler):target.addEventListener(name,eventHandler),handler.bind(null,WaitOnType.TIMEOUT)),timeout=setTimeout(timeoutHandler,delay)})},exports.moveToEndOfArray=function(arr,condition){for(var moved=[],len=arr.length,write=0,read=0;read<len;++read)condition(arr[read])?moved.push(arr[read]):(arr[write]=arr[read],++write);for(var _read=0;write<len;++_read,++write)arr[write]=moved[_read]},exports.WaitOnType=exports.animationStarted=exports.ProgressBar=exports.EventBus=exports.NullL10n=exports.SpreadMode=exports.ScrollMode=exports.TextLayerMode=exports.RendererType=exports.PresentationModeState=exports.VERTICAL_PADDING=exports.SCROLLBAR_PADDING=exports.MAX_AUTO_SCALE=exports.UNKNOWN_SCALE=exports.MAX_SCALE=exports.MIN_SCALE=exports.DEFAULT_SCALE=exports.DEFAULT_SCALE_VALUE=exports.CSS_UNITS=void 0;var _regenerator=(__webpack_require__=__webpack_require__(2))&&__webpack_require__.__esModule?__webpack_require__:{default:__webpack_require__};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps)}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}exports.CSS_UNITS=96/72,exports.DEFAULT_SCALE_VALUE="auto",exports.DEFAULT_SCALE=1,exports.MIN_SCALE=.1,exports.MAX_SCALE=10,exports.UNKNOWN_SCALE=0,exports.MAX_AUTO_SCALE=1.25,exports.SCROLLBAR_PADDING=40,exports.VERTICAL_PADDING=5,exports.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},exports.RendererType={CANVAS:"canvas",SVG:"svg"};exports.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};var ScrollMode={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2},SpreadMode=(exports.ScrollMode=ScrollMode,{UNKNOWN:-1,NONE:0,ODD:1,EVEN:2});exports.SpreadMode=SpreadMode;var _translate,_get,_getDirection,_getLanguage,__webpack_require__={getLanguage:(_getLanguage=_asyncToGenerator(_regenerator.default.mark(function _callee(){return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return","en-us");case 1:case"end":return _context.stop()}},_callee)})),function(){return _getLanguage.apply(this,arguments)}),getDirection:(_getDirection=_asyncToGenerator(_regenerator.default.mark(function _callee2(){return _regenerator.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return","ltr");case 1:case"end":return _context2.stop()}},_callee2)})),function(){return _getDirection.apply(this,arguments)}),get:(_get=_asyncToGenerator(_regenerator.default.mark(function _callee3(property,args,fallback){return _regenerator.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",((text,args)=>args?text.replace(/\{\{\s*(\w+)\s*\}\}/g,function(all,name){return name in args?args[name]:"{{"+name+"}}"}):text)(fallback,args));case 1:case"end":return _context3.stop()}},_callee3)})),function(_x,_x2,_x3){return _get.apply(this,arguments)}),translate:(_translate=_asyncToGenerator(_regenerator.default.mark(function _callee4(element){return _regenerator.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:case"end":return _context4.stop()}},_callee4)})),function(_x4){return _translate.apply(this,arguments)})};function binarySearchFirstItem(items,condition){var minIndex=0,maxIndex=items.length-1;if(0===items.length||!condition(items[maxIndex]))return items.length;if(!condition(items[minIndex]))for(;minIndex<maxIndex;){var currentIndex=minIndex+maxIndex>>1;condition(items[currentIndex])?maxIndex=currentIndex:minIndex=1+currentIndex}return minIndex}function backtrackBeforeAllVisibleElements(index,views,top){if(!(index<2)){var elt=views[index].div,pageTop=elt.offsetTop+elt.clientTop;top<=pageTop&&(pageTop=(elt=views[index-1].div).offsetTop+elt.clientTop);for(var i=index-2;0<=i&&!((elt=views[i].div).offsetTop+elt.clientTop+elt.clientHeight<=pageTop);--i)index=i}return index}exports.NullL10n=__webpack_require__;var WaitOnType={EVENT:"event",TIMEOUT:"timeout"};exports.WaitOnType=WaitOnType;var __webpack_require__=new Promise(function(resolve){window.requestAnimationFrame(resolve)}),EventBus=(exports.animationStarted=__webpack_require__,(()=>{function EventBus(){var _ref3$dispatchToDOM=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).dispatchToDOM,_ref3$dispatchToDOM=void 0!==_ref3$dispatchToDOM&&_ref3$dispatchToDOM;_classCallCheck(this,EventBus),this._listeners=Object.create(null),this._dispatchToDOM=!0===_ref3$dispatchToDOM}return _createClass(EventBus,[{key:"on",value:function(eventName,listener){var eventListeners=this._listeners[eventName];eventListeners||(this._listeners[eventName]=eventListeners=[]),eventListeners.push(listener)}},{key:"off",value:function(eventName,listener){eventName=this._listeners[eventName];!eventName||(listener=eventName.indexOf(listener))<0||eventName.splice(listener,1)}},{key:"dispatch",value:function(eventName){var args,eventListeners=this._listeners[eventName];eventListeners&&0!==eventListeners.length?(args=Array.prototype.slice.call(arguments,1),eventListeners.slice(0).forEach(function(listener){listener.apply(null,args)}),this._dispatchToDOM&&this._dispatchDOMEvent(eventName,args)):this._dispatchToDOM&&(eventListeners=Array.prototype.slice.call(arguments,1),this._dispatchDOMEvent(eventName,eventListeners))}},{key:"_dispatchDOMEvent",value:function(eventName){var args=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,details=Object.create(null);if(args&&0<args.length){var key,obj=args[0];for(key in obj){var value=obj[key];if("source"===key){if(value===window||value===document)return}else details[key]=value}}args=document.createEvent("CustomEvent");args.initCustomEvent(eventName,!0,!0,details),document.dispatchEvent(args)}}]),EventBus})()),globalEventBus=(exports.EventBus=EventBus,null);__webpack_require__=(()=>{function ProgressBar(id){var _ref4=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},height=_ref4.height,width=_ref4.width,_ref4=_ref4.units;_classCallCheck(this,ProgressBar),this.visible=!0,this.div=document.querySelector(id+" .progress"),this.bar=this.div.parentNode,this.height=height||100,this.width=width||100,this.units=_ref4||"%",this.div.style.height=this.height+this.units,this.percent=0}return _createClass(ProgressBar,[{key:"_updateBar",value:function(){var progressSize;this._indeterminate?(this.div.classList.add("indeterminate"),this.div.style.width=this.width+this.units):(this.div.classList.remove("indeterminate"),progressSize=this.width*this._percent/100,this.div.style.width=progressSize+this.units)}},{key:"setWidth",value:function(viewer){viewer&&0<(viewer=viewer.parentNode.offsetWidth-viewer.offsetWidth)&&this.bar.setAttribute("style","width: calc(100% - "+viewer+"px);")}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}},{key:"show",value:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}},{key:"percent",get:function(){return this._percent},set:function(val){var min,max;this._indeterminate=isNaN(val),this._percent=(min=0,max=100,Math.min(Math.max(val,min),max)),this._updateBar()}}]),ProgressBar})();exports.ProgressBar=__webpack_require__},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.OptionKind=exports.AppOptions=void 0;var _pdfjsLib=__webpack_require__(7),__webpack_require__=__webpack_require__(8);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var OptionKind={VIEWER:2,API:4,WORKER:8,PREFERENCE:128},defaultOptions={cursorToolOnLoad:{value:0,kind:(exports.OptionKind=OptionKind).VIEWER+OptionKind.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:OptionKind.VIEWER},defaultZoomValue:{value:"",kind:OptionKind.VIEWER+OptionKind.PREFERENCE},disableHistory:{value:!1,kind:OptionKind.VIEWER},disablePageLabels:{value:!1,kind:OptionKind.VIEWER+OptionKind.PREFERENCE},enablePrintAutoRotate:{value:!1,kind:OptionKind.VIEWER+OptionKind.PREFERENCE},enableWebGL:{value:!1,kind:OptionKind.VIEWER+OptionKind.PREFERENCE},eventBusDispatchToDOM:{value:!1,kind:OptionKind.VIEWER+OptionKind.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:OptionKind.VIEWER},externalLinkTarget:{value:0,kind:OptionKind.VIEWER+OptionKind.PREFERENCE},historyUpdateUrl:{value:!1,kind:OptionKind.VIEWER+OptionKind.PREFERENCE},imageResourcesPath:{value:"./images/",kind:OptionKind.VIEWER},maxCanvasPixels:{value:16777216,compatibility:__webpack_require__.viewerCompatibilityParams.maxCanvasPixels,kind:OptionKind.VIEWER},pdfBugEnabled:{value:!1,kind:OptionKind.VIEWER+OptionKind.PREFERENCE},renderer:{value:"canvas",kind:OptionKind.VIEWER+OptionKind.PREFERENCE},renderInteractiveForms:{value:!1,kind:OptionKind.VIEWER+OptionKind.PREFERENCE},sidebarViewOnLoad:{value:-1,kind:OptionKind.VIEWER+OptionKind.PREFERENCE},scrollModeOnLoad:{value:-1,kind:OptionKind.VIEWER+OptionKind.PREFERENCE},spreadModeOnLoad:{value:-1,kind:OptionKind.VIEWER+OptionKind.PREFERENCE},textLayerMode:{value:1,kind:OptionKind.VIEWER+OptionKind.PREFERENCE},useOnlyCssZoom:{value:!1,kind:OptionKind.VIEWER+OptionKind.PREFERENCE},viewOnLoad:{value:0,kind:OptionKind.VIEWER+OptionKind.PREFERENCE},cMapPacked:{value:!0,kind:OptionKind.API},cMapUrl:{value:"../web/cmaps/",kind:OptionKind.API},disableAutoFetch:{value:!1,kind:OptionKind.API+OptionKind.PREFERENCE},disableCreateObjectURL:{value:!1,compatibility:_pdfjsLib.apiCompatibilityParams.disableCreateObjectURL,kind:OptionKind.API},disableFontFace:{value:!1,kind:OptionKind.API+OptionKind.PREFERENCE},disableRange:{value:!1,kind:OptionKind.API+OptionKind.PREFERENCE},disableStream:{value:!1,kind:OptionKind.API+OptionKind.PREFERENCE},docBaseUrl:{value:"",kind:OptionKind.API},isEvalSupported:{value:!0,kind:OptionKind.API},maxImageSize:{value:-1,kind:OptionKind.API},pdfBug:{value:!1,kind:OptionKind.API},verbosity:{value:1,kind:OptionKind.API},workerPort:{value:null,kind:OptionKind.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:OptionKind.WORKER}},userOptions=(defaultOptions.disablePreferences={value:!1,kind:OptionKind.VIEWER},defaultOptions.locale={value:"undefined"!=typeof navigator?navigator.language:"en-US",kind:OptionKind.VIEWER},defaultOptions.printResolution={value:150,kind:OptionKind.VIEWER},Object.create(null)),__webpack_require__=(()=>{function AppOptions(){if(this instanceof AppOptions)throw new Error("Cannot initialize AppOptions.");throw new TypeError("Cannot call a class as a function")}var Constructor,protoProps,staticProps;return Constructor=AppOptions,staticProps=[{key:"get",value:function(name){var userOption=userOptions[name];return void 0!==userOption?userOption:void 0!==(userOption=defaultOptions[name])?userOption.compatibility||userOption.value:void 0}},{key:"getAll",value:function(){var name,kind=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,options=Object.create(null);for(name in defaultOptions){var defaultOption=defaultOptions[name];if(kind){if(0==(kind&defaultOption.kind))continue;if(kind===OptionKind.PREFERENCE){var value=defaultOption.value,valueType=_typeof(value);if("boolean"===valueType||"string"===valueType||"number"===valueType&&Number.isInteger(value)){options[name]=value;continue}throw new Error("Invalid type for preference: ".concat(name))}}valueType=userOptions[name];options[name]=void 0!==valueType?valueType:defaultOption.compatibility||defaultOption.value}return options}},{key:"set",value:function(name,value){userOptions[name]=value}},{key:"remove",value:function(name){delete userOptions[name]}}],(protoProps=null)&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),AppOptions})();exports.AppOptions=__webpack_require__},function(module,exports,__webpack_require__){var pdfjsLib="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:require("../build/pdf.js");module.exports=pdfjsLib},function(module,exports,__webpack_require__){var compatibilityParams=Object.create(null),userAgent="undefined"!=typeof navigator&&navigator.userAgent||"",isAndroid=/Android/.test(userAgent);(/\b(iPad|iPhone|iPod)(?=;)/.test(userAgent)||isAndroid)&&(compatibilityParams.maxCanvasPixels=5242880),exports.viewerCompatibilityParams=Object.freeze(compatibilityParams)},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFCursorTools=exports.CursorTool=void 0;var _grab_to_pan=__webpack_require__(10);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var CursorTool={SELECT:0,HAND:1,ZOOM:2},__webpack_require__=(exports.CursorTool=CursorTool,(()=>{function PDFCursorTools(_ref){var _this=this,container=_ref.container,eventBus=_ref.eventBus,_ref=_ref.cursorToolOnLoad,cursorToolOnLoad=void 0===_ref?CursorTool.SELECT:_ref;if(!(this instanceof PDFCursorTools))throw new TypeError("Cannot call a class as a function");this.container=container,this.eventBus=eventBus,this.active=CursorTool.SELECT,this.activeBeforePresentationMode=null,this.handTool=new _grab_to_pan.GrabToPan({element:this.container}),this._addEventListeners(),Promise.resolve().then(function(){_this.switchTool(cursorToolOnLoad)})}var Constructor,protoProps,staticProps;return Constructor=PDFCursorTools,(protoProps=[{key:"switchTool",value:function(tool){var _this2=this;if(null===this.activeBeforePresentationMode&&tool!==this.active){var disableActiveTool=function(){switch(_this2.active){case CursorTool.SELECT:break;case CursorTool.HAND:_this2.handTool.deactivate()}};switch(tool){case CursorTool.SELECT:disableActiveTool();break;case CursorTool.HAND:disableActiveTool(),this.handTool.activate();break;default:return void console.error('switchTool: "'.concat(tool,'" is an unsupported value.'))}this.active=tool,this._dispatchEvent()}}},{key:"_dispatchEvent",value:function(){this.eventBus.dispatch("cursortoolchanged",{source:this,tool:this.active})}},{key:"_addEventListeners",value:function(){var _this3=this;this.eventBus.on("switchcursortool",function(evt){_this3.switchTool(evt.tool)}),this.eventBus.on("presentationmodechanged",function(evt){var previouslyActive;evt.switchInProgress||(evt.active?(previouslyActive=_this3.active,_this3.switchTool(CursorTool.SELECT),_this3.activeBeforePresentationMode=previouslyActive):(previouslyActive=_this3.activeBeforePresentationMode,_this3.activeBeforePresentationMode=null,_this3.switchTool(previouslyActive)))})}},{key:"activeTool",get:function(){return this.active}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),PDFCursorTools})());exports.PDFCursorTools=__webpack_require__},function(module,exports,__webpack_require__){function GrabToPan(options){this.element=options.element,this.document=options.element.ownerDocument,"function"==typeof options.ignoreTarget&&(this.ignoreTarget=options.ignoreTarget),this.onActiveChanged=options.onActiveChanged,this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.toggle=this.toggle.bind(this),this._onmousedown=this._onmousedown.bind(this),this._onmousemove=this._onmousemove.bind(this),this._endPan=this._endPan.bind(this),(this.overlay=document.createElement("div")).className="grab-to-pan-grabbing"}Object.defineProperty(exports,"__esModule",{value:!0}),(exports.GrabToPan=GrabToPan).prototype={CSS_CLASS_GRAB:"grab-to-pan-grab",activate:function(){this.active||(this.active=!0,this.element.addEventListener("mousedown",this._onmousedown,!0),this.element.classList.add(this.CSS_CLASS_GRAB),this.onActiveChanged&&this.onActiveChanged(!0))},deactivate:function(){this.active&&(this.active=!1,this.element.removeEventListener("mousedown",this._onmousedown,!0),this._endPan(),this.element.classList.remove(this.CSS_CLASS_GRAB),this.onActiveChanged)&&this.onActiveChanged(!1)},toggle:function(){this.active?this.deactivate():this.activate()},ignoreTarget:function(node){return node[matchesSelector]("a[href], a[href] *, input, textarea, button, button *, select, option")},_onmousedown:function(event){if(0===event.button&&!this.ignoreTarget(event.target)){if(event.originalTarget)try{event.originalTarget.tagName}catch(e){return}this.scrollLeftStart=this.element.scrollLeft,this.scrollTopStart=this.element.scrollTop,this.clientXStart=event.clientX,this.clientYStart=event.clientY,this.document.addEventListener("mousemove",this._onmousemove,!0),this.document.addEventListener("mouseup",this._endPan,!0),this.element.addEventListener("scroll",this._endPan,!0),event.preventDefault(),event.stopPropagation();var focusedElement=document.activeElement;focusedElement&&!focusedElement.contains(event.target)&&focusedElement.blur()}},_onmousemove:function(event){var xDiff;this.element.removeEventListener("scroll",this._endPan,!0),(event=>"buttons"in event&&isNotIEorIsIE10plus?!(1&event.buttons):(isChrome15OrOpera15plus||isSafari6plus)&&0===event.which)(event)?this._endPan():(xDiff=event.clientX-this.clientXStart,event=event.clientY-this.clientYStart,event=this.scrollTopStart-event,xDiff=this.scrollLeftStart-xDiff,this.element.scrollTo?this.element.scrollTo({top:event,left:xDiff,behavior:"instant"}):(this.element.scrollTop=event,this.element.scrollLeft=xDiff),this.overlay.parentNode||document.body.appendChild(this.overlay))},_endPan:function(){this.element.removeEventListener("scroll",this._endPan,!0),this.document.removeEventListener("mousemove",this._onmousemove,!0),this.document.removeEventListener("mouseup",this._endPan,!0),this.overlay.remove()}},["webkitM","mozM","msM","oM","m"].some(function(prefix){prefix+="atches";return prefix in document.documentElement&&(matchesSelector=prefix),matchesSelector=(prefix+="Selector")in document.documentElement?prefix:matchesSelector});var matchesSelector,isNotIEorIsIE10plus=!document.documentMode||9<document.documentMode,exports=window.chrome,isChrome15OrOpera15plus=exports&&(exports.webstore||exports.app),isSafari6plus=/Apple/.test(navigator.vendor)&&/Version\/([6-9]\d*|[1-5]\d+)/.test(navigator.userAgent)},function(module,exports,__webpack_require__){function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFRenderingQueue=exports.RenderingStates=void 0;var RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},PDFRenderingQueue=(exports.RenderingStates=RenderingStates,(()=>{function PDFRenderingQueue(){if(!(this instanceof PDFRenderingQueue))throw new TypeError("Cannot call a class as a function");this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}var Constructor,protoProps,staticProps;return Constructor=PDFRenderingQueue,(protoProps=[{key:"setViewer",value:function(pdfViewer){this.pdfViewer=pdfViewer}},{key:"setThumbnailViewer",value:function(pdfThumbnailViewer){this.pdfThumbnailViewer=pdfThumbnailViewer}},{key:"isHighestPriority",value:function(view){return this.highestPriorityPage===view.renderingId}},{key:"renderHighestPriority",value:function(currentlyVisiblePages){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(currentlyVisiblePages)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4))}},{key:"getHighestPriority",value:function(visible,views,scrolledDown){var visibleViews=visible.views,numVisible=visibleViews.length;if(0!==numVisible){for(var i=0;i<numVisible;++i){var view=visibleViews[i].view;if(!this.isViewFinished(view))return view}if(scrolledDown){scrolledDown=visible.last.id;if(views[scrolledDown]&&!this.isViewFinished(views[scrolledDown]))return views[scrolledDown]}else{scrolledDown=visible.first.id-2;if(views[scrolledDown]&&!this.isViewFinished(views[scrolledDown]))return views[scrolledDown]}}return null}},{key:"isViewFinished",value:function(view){return view.renderingState===RenderingStates.FINISHED}},{key:"renderView",value:function(view){var _this=this;switch(view.renderingState){case RenderingStates.FINISHED:return!1;case RenderingStates.PAUSED:this.highestPriorityPage=view.renderingId,view.resume();break;case RenderingStates.RUNNING:this.highestPriorityPage=view.renderingId;break;case RenderingStates.INITIAL:this.highestPriorityPage=view.renderingId,view.draw().finally(function(){_this.renderHighestPriority()})}return!0}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),PDFRenderingQueue})());exports.PDFRenderingQueue=PDFRenderingQueue},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFSidebar=exports.SidebarView=void 0;var _ui_utils=__webpack_require__(5),_pdf_rendering_queue=__webpack_require__(11);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var SidebarView={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4},__webpack_require__=(exports.SidebarView=SidebarView,(()=>{function PDFSidebar(_ref){var elements=_ref.elements,pdfViewer=_ref.pdfViewer,pdfThumbnailViewer=_ref.pdfThumbnailViewer,eventBus=_ref.eventBus,_ref$l10n=_ref.l10n,_ref$l10n=void 0===_ref$l10n?_ui_utils.NullL10n:_ref$l10n,_ref=_ref.disableNotification,_ref=void 0!==_ref&&_ref;if(!(this instanceof PDFSidebar))throw new TypeError("Cannot call a class as a function");this.isOpen=!1,this.active=SidebarView.THUMBS,this.isInitialViewSet=!1,this.onToggled=null,this.pdfViewer=pdfViewer,this.pdfThumbnailViewer=pdfThumbnailViewer,this.outerContainer=elements.outerContainer,this.viewerContainer=elements.viewerContainer,this.toggleButton=elements.toggleButton,this.thumbnailButton=elements.thumbnailButton,this.outlineButton=elements.outlineButton,this.attachmentsButton=elements.attachmentsButton,this.thumbnailView=elements.thumbnailView,this.outlineView=elements.outlineView,this.attachmentsView=elements.attachmentsView,this.eventBus=eventBus,this.l10n=_ref$l10n,this._disableNotification=_ref,this._addEventListeners()}var Constructor,protoProps,staticProps;return Constructor=PDFSidebar,(protoProps=[{key:"reset",value:function(){this.isInitialViewSet=!1,this._hideUINotification(null),this.switchView(SidebarView.THUMBS),this.outlineButton.disabled=!1,this.attachmentsButton.disabled=!1}},{key:"setInitialView",value:function(){var view=0<arguments.length&&void 0!==arguments[0]?arguments[0]:SidebarView.NONE;this.isInitialViewSet||(this.isInitialViewSet=!0,view!==SidebarView.NONE&&view!==SidebarView.UNKNOWN&&this._switchView(view,!0))||this._dispatchEvent()}},{key:"switchView",value:function(view){this._switchView(view,1<arguments.length&&void 0!==arguments[1]&&arguments[1])}},{key:"_switchView",value:function(view){var forceOpen=1<arguments.length&&void 0!==arguments[1]&&arguments[1],isViewChanged=view!==this.active,shouldForceRendering=!1;switch(view){case SidebarView.NONE:return this.isOpen?(this.close(),!0):!1;case SidebarView.THUMBS:this.isOpen&&isViewChanged&&(shouldForceRendering=!0);break;case SidebarView.OUTLINE:if(this.outlineButton.disabled)return!1;break;case SidebarView.ATTACHMENTS:if(this.attachmentsButton.disabled)return!1;break;default:return console.error('PDFSidebar._switchView: "'.concat(view,'" is not a valid view.')),!1}return this.active=view,this.thumbnailButton.classList.toggle("toggled",view===SidebarView.THUMBS),this.outlineButton.classList.toggle("toggled",view===SidebarView.OUTLINE),this.attachmentsButton.classList.toggle("toggled",view===SidebarView.ATTACHMENTS),this.thumbnailView.classList.toggle("hidden",view!==SidebarView.THUMBS),this.outlineView.classList.toggle("hidden",view!==SidebarView.OUTLINE),this.attachmentsView.classList.toggle("hidden",view!==SidebarView.ATTACHMENTS),forceOpen&&!this.isOpen?(this.open(),!0):(shouldForceRendering&&(this._updateThumbnailViewer(),this._forceRendering()),isViewChanged&&this._dispatchEvent(),this._hideUINotification(this.active),isViewChanged)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this.toggleButton.classList.add("toggled"),this.outerContainer.classList.add("sidebarMoving","sidebarOpen"),this.active===SidebarView.THUMBS&&this._updateThumbnailViewer(),this._forceRendering(),this._dispatchEvent(),this._hideUINotification(this.active))}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.toggleButton.classList.remove("toggled"),this.outerContainer.classList.add("sidebarMoving"),this.outerContainer.classList.remove("sidebarOpen"),this._forceRendering(),this._dispatchEvent())}},{key:"toggle",value:function(){this.isOpen?this.close():this.open()}},{key:"_dispatchEvent",value:function(){this.eventBus.dispatch("sidebarviewchanged",{source:this,view:this.visibleView})}},{key:"_forceRendering",value:function(){this.onToggled?this.onToggled():(this.pdfViewer.forceRendering(),this.pdfThumbnailViewer.forceRendering())}},{key:"_updateThumbnailViewer",value:function(){for(var pdfViewer=this.pdfViewer,pdfThumbnailViewer=this.pdfThumbnailViewer,pagesCount=pdfViewer.pagesCount,pageIndex=0;pageIndex<pagesCount;pageIndex++){var pageView=pdfViewer.getPageView(pageIndex);pageView&&pageView.renderingState===_pdf_rendering_queue.RenderingStates.FINISHED&&pdfThumbnailViewer.getThumbnail(pageIndex).setImage(pageView)}pdfThumbnailViewer.scrollThumbnailIntoView(pdfViewer.currentPageNumber)}},{key:"_showUINotification",value:function(view){var _this=this;if(!this._disableNotification){if(this.l10n.get("toggle_sidebar_notification.title",null,"Toggle Sidebar (document contains outline/attachments)").then(function(msg){_this.toggleButton.title=msg}),this.isOpen){if(view===this.active)return}else this.toggleButton.classList.add("pdfSidebarNotification");switch(view){case SidebarView.OUTLINE:this.outlineButton.classList.add("pdfSidebarNotification");break;case SidebarView.ATTACHMENTS:this.attachmentsButton.classList.add("pdfSidebarNotification")}}}},{key:"_hideUINotification",value:function(view){var _this2=this;if(!this._disableNotification){var removeNotification=function(view){switch(view){case SidebarView.OUTLINE:_this2.outlineButton.classList.remove("pdfSidebarNotification");break;case SidebarView.ATTACHMENTS:_this2.attachmentsButton.classList.remove("pdfSidebarNotification")}};if(this.isOpen||null===view)if(this.toggleButton.classList.remove("pdfSidebarNotification"),null!==view)removeNotification(view);else{for(view in SidebarView)removeNotification(SidebarView[view]);this.l10n.get("toggle_sidebar.title",null,"Toggle Sidebar").then(function(msg){_this2.toggleButton.title=msg})}}}},{key:"_addEventListeners",value:function(){var _this3=this;this.viewerContainer.addEventListener("transitionend",function(evt){evt.target===_this3.viewerContainer&&_this3.outerContainer.classList.remove("sidebarMoving")}),this.toggleButton.addEventListener("click",function(){_this3.toggle()}),this.thumbnailButton.addEventListener("click",function(){_this3.switchView(SidebarView.THUMBS)}),this.outlineButton.addEventListener("click",function(){_this3.switchView(SidebarView.OUTLINE)}),this.outlineButton.addEventListener("dblclick",function(){_this3.eventBus.dispatch("toggleoutlinetree",{source:_this3})}),this.attachmentsButton.addEventListener("click",function(){_this3.switchView(SidebarView.ATTACHMENTS)}),this.eventBus.on("outlineloaded",function(evt){evt=evt.outlineCount;_this3.outlineButton.disabled=!evt,evt?_this3._showUINotification(SidebarView.OUTLINE):_this3.active===SidebarView.OUTLINE&&_this3.switchView(SidebarView.THUMBS)}),this.eventBus.on("attachmentsloaded",function(evt){evt.attachmentsCount?(_this3.attachmentsButton.disabled=!1,_this3._showUINotification(SidebarView.ATTACHMENTS)):Promise.resolve().then(function(){_this3.attachmentsView.hasChildNodes()||(_this3.attachmentsButton.disabled=!0,_this3.active===SidebarView.ATTACHMENTS&&_this3.switchView(SidebarView.THUMBS))})}),this.eventBus.on("presentationmodechanged",function(evt){evt.active||evt.switchInProgress||!_this3.isThumbnailViewVisible||_this3._updateThumbnailViewer()})}},{key:"visibleView",get:function(){return this.isOpen?this.active:SidebarView.NONE}},{key:"isThumbnailViewVisible",get:function(){return this.isOpen&&this.active===SidebarView.THUMBS}},{key:"isOutlineViewVisible",get:function(){return this.isOpen&&this.active===SidebarView.OUTLINE}},{key:"isAttachmentsViewVisible",get:function(){return this.isOpen&&this.active===SidebarView.ATTACHMENTS}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),PDFSidebar})());exports.PDFSidebar=__webpack_require__},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.OverlayManager=void 0;var _regenerator=(__webpack_require__=__webpack_require__(2))&&__webpack_require__.__esModule?__webpack_require__:{default:__webpack_require__};function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__=(()=>{function OverlayManager(){if(!(this instanceof OverlayManager))throw new TypeError("Cannot call a class as a function");this._overlays={},this._active=null,this._keyDownBound=this._keyDown.bind(this)}var Constructor,protoProps,staticProps,_close,_open,_unregister,_register;return Constructor=OverlayManager,(protoProps=[{key:"register",value:(_register=_asyncToGenerator(_regenerator.default.mark(function _callee(name,element){var callerCloseMethod,canForceClose,container,_args=arguments;return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(callerCloseMethod=2<_args.length&&void 0!==_args[2]?_args[2]:null,canForceClose=3<_args.length&&void 0!==_args[3]&&_args[3],name&&element&&(container=element.parentNode)){_context.next=6;break}throw new Error("Not enough parameters.");case 6:if(this._overlays[name])throw new Error("The overlay is already registered.");_context.next=8;break;case 8:this._overlays[name]={element:element,container:container,callerCloseMethod:callerCloseMethod,canForceClose:canForceClose};case 9:case"end":return _context.stop()}},_callee,this)})),function(_x,_x2){return _register.apply(this,arguments)})},{key:"unregister",value:(_unregister=_asyncToGenerator(_regenerator.default.mark(function _callee2(name){return _regenerator.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(this._overlays[name]){_context2.next=4;break}throw new Error("The overlay does not exist.");case 4:if(this._active===name)throw new Error("The overlay cannot be removed while it is active.");_context2.next=6;break;case 6:delete this._overlays[name];case 7:case"end":return _context2.stop()}},_callee2,this)})),function(_x3){return _unregister.apply(this,arguments)})},{key:"open",value:(_open=_asyncToGenerator(_regenerator.default.mark(function _callee3(name){return _regenerator.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(this._overlays[name]){_context3.next=4;break}throw new Error("The overlay does not exist.");case 4:this._active?this._overlays[name].canForceClose?(this._closeThroughCaller(),_context3.next=14):_context3.next=9:_context3.next=14;break;case 9:if(this._active===name)throw new Error("The overlay is already active.");_context3.next=13;break;case 13:throw new Error("Another overlay is currently active.");case 14:this._active=name,this._overlays[this._active].element.classList.remove("hidden"),this._overlays[this._active].container.classList.remove("hidden"),window.addEventListener("keydown",this._keyDownBound);case 18:case"end":return _context3.stop()}},_callee3,this)})),function(_x4){return _open.apply(this,arguments)})},{key:"close",value:(_close=_asyncToGenerator(_regenerator.default.mark(function _callee4(name){return _regenerator.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(this._overlays[name]){_context4.next=4;break}throw new Error("The overlay does not exist.");case 4:if(this._active){_context4.next=8;break}throw new Error("The overlay is currently not active.");case 8:if(this._active!==name)throw new Error("Another overlay is currently active.");_context4.next=10;break;case 10:this._overlays[this._active].container.classList.add("hidden"),this._overlays[this._active].element.classList.add("hidden"),this._active=null,window.removeEventListener("keydown",this._keyDownBound);case 14:case"end":return _context4.stop()}},_callee4,this)})),function(_x5){return _close.apply(this,arguments)})},{key:"_keyDown",value:function(evt){this._active&&27===evt.keyCode&&(this._closeThroughCaller(),evt.preventDefault())}},{key:"_closeThroughCaller",value:function(){this._overlays[this._active].callerCloseMethod&&this._overlays[this._active].callerCloseMethod(),this._active&&this.close(this._active)}},{key:"active",get:function(){return this._active}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),OverlayManager})();exports.OverlayManager=__webpack_require__},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.PasswordPrompt=void 0;var _ui_utils=__webpack_require__(5),_pdfjsLib=__webpack_require__(7);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__=(()=>{function PasswordPrompt(options,overlayManager){var _this=this,l10n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:_ui_utils.NullL10n,instance=this,Constructor=PasswordPrompt;if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");this.overlayName=options.overlayName,this.container=options.container,this.label=options.label,this.input=options.input,this.submitButton=options.submitButton,this.cancelButton=options.cancelButton,this.overlayManager=overlayManager,this.l10n=l10n,this.updateCallback=null,this.reason=null,this.submitButton.addEventListener("click",this.verify.bind(this)),this.cancelButton.addEventListener("click",this.close.bind(this)),this.input.addEventListener("keydown",function(e){13===e.keyCode&&_this.verify()}),this.overlayManager.register(this.overlayName,this.container,this.close.bind(this),!0)}var Constructor,protoProps,staticProps;return Constructor=PasswordPrompt,(protoProps=[{key:"open",value:function(){var _this2=this;this.overlayManager.open(this.overlayName).then(function(){_this2.input.focus(),(_this2.reason===_pdfjsLib.PasswordResponses.INCORRECT_PASSWORD?_this2.l10n.get("password_invalid",null,"Invalid password. Please try again."):_this2.l10n.get("password_label",null,"Enter the password to open this PDF file.")).then(function(msg){_this2.label.textContent=msg})})}},{key:"close",value:function(){var _this3=this;this.overlayManager.close(this.overlayName).then(function(){_this3.input.value=""})}},{key:"verify",value:function(){var password=this.input.value;password&&0<password.length&&(this.close(),this.updateCallback(password))}},{key:"setUpdateCallback",value:function(updateCallback,reason){this.updateCallback=updateCallback,this.reason=reason}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),PasswordPrompt})();exports.PasswordPrompt=__webpack_require__},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFAttachmentViewer=void 0;var _pdfjsLib=__webpack_require__(7);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__=(()=>{function PDFAttachmentViewer(_ref){var container=_ref.container,eventBus=_ref.eventBus,_ref=_ref.downloadManager;if(!(this instanceof PDFAttachmentViewer))throw new TypeError("Cannot call a class as a function");this.container=container,this.eventBus=eventBus,this.downloadManager=_ref,this.reset(),this.eventBus.on("fileattachmentannotation",this._appendAttachment.bind(this))}var Constructor,protoProps,staticProps;return Constructor=PDFAttachmentViewer,(protoProps=[{key:"reset",value:function(){var keepRenderedCapability=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.attachments=null,this.container.textContent="",keepRenderedCapability||(this._renderedCapability=(0,_pdfjsLib.createPromiseCapability)())}},{key:"_dispatchEvent",value:function(attachmentsCount){this._renderedCapability.resolve(),this.eventBus.dispatch("attachmentsloaded",{source:this,attachmentsCount:attachmentsCount})}},{key:"_bindPdfLink",value:function(button,content,filename){if(this.downloadManager.disableCreateObjectURL)throw new Error('bindPdfLink: Unsupported "disableCreateObjectURL" value.');var blobUrl;button.onclick=function(){var viewerUrl;return blobUrl=blobUrl||(0,_pdfjsLib.createObjectURL)(content,"application/pdf"),viewerUrl="?file="+encodeURIComponent(blobUrl+"#"+filename),window.open(viewerUrl),!1}}},{key:"_bindLink",value:function(button,content,filename){var _this=this;button.onclick=function(){return _this.downloadManager.downloadData(content,filename,""),!1}}},{key:"render",value:function(_ref2){var attachments=_ref2.attachments,_ref2=_ref2.keepRenderedCapability;if(this.attachments&&this.reset(!0===(void 0!==_ref2&&_ref2)),this.attachments=attachments||null,attachments){for(var names=Object.keys(attachments).sort(function(a,b){return a.toLowerCase().localeCompare(b.toLowerCase())}),attachmentsCount=names.length,i=0;i<attachmentsCount;i++){var item=attachments[names[i]],filename=(0,_pdfjsLib.removeNullCharacters)((0,_pdfjsLib.getFilenameFromUrl)(item.filename)),div=document.createElement("div"),button=(div.className="attachmentsItem",document.createElement("button"));button.textContent=filename,/\.pdf$/i.test(filename)&&!this.downloadManager.disableCreateObjectURL?this._bindPdfLink(button,item.content,filename):this._bindLink(button,item.content,filename),div.appendChild(button),this.container.appendChild(div)}this._dispatchEvent(attachmentsCount)}else this._dispatchEvent(0)}},{key:"_appendAttachment",value:function(_ref3){var _this2=this,id=_ref3.id,filename=_ref3.filename,content=_ref3.content;this._renderedCapability.promise.then(function(){var attachments=_this2.attachments;if(attachments){for(var name in attachments)if(id===name)return}else attachments=Object.create(null);attachments[id]={filename:filename,content:content},_this2.render({attachments:attachments,keepRenderedCapability:!0})})}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),PDFAttachmentViewer})();exports.PDFAttachmentViewer=__webpack_require__},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFDocumentProperties=void 0;var _regenerator=(obj=__webpack_require__(2))&&obj.__esModule?obj:{default:obj},_pdfjsLib=__webpack_require__(7),_ui_utils=__webpack_require__(5);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _slicedToArray(arr,i){return(arr=>{if(Array.isArray(arr))return arr})(arr)||((arr,i)=>{if(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}})(arr,i)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var NON_METRIC_LOCALES=["en-us","en-lr","my"],US_PAGE_NAMES={"8.5x11":"Letter","8.5x14":"Legal"},METRIC_PAGE_NAMES={"297x420":"A3","210x297":"A4"};function getPageName(size,isPortrait,pageNames){var width=isPortrait?size.width:size.height,isPortrait=isPortrait?size.height:size.width;return pageNames["".concat(width,"x").concat(isPortrait)]}var obj=(()=>{function PDFDocumentProperties(_ref,overlayManager,eventBus){var _this=this,overlayName=_ref.overlayName,fields=_ref.fields,container=_ref.container,_ref=_ref.closeButton,l10n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:_ui_utils.NullL10n,instance=this,Constructor=PDFDocumentProperties;if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");this.overlayName=overlayName,this.fields=fields,this.container=container,this.overlayManager=overlayManager,this.l10n=l10n,this._reset(),_ref&&_ref.addEventListener("click",this.close.bind(this)),this.overlayManager.register(this.overlayName,this.container,this.close.bind(this)),eventBus&&(eventBus.on("pagechanging",function(evt){_this._currentPageNumber=evt.pageNumber}),eventBus.on("rotationchanging",function(evt){_this._pagesRotation=evt.pagesRotation})),this._isNonMetricLocale=!0,l10n.getLanguage().then(function(locale){_this._isNonMetricLocale=NON_METRIC_LOCALES.includes(locale)})}var Constructor,protoProps,staticProps,_parseDate2,_parsePageSize2,_parseFileSize2;return Constructor=PDFDocumentProperties,(protoProps=[{key:"open",value:function(){function freezeFieldData(data){Object.defineProperty(_this2,"fieldData",{value:Object.freeze(data),writable:!1,enumerable:!0,configurable:!0})}var _this2=this;Promise.all([this.overlayManager.open(this.overlayName),this._dataAvailableCapability.promise]).then(function(){var currentPageNumber=_this2._currentPageNumber,pagesRotation=_this2._pagesRotation;_this2.fieldData&&currentPageNumber===_this2.fieldData._currentPageNumber&&pagesRotation===_this2.fieldData._pagesRotation?_this2._updateUI():_this2.pdfDocument.getMetadata().then(function(_ref2){var info=_ref2.info;return Promise.all([info,_ref2.metadata,_ref2.contentDispositionFilename||(0,_ui_utils.getPDFFileNameFromURL)(_this2.url||""),_this2._parseFileSize(_this2.maybeFileSize),_this2._parseDate(info.CreationDate),_this2._parseDate(info.ModDate),_this2.pdfDocument.getPage(currentPageNumber).then(function(pdfPage){return _this2._parsePageSize((0,_ui_utils.getPageSizeInches)(pdfPage),pagesRotation)}),_this2._parseLinearization(info.IsLinearized)])}).then(function(_ref3){var _ref3=_slicedToArray(_ref3,8),info=_ref3[0];return freezeFieldData({fileName:_ref3[2],fileSize:_ref3[3],title:info.Title,author:info.Author,subject:info.Subject,keywords:info.Keywords,creationDate:_ref3[4],modificationDate:_ref3[5],creator:info.Creator,producer:info.Producer,version:info.PDFFormatVersion,pageCount:_this2.pdfDocument.numPages,pageSize:_ref3[6],linearized:_ref3[7],_currentPageNumber:currentPageNumber,_pagesRotation:pagesRotation}),_this2._updateUI(),_this2.pdfDocument.getDownloadInfo()}).then(function(_ref5){_ref5=_ref5.length;return _this2.maybeFileSize=_ref5,_this2._parseFileSize(_ref5)}).then(function(fileSize){var data;fileSize!==_this2.fieldData.fileSize&&((data=Object.assign(Object.create(null),_this2.fieldData)).fileSize=fileSize,freezeFieldData(data),_this2._updateUI())})})}},{key:"close",value:function(){this.overlayManager.close(this.overlayName)}},{key:"setDocument",value:function(pdfDocument){var url=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.pdfDocument&&(this._reset(),this._updateUI(!0)),pdfDocument&&(this.pdfDocument=pdfDocument,this.url=url,this._dataAvailableCapability.resolve())}},{key:"setFileSize",value:function(fileSize){Number.isInteger(fileSize)&&0<fileSize&&(this.maybeFileSize=fileSize)}},{key:"_reset",value:function(){this.pdfDocument=null,this.url=null,this.maybeFileSize=0,delete this.fieldData,this._dataAvailableCapability=(0,_pdfjsLib.createPromiseCapability)(),this._currentPageNumber=1,this._pagesRotation=0}},{key:"_updateUI",value:function(){if(0<arguments.length&&void 0!==arguments[0]&&arguments[0]||!this.fieldData)for(var id in this.fields)this.fields[id].textContent="-";else if(this.overlayManager.active===this.overlayName)for(var _id in this.fields){var content=this.fieldData[_id];this.fields[_id].textContent=content||0===content?content:"-"}}},{key:"_parseFileSize",value:(_parseFileSize2=_asyncToGenerator(_regenerator.default.mark(function _callee(){var fileSize,kb,_args=arguments;return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(kb=(fileSize=0<_args.length&&void 0!==_args[0]?_args[0]:0)/1024){_context.next=6;break}return _context.abrupt("return",void 0);case 6:if(kb<1024)return _context.abrupt("return",this.l10n.get("document_properties_kb",{size_kb:(+kb.toPrecision(3)).toLocaleString(),size_b:fileSize.toLocaleString()},"{{size_kb}} KB ({{size_b}} bytes)"));_context.next=8;break;case 8:return _context.abrupt("return",this.l10n.get("document_properties_mb",{size_mb:(+(kb/1024).toPrecision(3)).toLocaleString(),size_b:fileSize.toLocaleString()},"{{size_mb}} MB ({{size_b}} bytes)"));case 9:case"end":return _context.stop()}},_callee,this)})),function(){return _parseFileSize2.apply(this,arguments)})},{key:"_parsePageSize",value:(_parsePageSize2=_asyncToGenerator(_regenerator.default.mark(function _callee2(pageSizeInches,pagesRotation){var isPortrait,sizeInches,sizeMillimeters,pageName,name,exactMillimeters,intMillimeters,_this3=this;return _regenerator.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(pageSizeInches){_context2.next=2;break}return _context2.abrupt("return",void 0);case 2:return pagesRotation%180!=0&&(pageSizeInches={width:pageSizeInches.height,height:pageSizeInches.width}),isPortrait=(0,_ui_utils.isPortraitOrientation)(pageSizeInches),sizeInches={width:Math.round(100*pageSizeInches.width)/100,height:Math.round(100*pageSizeInches.height)/100},sizeMillimeters={width:Math.round(25.4*pageSizeInches.width*10)/10,height:Math.round(25.4*pageSizeInches.height*10)/10},pageName=null,(name=getPageName(sizeInches,isPortrait,US_PAGE_NAMES)||getPageName(sizeMillimeters,isPortrait,METRIC_PAGE_NAMES))||Number.isInteger(sizeMillimeters.width)&&Number.isInteger(sizeMillimeters.height)||(exactMillimeters={width:25.4*pageSizeInches.width,height:25.4*pageSizeInches.height},intMillimeters={width:Math.round(sizeMillimeters.width),height:Math.round(sizeMillimeters.height)},Math.abs(exactMillimeters.width-intMillimeters.width)<.1&&Math.abs(exactMillimeters.height-intMillimeters.height)<.1&&(name=getPageName(intMillimeters,isPortrait,METRIC_PAGE_NAMES))&&(sizeInches={width:Math.round(intMillimeters.width/25.4*100)/100,height:Math.round(intMillimeters.height/25.4*100)/100},sizeMillimeters=intMillimeters)),name&&(pageName=this.l10n.get("document_properties_page_size_name_"+name.toLowerCase(),null,name)),_context2.abrupt("return",Promise.all([this._isNonMetricLocale?sizeInches:sizeMillimeters,this.l10n.get("document_properties_page_size_unit_"+(this._isNonMetricLocale?"inches":"millimeters"),null,this._isNonMetricLocale?"in":"mm"),pageName,this.l10n.get("document_properties_page_size_orientation_"+(isPortrait?"portrait":"landscape"),null,isPortrait?"portrait":"landscape")]).then(function(_ref6){var _ref6=_slicedToArray(_ref6,4),_ref7$=_ref6[0],width=_ref7$.width,_ref7$=_ref7$.height,unit=_ref6[1],name=_ref6[2],_ref6=_ref6[3];return _this3.l10n.get("document_properties_page_size_dimension_"+(name?"name_":"")+"string",{width:width.toLocaleString(),height:_ref7$.toLocaleString(),unit:unit,name:name,orientation:_ref6},"{{width}}  {{height}} {{unit}} ("+(name?"{{name}}, ":"")+"{{orientation}})")}));case 11:case"end":return _context2.stop()}},_callee2,this)})),function(_x,_x2){return _parsePageSize2.apply(this,arguments)})},{key:"_parseDate",value:(_parseDate2=_asyncToGenerator(_regenerator.default.mark(function _callee3(inputDate){var dateObject;return _regenerator.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(dateObject=_pdfjsLib.PDFDateString.toDateObject(inputDate)){_context3.next=3;break}return _context3.abrupt("return",void 0);case 3:return _context3.abrupt("return",this.l10n.get("document_properties_date_string",{date:dateObject.toLocaleDateString(),time:dateObject.toLocaleTimeString()},"{{date}}, {{time}}"));case 4:case"end":return _context3.stop()}},_callee3,this)})),function(_x3){return _parseDate2.apply(this,arguments)})},{key:"_parseLinearization",value:function(isLinearized){return this.l10n.get("document_properties_linearized_"+(isLinearized?"yes":"no"),null,isLinearized?"Yes":"No")}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),PDFDocumentProperties})();exports.PDFDocumentProperties=obj},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFFindBar=void 0;var _ui_utils=__webpack_require__(5),_pdf_find_controller=__webpack_require__(18);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__=(()=>{function PDFFindBar(options){var _this=this,eventBus=1<arguments.length&&void 0!==arguments[1]?arguments[1]:(0,_ui_utils.getGlobalEventBus)(),l10n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:_ui_utils.NullL10n,instance=this,Constructor=PDFFindBar;if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");this.opened=!1,this.bar=options.bar||null,this.toggleButton=options.toggleButton||null,this.findField=options.findField||null,this.highlightAll=options.highlightAllCheckbox||null,this.caseSensitive=options.caseSensitiveCheckbox||null,this.entireWord=options.entireWordCheckbox||null,this.findMsg=options.findMsg||null,this.findResultsCount=options.findResultsCount||null,this.findPreviousButton=options.findPreviousButton||null,this.findNextButton=options.findNextButton||null,this.eventBus=eventBus,this.l10n=l10n,this.toggleButton.addEventListener("click",function(){_this.toggle()}),this.findField.addEventListener("input",function(){_this.dispatchEvent("")}),this.bar.addEventListener("keydown",function(e){switch(e.keyCode){case 13:e.target===_this.findField&&_this.dispatchEvent("again",e.shiftKey);break;case 27:_this.close()}}),this.findPreviousButton.addEventListener("click",function(){_this.dispatchEvent("again",!0)}),this.findNextButton.addEventListener("click",function(){_this.dispatchEvent("again",!1)}),this.highlightAll.addEventListener("click",function(){_this.dispatchEvent("highlightallchange")}),this.caseSensitive.addEventListener("click",function(){_this.dispatchEvent("casesensitivitychange")}),this.entireWord.addEventListener("click",function(){_this.dispatchEvent("entirewordchange")}),this.eventBus.on("resize",this._adjustWidth.bind(this))}var Constructor,protoProps,staticProps;return Constructor=PDFFindBar,(protoProps=[{key:"reset",value:function(){this.updateUIState()}},{key:"dispatchEvent",value:function(type,findPrev){this.eventBus.dispatch("find",{source:this,type:type,query:this.findField.value,phraseSearch:!0,caseSensitive:this.caseSensitive.checked,entireWord:this.entireWord.checked,highlightAll:this.highlightAll.checked,findPrevious:findPrev})}},{key:"updateUIState",value:function(state,previous,matchesCount){var _this2=this,notFound=!1,findMsg="",status="";switch(state){case _pdf_find_controller.FindState.FOUND:break;case _pdf_find_controller.FindState.PENDING:status="pending";break;case _pdf_find_controller.FindState.NOT_FOUND:findMsg=this.l10n.get("find_not_found",null,"Phrase not found"),notFound=!0;break;case _pdf_find_controller.FindState.WRAPPED:findMsg=previous?this.l10n.get("find_reached_top",null,"Reached top of document, continued from bottom"):this.l10n.get("find_reached_bottom",null,"Reached end of document, continued from top")}this.findField.classList.toggle("notFound",notFound),this.findField.setAttribute("data-status",status),Promise.resolve(findMsg).then(function(msg){_this2.findMsg.textContent=msg,_this2._adjustWidth()}),this.updateResultsCount(matchesCount)}},{key:"updateResultsCount",value:function(){var _this3=this,_ref=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},_ref$current=_ref.current,_ref$current=void 0===_ref$current?0:_ref$current,_ref=_ref.total,total=void 0===_ref?0:_ref;this.findResultsCount&&(_ref="",0<total&&(_ref=1e3<total?this.l10n.get("find_match_count_limit",{limit:1e3},"More than {{limit}} matches"):this.l10n.get("find_match_count",{current:_ref$current,total:total},"{{current}} of {{total}} match"+(1!==total?"es":""))),Promise.resolve(_ref).then(function(msg){_this3.findResultsCount.textContent=msg,_this3.findResultsCount.classList.toggle("hidden",!total),_this3._adjustWidth()}))}},{key:"open",value:function(){this.opened||(this.opened=!0,this.toggleButton.classList.add("toggled"),this.bar.classList.remove("hidden")),this.findField.select(),this.findField.focus(),this._adjustWidth()}},{key:"close",value:function(){this.opened&&(this.opened=!1,this.toggleButton.classList.remove("toggled"),this.bar.classList.add("hidden"),this.eventBus.dispatch("findbarclose",{source:this}))}},{key:"toggle",value:function(){this.opened?this.close():this.open()}},{key:"_adjustWidth",value:function(){var findbarHeight;this.opened&&(this.bar.classList.remove("wrapContainers"),findbarHeight=this.bar.clientHeight,this.bar.firstElementChild.clientHeight<findbarHeight)&&this.bar.classList.add("wrapContainers")}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),PDFFindBar})();exports.PDFFindBar=__webpack_require__},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFFindController=exports.FindState=void 0;var _ui_utils=__webpack_require__(5),_pdfjsLib=__webpack_require__(7),_pdf_find_utils=__webpack_require__(19);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var FindState={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},CHARACTERS_TO_NORMALIZE=(exports.FindState=FindState,{"":"'","":"'","":"'","":"'","":'"',"":'"',"":'"',"":'"',"":"1/4","":"1/2","":"3/4"}),normalizationRegex=null;function normalize(text){var replace;return normalizationRegex||(replace=Object.keys(CHARACTERS_TO_NORMALIZE).join(""),normalizationRegex=new RegExp("[".concat(replace,"]"),"g")),text.replace(normalizationRegex,function(ch){return CHARACTERS_TO_NORMALIZE[ch]})}__webpack_require__=(()=>{function PDFFindController(_ref){var linkService=_ref.linkService,_ref=_ref.eventBus,_ref=void 0===_ref?(0,_ui_utils.getGlobalEventBus)():_ref;if(!(this instanceof PDFFindController))throw new TypeError("Cannot call a class as a function");this._linkService=linkService,this._eventBus=_ref,this._reset(),_ref.on("findbarclose",this._onFindBarClose.bind(this))}var Constructor,protoProps,staticProps;return Constructor=PDFFindController,(protoProps=[{key:"setDocument",value:function(pdfDocument){this._pdfDocument&&this._reset(),pdfDocument&&(this._pdfDocument=pdfDocument,this._firstPageCapability.resolve())}},{key:"executeCommand",value:function(cmd,state){var pdfDocument,_this=this;state&&(pdfDocument=this._pdfDocument,null!==this._state&&!this._shouldDirtyMatch(cmd,state)||(this._dirtyMatch=!0),this._state=state,"findhighlightallchange"!==cmd&&this._updateUIState(FindState.PENDING),this._firstPageCapability.promise.then(function(){var findbarClosed,pendingTimeout;!_this._pdfDocument||pdfDocument&&_this._pdfDocument!==pdfDocument||(_this._extractText(),findbarClosed=!_this._highlightMatches,pendingTimeout=!!_this._findTimeout,_this._findTimeout&&(clearTimeout(_this._findTimeout),_this._findTimeout=null),"find"===cmd?_this._findTimeout=setTimeout(function(){_this._nextMatch(),_this._findTimeout=null},250):_this._dirtyMatch?_this._nextMatch():"findagain"===cmd?(_this._nextMatch(),findbarClosed&&_this._state.highlightAll&&_this._updateAllPages()):"findhighlightallchange"===cmd?(pendingTimeout?_this._nextMatch():_this._highlightMatches=!0,_this._updateAllPages()):_this._nextMatch())}))}},{key:"scrollMatchIntoView",value:function(_ref2){var _ref2$element=_ref2.element,_ref2$element=void 0===_ref2$element?null:_ref2$element,_ref2$pageIndex=_ref2.pageIndex,_ref2$pageIndex=void 0===_ref2$pageIndex?-1:_ref2$pageIndex,_ref2=_ref2.matchIndex,_ref2=void 0===_ref2?-1:_ref2;this._scrollMatches&&_ref2$element&&-1!==_ref2&&_ref2===this._selected.matchIdx&&-1!==_ref2$pageIndex&&_ref2$pageIndex===this._selected.pageIdx&&(this._scrollMatches=!1,_ui_utils.scrollIntoView)(_ref2$element,{top:-50,left:-400},!0)}},{key:"_reset",value:function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=Object.create(null),this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,_pdfjsLib.createPromiseCapability)()}},{key:"_shouldDirtyMatch",value:function(cmd,state){if(state.query===this._state.query)switch(cmd){case"findagain":var pageNumber=this._selected.pageIdx+1,linkService=this._linkService;return 1<=pageNumber&&pageNumber<=linkService.pagesCount&&pageNumber!==linkService.page&&!linkService.isPageVisible(pageNumber)?!0:!1;case"findhighlightallchange":return!1}return!0}},{key:"_prepareMatches",value:function(matchesWithLength,matches,matchesLength){matchesWithLength.sort(function(a,b){return a.match===b.match?a.matchLength-b.matchLength:a.match-b.match});for(var i=0,len=matchesWithLength.length;i<len;i++)((matchesWithLength,currentIndex)=>{var currentElem=matchesWithLength[currentIndex];if(currentIndex<matchesWithLength.length-1&&currentElem.match===matchesWithLength[currentIndex+1].match)return currentElem.skipped=!0;for(var i=currentIndex-1;0<=i;i--){var prevElem=matchesWithLength[i];if(!prevElem.skipped){if(prevElem.match+prevElem.matchLength<currentElem.match)break;if(prevElem.match+prevElem.matchLength>=currentElem.match+currentElem.matchLength)return currentElem.skipped=!0,1}}})(matchesWithLength,i)||(matches.push(matchesWithLength[i].match),matchesLength.push(matchesWithLength[i].matchLength))}},{key:"_isEntireWord",value:function(content,startIdx,length){if(0<startIdx){var first=content.charCodeAt(startIdx),limit=content.charCodeAt(startIdx-1);if((0,_pdf_find_utils.getCharacterType)(first)===(0,_pdf_find_utils.getCharacterType)(limit))return!1}first=startIdx+length-1;if(first<content.length-1){limit=content.charCodeAt(first),startIdx=content.charCodeAt(1+first);if((0,_pdf_find_utils.getCharacterType)(limit)===(0,_pdf_find_utils.getCharacterType)(startIdx))return!1}return!0}},{key:"_calculatePhraseMatch",value:function(query,pageIndex,pageContent,entireWord){for(var matches=[],queryLen=query.length,matchIdx=-queryLen;-1!==(matchIdx=pageContent.indexOf(query,matchIdx+queryLen));)entireWord&&!this._isEntireWord(pageContent,matchIdx,queryLen)||matches.push(matchIdx);this._pageMatches[pageIndex]=matches}},{key:"_calculateWordMatch",value:function(query,pageIndex,pageContent,entireWord){for(var matchesWithLength=[],queryArray=query.match(/\S+/g),i=0,len=queryArray.length;i<len;i++)for(var subquery=queryArray[i],subqueryLen=subquery.length,matchIdx=-subqueryLen;;){if(-1===(matchIdx=pageContent.indexOf(subquery,matchIdx+subqueryLen)))break;entireWord&&!this._isEntireWord(pageContent,matchIdx,subqueryLen)||matchesWithLength.push({match:matchIdx,matchLength:subqueryLen,skipped:!1})}this._pageMatchesLength[pageIndex]=[],this._pageMatches[pageIndex]=[],this._prepareMatches(matchesWithLength,this._pageMatches[pageIndex],this._pageMatchesLength[pageIndex])}},{key:"_calculateMatch",value:function(pageIndex){var pageContent=this._pageContents[pageIndex],query=this._query,_this$_state=this._state,caseSensitive=_this$_state.caseSensitive,entireWord=_this$_state.entireWord,_this$_state=_this$_state.phraseSearch;0!==query.length&&(caseSensitive||(pageContent=pageContent.toLowerCase(),query=query.toLowerCase()),_this$_state?this._calculatePhraseMatch(query,pageIndex,pageContent,entireWord):this._calculateWordMatch(query,pageIndex,pageContent,entireWord),this._state.highlightAll&&this._updatePage(pageIndex),this._resumePageIdx===pageIndex&&(this._resumePageIdx=null,this._nextPageMatch()),0<(caseSensitive=this._pageMatches[pageIndex].length))&&(this._matchesCountTotal+=caseSensitive,this._updateUIResultsCount())}},{key:"_extractText",value:function(){var _this2=this;if(!(0<this._extractTextPromises.length))for(var promise=Promise.resolve(),i=0,ii=this._linkService.pagesCount;i<ii;i++)(i=>{var extractTextCapability=(0,_pdfjsLib.createPromiseCapability)();_this2._extractTextPromises[i]=extractTextCapability.promise,promise=promise.then(function(){return _this2._pdfDocument.getPage(i+1).then(function(pdfPage){return pdfPage.getTextContent({normalizeWhitespace:!0})}).then(function(textContent){for(var textItems=textContent.items,strBuf=[],j=0,jj=textItems.length;j<jj;j++)strBuf.push(textItems[j].str);_this2._pageContents[i]=normalize(strBuf.join("")),extractTextCapability.resolve(i)},function(reason){console.error("Unable to get text content for page ".concat(i+1),reason),_this2._pageContents[i]="",extractTextCapability.resolve(i)})})})(i)}},{key:"_updatePage",value:function(index){this._scrollMatches&&this._selected.pageIdx===index&&(this._linkService.page=index+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:index})}},{key:"_updateAllPages",value:function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}},{key:"_nextMatch",value:function(){var _this3=this,previous=this._state.findPrevious,currentPageIndex=this._linkService.page-1,numPages=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=currentPageIndex,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(var i=0;i<numPages;i++)!0!==this._pendingFindMatches[i]&&(this._pendingFindMatches[i]=!0,this._extractTextPromises[i].then(function(pageIdx){delete _this3._pendingFindMatches[pageIdx],_this3._calculateMatch(pageIdx)}))}if(""===this._query)this._updateUIState(FindState.FOUND);else if(!this._resumePageIdx){currentPageIndex=this._offset;if(this._pagesToSearch=numPages,null!==currentPageIndex.matchIdx){var numPageMatches=this._pageMatches[currentPageIndex.pageIdx].length;if(!previous&&currentPageIndex.matchIdx+1<numPageMatches||previous&&0<currentPageIndex.matchIdx)return currentPageIndex.matchIdx=previous?currentPageIndex.matchIdx-1:currentPageIndex.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(previous)}this._nextPageMatch()}}},{key:"_matchesReady",value:function(matches){var offset=this._offset,matches=matches.length,previous=this._state.findPrevious;return matches?(offset.matchIdx=previous?matches-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(previous),!!(offset.wrapped&&(offset.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}},{key:"_nextPageMatch",value:function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");var matches=null;do{var pageIdx=this._offset.pageIdx;if(!(matches=this._pageMatches[pageIdx])){this._resumePageIdx=pageIdx;break}}while(!this._matchesReady(matches))}},{key:"_advanceOffsetPage",value:function(previous){var offset=this._offset,numPages=this._linkService.pagesCount;offset.pageIdx=previous?offset.pageIdx-1:offset.pageIdx+1,offset.matchIdx=null,this._pagesToSearch--,(numPages<=offset.pageIdx||offset.pageIdx<0)&&(offset.pageIdx=previous?numPages-1:0,offset.wrapped=!0)}},{key:"_updateMatch",value:function(){var found=0<arguments.length&&void 0!==arguments[0]&&arguments[0],state=FindState.NOT_FOUND,wrapped=this._offset.wrapped;this._offset.wrapped=!1,found&&(found=this._selected.pageIdx,this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,state=wrapped?FindState.WRAPPED:FindState.FOUND,-1!==found)&&found!==this._selected.pageIdx&&this._updatePage(found),this._updateUIState(state,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}},{key:"_onFindBarClose",value:function(evt){var _this4=this,pdfDocument=this._pdfDocument;this._firstPageCapability.promise.then(function(){!_this4._pdfDocument||pdfDocument&&_this4._pdfDocument!==pdfDocument||(_this4._findTimeout&&(clearTimeout(_this4._findTimeout),_this4._findTimeout=null),_this4._resumePageIdx&&(_this4._resumePageIdx=null,_this4._dirtyMatch=!0),_this4._updateUIState(FindState.FOUND),_this4._highlightMatches=!1,_this4._updateAllPages())})}},{key:"_requestMatchesCount",value:function(){var _this$_selected=this._selected,pageIdx=_this$_selected.pageIdx,_this$_selected=_this$_selected.matchIdx,current=0,total=this._matchesCountTotal;if(-1!==_this$_selected){for(var i=0;i<pageIdx;i++)current+=this._pageMatches[i]&&this._pageMatches[i].length||0;current+=_this$_selected+1}return{current:current=current<1||total<current?total=0:current,total:total}}},{key:"_updateUIResultsCount",value:function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}},{key:"_updateUIState",value:function(state,previous){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:state,previous:previous,matchesCount:this._requestMatchesCount()})}},{key:"highlightMatches",get:function(){return this._highlightMatches}},{key:"pageMatches",get:function(){return this._pageMatches}},{key:"pageMatchesLength",get:function(){return this._pageMatchesLength}},{key:"selected",get:function(){return this._selected}},{key:"state",get:function(){return this._state}},{key:"_query",get:function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,this._normalizedQuery=normalize(this._state.query)),this._normalizedQuery}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),PDFFindController})();exports.PDFFindController=__webpack_require__},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCharacterType=function(charCode){if(charCode<11904){if(0==(65408&charCode))return(charCode=>32===charCode||9===charCode||13===charCode||10===charCode)(charCode)?CharacterType.SPACE:(charCode=>97<=charCode&&charCode<=122||65<=charCode&&charCode<=90)(charCode)||(charCode=>48<=charCode&&charCode<=57)(charCode)||95===charCode?CharacterType.ALPHA_LETTER:CharacterType.PUNCT;if(3584==(65408&charCode))return CharacterType.THAI_LETTER;if(160===charCode)return CharacterType.SPACE}else{if((charCode=>13312<=charCode&&charCode<=40959||63744<=charCode&&charCode<=64255)(charCode))return CharacterType.HAN_LETTER;if((charCode=>12448<=charCode&&charCode<=12543)(charCode))return CharacterType.KATAKANA_LETTER;if((charCode=>12352<=charCode&&charCode<=12447)(charCode))return CharacterType.HIRAGANA_LETTER;if((charCode=>65376<=charCode&&charCode<=65439)(charCode))return CharacterType.HALFWIDTH_KATAKANA_LETTER}return CharacterType.ALPHA_LETTER},exports.CharacterType=void 0;var CharacterType={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};exports.CharacterType=CharacterType},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.isDestHashesEqual=isDestHashesEqual,exports.isDestArraysEqual=isDestArraysEqual,exports.PDFHistory=void 0;var _ui_utils=__webpack_require__(5);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _slicedToArray(arr,i){return(arr=>{if(Array.isArray(arr))return arr})(arr)||((arr,i)=>{if(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}})(arr,i)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function getCurrentHash(){return document.location.hash}function parseCurrentHash(linkService){var hash=unescape(getCurrentHash()).substring(1),page=0|(0,_ui_utils.parseQueryString)(hash).page;return{hash:hash,page:page=Number.isInteger(page)&&0<page&&page<=linkService.pagesCount?page:null,rotation:linkService.rotation}}__webpack_require__=(()=>{function PDFHistory(_ref){var _this=this,linkService=_ref.linkService,_ref=_ref.eventBus;if(!(this instanceof PDFHistory))throw new TypeError("Cannot call a class as a function");this.linkService=linkService,this.eventBus=_ref||(0,_ui_utils.getGlobalEventBus)(),this.initialized=!1,this.initialBookmark=null,this.initialRotation=null,this._boundEvents=Object.create(null),this._isViewerInPresentationMode=!1,this._isPagesLoaded=!1,this.eventBus.on("presentationmodechanged",function(evt){_this._isViewerInPresentationMode=evt.active||evt.switchInProgress}),this.eventBus.on("pagesloaded",function(evt){_this._isPagesLoaded=!!evt.pagesCount})}var Constructor,protoProps,staticProps;return Constructor=PDFHistory,(protoProps=[{key:"initialize",value:function(_ref2){var fingerprint=_ref2.fingerprint,_ref2$resetHistory=_ref2.resetHistory,_ref2$resetHistory=void 0!==_ref2$resetHistory&&_ref2$resetHistory,_ref2=_ref2.updateUrl,_ref2=void 0!==_ref2&&_ref2;if(fingerprint&&"string"==typeof fingerprint){var hash,page,reInitialized=this.initialized&&this.fingerprint!==fingerprint,fingerprint=(this.fingerprint=fingerprint,this._updateUrl=!0===_ref2,this.initialized||this._bindEvents(),window.history.state);if(this.initialized=!0,this.initialBookmark=null,this.initialRotation=null,this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=getCurrentHash(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(fingerprint,!0)||_ref2$resetHistory)return hash=(_ref2=parseCurrentHash(this.linkService)).hash,page=_ref2.page,_ref2=_ref2.rotation,!hash||reInitialized||_ref2$resetHistory?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:hash,page:page,rotation:_ref2},!0);reInitialized=fingerprint.destination;this._updateInternalState(reInitialized,fingerprint.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),void 0!==reInitialized.rotation&&(this.initialRotation=reInitialized.rotation),reInitialized.dest?(this.initialBookmark=JSON.stringify(reInitialized.dest),this._destination.page=null):reInitialized.hash?this.initialBookmark=reInitialized.hash:reInitialized.page&&(this.initialBookmark="page=".concat(reInitialized.page))}else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"push",value:function(_ref3){var _this2=this,_ref3$namedDest=_ref3.namedDest,_ref3$namedDest=void 0===_ref3$namedDest?null:_ref3$namedDest,explicitDest=_ref3.explicitDest,_ref3=_ref3.pageNumber;if(this.initialized)if(_ref3$namedDest&&"string"!=typeof _ref3$namedDest)console.error("PDFHistory.push: "+'"'.concat(_ref3$namedDest,'" is not a valid namedDest parameter.'));else if(Array.isArray(explicitDest))if(Number.isInteger(_ref3)&&0<_ref3&&_ref3<=this.linkService.pagesCount||null===_ref3&&!this._destination){_ref3$namedDest=_ref3$namedDest||JSON.stringify(explicitDest);if(_ref3$namedDest){var forceReplace=!1;if(this._destination&&(isDestHashesEqual(this._destination.hash,_ref3$namedDest)||isDestArraysEqual(this._destination.dest,explicitDest))){if(this._destination.page)return;forceReplace=!0}this._popStateInProgress&&!forceReplace||(this._pushOrReplaceState({dest:explicitDest,hash:_ref3$namedDest,page:_ref3,rotation:this.linkService.rotation},forceReplace),this._popStateInProgress)||(this._popStateInProgress=!0,Promise.resolve().then(function(){_this2._popStateInProgress=!1}))}}else console.error("PDFHistory.push: "+'"'.concat(_ref3,'" is not a valid pageNumber parameter.'));else console.error("PDFHistory.push: "+'"'.concat(explicitDest,'" is not a valid explicitDest parameter.'))}},{key:"pushCurrentPosition",value:function(){this.initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}},{key:"back",value:function(){var state;this.initialized&&!this._popStateInProgress&&(state=window.history.state,this._isValidState(state))&&0<state.uid&&window.history.back()}},{key:"forward",value:function(){var state;this.initialized&&!this._popStateInProgress&&(state=window.history.state,this._isValidState(state))&&state.uid<this._maxUid&&window.history.forward()}},{key:"_pushOrReplaceState",value:function(destination){var newUrl,baseUrl,shouldReplace=1<arguments.length&&void 0!==arguments[1]&&arguments[1]||!this._destination,newState={fingerprint:this.fingerprint,uid:shouldReplace?this._uid:this._uid+1,destination:destination};this._updateInternalState(destination,newState.uid),this._updateUrl&&destination&&destination.hash&&((baseUrl=document.location.href.split("#")[0]).startsWith("file://")||(newUrl="".concat(baseUrl,"#").concat(destination.hash))),shouldReplace?newUrl?window.history.replaceState(newState,"",newUrl):window.history.replaceState(newState,""):(this._maxUid=this._uid,newUrl?window.history.pushState(newState,"",newUrl):window.history.pushState(newState,""))}},{key:"_tryPushCurrentPosition",value:function(){var temporary=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(this._position){var position=this._position;if(temporary&&((position=Object.assign(Object.create(null),this._position)).temporary=!0),this._destination){if(this._destination.temporary)this._pushOrReplaceState(position,!0);else if(this._destination.hash!==position.hash&&(this._destination.page||!(this._numPositionUpdates<=50))){temporary=!1;if(this._destination.page>=position.first&&this._destination.page<=position.page){if(this._destination.dest||!this._destination.first)return;temporary=!0}this._pushOrReplaceState(position,temporary)}}else this._pushOrReplaceState(position)}}},{key:"_isValidState",value:function(state){if(!state)return!1;if(state.fingerprint!==this.fingerprint){if(!(1<arguments.length&&void 0!==arguments[1]&&arguments[1]))return!1;if("string"!=typeof state.fingerprint||state.fingerprint.length!==this.fingerprint.length)return!1;var perfEntry=_slicedToArray(performance.getEntriesByType("navigation"),1)[0];if(!perfEntry||"reload"!==perfEntry.type)return!1}return!(!Number.isInteger(state.uid)||state.uid<0)&&null!==state.destination&&"object"===_typeof(state.destination)}},{key:"_updateInternalState",value:function(destination,uid){var removeTemporary=2<arguments.length&&void 0!==arguments[2]&&arguments[2];this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),removeTemporary&&destination&&destination.temporary&&delete destination.temporary,this._destination=destination,this._uid=uid,this._numPositionUpdates=0}},{key:"_updateViewarea",value:function(_ref4){var _this3=this,_ref4=_ref4.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?"page=".concat(_ref4.pageNumber):_ref4.pdfOpenParams.substring(1),page:this.linkService.page,first:_ref4.pageNumber,rotation:_ref4.rotation},this._popStateInProgress||(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(function(){_this3._popStateInProgress||_this3._tryPushCurrentPosition(!0),_this3._updateViewareaTimeout=null},1e3))}},{key:"_popState",value:function(_ref5){var _this4=this,_ref5=_ref5.state,newHash=getCurrentHash(),hashChanged=this._currentHash!==newHash;this._currentHash=newHash,_ref5?this._isValidState(_ref5)&&(this._popStateInProgress=!0,hashChanged&&(this._blockHashChange++,(0,_ui_utils.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(function(){_this4._blockHashChange--})),newHash=_ref5.destination,this._updateInternalState(newHash,_ref5.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),(0,_ui_utils.isValidRotation)(newHash.rotation)&&(this.linkService.rotation=newHash.rotation),newHash.dest?this.linkService.navigateTo(newHash.dest):newHash.hash?this.linkService.setHash(newHash.hash):newHash.page&&(this.linkService.page=newHash.page),Promise.resolve().then(function(){_this4._popStateInProgress=!1})):(this._uid++,_ref5=(hashChanged=parseCurrentHash(this.linkService)).hash,this._pushOrReplaceState({hash:_ref5,page:hashChanged.page,rotation:hashChanged.rotation},!0))}},{key:"_bindEvents",value:function(){var _this5=this,_boundEvents=this._boundEvents,eventBus=this.eventBus;_boundEvents.updateViewarea=this._updateViewarea.bind(this),_boundEvents.popState=this._popState.bind(this),_boundEvents.pageHide=function(evt){_this5._destination&&!_this5._destination.temporary||_this5._tryPushCurrentPosition()},eventBus.on("updateviewarea",_boundEvents.updateViewarea),window.addEventListener("popstate",_boundEvents.popState),window.addEventListener("pagehide",_boundEvents.pageHide)}},{key:"popStateInProgress",get:function(){return this.initialized&&(this._popStateInProgress||0<this._blockHashChange)}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),PDFHistory})();function isDestHashesEqual(destHash,pushHash){return"string"==typeof destHash&&"string"==typeof pushHash&&(destHash===pushHash||(0,_ui_utils.parseQueryString)(destHash).nameddest===pushHash)}function isDestArraysEqual(firstDest,secondDest){if(!Array.isArray(firstDest)||!Array.isArray(secondDest))return!1;if(firstDest.length!==secondDest.length)return!1;for(var i=0,ii=firstDest.length;i<ii;i++)if(!function isEntryEqual(first,second){if(_typeof(first)===_typeof(second)&&!Array.isArray(first)&&!Array.isArray(second)){if(null===first||"object"!==_typeof(first)||null===second)return first===second||Number.isNaN(first)&&Number.isNaN(second);if(Object.keys(first).length===Object.keys(second).length){for(var key in first)if(!isEntryEqual(first[key],second[key]))return;return 1}}}(firstDest[i],secondDest[i]))return!1;return!0}exports.PDFHistory=__webpack_require__},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.SimpleLinkService=exports.PDFLinkService=void 0;var _ui_utils=__webpack_require__(5);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps)}__webpack_require__=(()=>{function PDFLinkService(){var _ref=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},eventBus=_ref.eventBus,_ref$externalLinkTarg=_ref.externalLinkTarget,_ref$externalLinkTarg=void 0===_ref$externalLinkTarg?null:_ref$externalLinkTarg,_ref$externalLinkRel=_ref.externalLinkRel,_ref$externalLinkRel=void 0===_ref$externalLinkRel?null:_ref$externalLinkRel,_ref=_ref.externalLinkEnabled,_ref=void 0===_ref||_ref;_classCallCheck(this,PDFLinkService),this.eventBus=eventBus||(0,_ui_utils.getGlobalEventBus)(),this.externalLinkTarget=_ref$externalLinkTarg,this.externalLinkRel=_ref$externalLinkRel,this.externalLinkEnabled=_ref,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}return _createClass(PDFLinkService,[{key:"setDocument",value:function(pdfDocument){this.baseUrl=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,this.pdfDocument=pdfDocument,this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(pdfViewer){this.pdfViewer=pdfViewer}},{key:"setHistory",value:function(pdfHistory){this.pdfHistory=pdfHistory}},{key:"navigateTo",value:function(dest){function goToDestination(_ref2){var pageNumber,namedDest=_ref2.namedDest,explicitDest=_ref2.explicitDest,destRef=explicitDest[0];if(destRef instanceof Object){if(null===(pageNumber=_this._cachedPageNumber(destRef)))return void _this.pdfDocument.getPageIndex(destRef).then(function(pageIndex){_this.cachePageRef(pageIndex+1,destRef),goToDestination({namedDest:namedDest,explicitDest:explicitDest})}).catch(function(){console.error('PDFLinkService.navigateTo: "'.concat(destRef,'" is not ')+'a valid page reference, for dest="'.concat(dest,'".'))})}else{if(!Number.isInteger(destRef))return void console.error('PDFLinkService.navigateTo: "'.concat(destRef,'" is not ')+'a valid destination reference, for dest="'.concat(dest,'".'));pageNumber=destRef+1}!pageNumber||pageNumber<1||pageNumber>_this.pagesCount?console.error('PDFLinkService.navigateTo: "'.concat(pageNumber,'" is not ')+'a valid page number, for dest="'.concat(dest,'".')):(_this.pdfHistory&&(_this.pdfHistory.pushCurrentPosition(),_this.pdfHistory.push({namedDest:namedDest,explicitDest:explicitDest,pageNumber:pageNumber})),_this.pdfViewer.scrollPageIntoView({pageNumber:pageNumber,destArray:explicitDest}))}var _this=this;new Promise(function(resolve,reject){"string"==typeof dest?_this.pdfDocument.getDestination(dest).then(function(destArray){resolve({namedDest:dest,explicitDest:destArray})}):resolve({namedDest:"",explicitDest:dest})}).then(function(data){Array.isArray(data.explicitDest)?goToDestination(data):console.error('PDFLinkService.navigateTo: "'.concat(data.explicitDest,'" is')+' not a valid destination array, for dest="'.concat(dest,'".'))})}},{key:"getDestinationHash",value:function(dest){return"string"==typeof dest?this.getAnchorUrl("#"+escape(dest)):Array.isArray(dest)?(dest=JSON.stringify(dest),this.getAnchorUrl("#"+escape(dest))):this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(anchor){return(this.baseUrl||"")+anchor}},{key:"setHash",value:function(hash){var pageNumber,dest;if(hash.includes("=")){var zoomArgs,zoomArg,zoomArgNumber,params=(0,_ui_utils.parseQueryString)(hash);"search"in params&&this.eventBus.dispatch("findfromurlhash",{source:this,query:params.search.replace(/"/g,""),phraseSearch:"true"===params.phrase}),"nameddest"in params?this.navigateTo(params.nameddest):("page"in params&&(pageNumber=0|params.page||1),"zoom"in params&&(zoomArg=(zoomArgs=params.zoom.split(","))[0],zoomArgNumber=parseFloat(zoomArg),zoomArg.includes("Fit")?"Fit"===zoomArg||"FitB"===zoomArg?dest=[null,{name:zoomArg}]:"FitH"===zoomArg||"FitBH"===zoomArg||"FitV"===zoomArg||"FitBV"===zoomArg?dest=[null,{name:zoomArg},1<zoomArgs.length?0|zoomArgs[1]:null]:"FitR"===zoomArg?5!==zoomArgs.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):dest=[null,{name:zoomArg},0|zoomArgs[1],0|zoomArgs[2],0|zoomArgs[3],0|zoomArgs[4]]:console.error('PDFLinkService.setHash: "'.concat(zoomArg,'" is not ')+"a valid zoom value."):dest=[null,{name:"XYZ"},1<zoomArgs.length?0|zoomArgs[1]:null,2<zoomArgs.length?0|zoomArgs[2]:null,zoomArgNumber?zoomArgNumber/100:zoomArg]),dest?this.pdfViewer.scrollPageIntoView({pageNumber:pageNumber||this.page,destArray:dest,allowNegativeOffset:!0}):pageNumber&&(this.page=pageNumber),"pagemode"in params&&this.eventBus.dispatch("pagemode",{source:this,mode:params.pagemode}))}else{dest=unescape(hash);try{dest=JSON.parse(dest),Array.isArray(dest)||(dest=dest.toString())}catch(ex){}"string"==typeof dest||(dest=>{if(Array.isArray(dest)){var destLength=dest.length,allowNull=!0;if(!(destLength<2)){var page=dest[0];if(("object"===_typeof(page)&&Number.isInteger(page.num)&&Number.isInteger(page.gen)||Number.isInteger(page)&&0<=page)&&"object"===_typeof(page=dest[1])&&"string"==typeof page.name){switch(page.name){case"XYZ":if(5!==destLength)return;break;case"Fit":case"FitB":return 2===destLength;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==destLength)return;break;case"FitR":if(6!==destLength)return;allowNull=!1;break;default:return}for(var i=2;i<destLength;i++){var param=dest[i];if(!("number"==typeof param||allowNull&&null===param))return}return 1}}}})(dest)?this.navigateTo(dest):console.error('PDFLinkService.setHash: "'.concat(unescape(hash),'" is not ')+"a valid destination.")}}},{key:"executeNamedAction",value:function(action){switch(action){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.page<this.pagesCount&&this.page++;break;case"PrevPage":1<this.page&&this.page--;break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:action})}},{key:"cachePageRef",value:function(pageNum,pageRef){pageRef&&(pageRef=0===pageRef.gen?"".concat(pageRef.num,"R"):"".concat(pageRef.num,"R").concat(pageRef.gen),this._pagesRefCache[pageRef]=pageNum)}},{key:"_cachedPageNumber",value:function(pageRef){pageRef=0===pageRef.gen?"".concat(pageRef.num,"R"):"".concat(pageRef.num,"R").concat(pageRef.gen);return this._pagesRefCache&&this._pagesRefCache[pageRef]||null}},{key:"isPageVisible",value:function(pageNumber){return this.pdfViewer.isPageVisible(pageNumber)}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(value){this.pdfViewer.currentPageNumber=value}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(value){this.pdfViewer.pagesRotation=value}}]),PDFLinkService})();exports.PDFLinkService=__webpack_require__,exports.SimpleLinkService=(()=>{function SimpleLinkService(){_classCallCheck(this,SimpleLinkService),this.externalLinkTarget=null,this.externalLinkRel=null,this.externalLinkEnabled=!0}return _createClass(SimpleLinkService,[{key:"navigateTo",value:function(dest){}},{key:"getDestinationHash",value:function(dest){return"#"}},{key:"getAnchorUrl",value:function(hash){return"#"}},{key:"setHash",value:function(hash){}},{key:"executeNamedAction",value:function(action){}},{key:"cachePageRef",value:function(pageNum,pageRef){}},{key:"isPageVisible",value:function(pageNumber){return!0}},{key:"pagesCount",get:function(){return 0}},{key:"page",get:function(){return 0},set:function(value){}},{key:"rotation",get:function(){return 0},set:function(value){}}]),SimpleLinkService})()},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFOutlineViewer=void 0;var _pdfjsLib=__webpack_require__(7);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__=(()=>{function PDFOutlineViewer(_ref){var container=_ref.container,linkService=_ref.linkService,_ref=_ref.eventBus;if(!(this instanceof PDFOutlineViewer))throw new TypeError("Cannot call a class as a function");this.container=container,this.linkService=linkService,this.eventBus=_ref,this.reset(),_ref.on("toggleoutlinetree",this.toggleOutlineTree.bind(this))}var Constructor,protoProps,staticProps;return Constructor=PDFOutlineViewer,(protoProps=[{key:"reset",value:function(){this.outline=null,this.lastToggleIsShow=!0,this.container.textContent="",this.container.classList.remove("outlineWithDeepNesting")}},{key:"_dispatchEvent",value:function(outlineCount){this.eventBus.dispatch("outlineloaded",{source:this,outlineCount:outlineCount})}},{key:"_bindLink",value:function(element,_ref2){var url=_ref2.url,dest=_ref2.dest,linkService=this.linkService;url?(0,_pdfjsLib.addLinkAttributes)(element,{url:url,target:_ref2.newWindow?_pdfjsLib.LinkTarget.BLANK:linkService.externalLinkTarget,rel:linkService.externalLinkRel,enabled:linkService.externalLinkEnabled}):(element.href=linkService.getDestinationHash(dest),element.onclick=function(){return dest&&linkService.navigateTo(dest),!1})}},{key:"_setStyles",value:function(element,_ref3){var styleStr="";_ref3.bold&&(styleStr+="font-weight: bold;"),_ref3.italic&&(styleStr+="font-style: italic;"),styleStr&&element.setAttribute("style",styleStr)}},{key:"_addToggleButton",value:function(div,_ref4){var _this=this,count=_ref4.count,_ref4=_ref4.items,toggler=document.createElement("div");toggler.className="outlineItemToggler",count<0&&Math.abs(count)===_ref4.length&&toggler.classList.add("outlineItemsHidden"),toggler.onclick=function(evt){evt.stopPropagation(),toggler.classList.toggle("outlineItemsHidden"),evt.shiftKey&&(evt=!toggler.classList.contains("outlineItemsHidden"),_this._toggleOutlineItem(div,evt))},div.insertBefore(toggler,div.firstChild)}},{key:"_toggleOutlineItem",value:function(root){var show=1<arguments.length&&void 0!==arguments[1]&&arguments[1],_iteratorNormalCompletion=(this.lastToggleIsShow=show,!0),_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=root.querySelectorAll(".outlineItemToggler")[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_step.value.classList.toggle("outlineItemsHidden",!show)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}},{key:"toggleOutlineTree",value:function(){this.outline&&this._toggleOutlineItem(this.container,!this.lastToggleIsShow)}},{key:"render",value:function(_ref5){var _ref5=_ref5.outline,outlineCount=0;if(this.outline&&this.reset(),this.outline=_ref5||null,_ref5){for(var _ref5,queue=[{parent:_ref5=document.createDocumentFragment(),items:this.outline}],hasAnyNesting=!1;0<queue.length;){var levelData=queue.shift(),_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=levelData.items[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var itemsDiv,item=_step2.value,div=document.createElement("div"),element=(div.className="outlineItem",document.createElement("a"));this._bindLink(element,item),this._setStyles(element,item),element.textContent=(0,_pdfjsLib.removeNullCharacters)(item.title)||"",div.appendChild(element),0<item.items.length&&(hasAnyNesting=!0,this._addToggleButton(div,item),(itemsDiv=document.createElement("div")).className="outlineItems",div.appendChild(itemsDiv),queue.push({parent:itemsDiv,items:item.items})),levelData.parent.appendChild(div),outlineCount++}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}hasAnyNesting&&(this.container.classList.add("outlineWithDeepNesting"),this.lastToggleIsShow=0===_ref5.querySelectorAll(".outlineItemsHidden").length),this.container.appendChild(_ref5)}this._dispatchEvent(outlineCount)}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),PDFOutlineViewer})();exports.PDFOutlineViewer=__webpack_require__},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFPresentationMode=void 0;var _ui_utils=__webpack_require__(5);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var SWIPE_ANGLE_THRESHOLD=Math.PI/6,__webpack_require__=(()=>{function PDFPresentationMode(_ref){var _this=this,container=_ref.container,_ref$viewer=_ref.viewer,_ref$viewer=void 0===_ref$viewer?null:_ref$viewer,pdfViewer=_ref.pdfViewer,eventBus=_ref.eventBus,_ref=_ref.contextMenuItems,_ref=void 0===_ref?null:_ref;if(!(this instanceof PDFPresentationMode))throw new TypeError("Cannot call a class as a function");this.container=container,this.viewer=_ref$viewer||container.firstElementChild,this.pdfViewer=pdfViewer,this.eventBus=eventBus,this.active=!1,this.args=null,this.contextMenuOpen=!1,this.mouseScrollTimeStamp=0,this.mouseScrollDelta=0,this.touchSwipeState=null,_ref&&(_ref.contextFirstPage.addEventListener("click",function(){_this.contextMenuOpen=!1,_this.eventBus.dispatch("firstpage",{source:_this})}),_ref.contextLastPage.addEventListener("click",function(){_this.contextMenuOpen=!1,_this.eventBus.dispatch("lastpage",{source:_this})}),_ref.contextPageRotateCw.addEventListener("click",function(){_this.contextMenuOpen=!1,_this.eventBus.dispatch("rotatecw",{source:_this})}),_ref.contextPageRotateCcw.addEventListener("click",function(){_this.contextMenuOpen=!1,_this.eventBus.dispatch("rotateccw",{source:_this})}))}var Constructor,protoProps,staticProps;return Constructor=PDFPresentationMode,(protoProps=[{key:"request",value:function(){if(this.switchInProgress||this.active||!this.viewer.hasChildNodes())return!1;if(this._addFullscreenChangeListeners(),this._setSwitchInProgress(),this._notifyStateChange(),this.container.requestFullscreen)this.container.requestFullscreen();else if(this.container.mozRequestFullScreen)this.container.mozRequestFullScreen();else if(this.container.webkitRequestFullscreen)this.container.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);else{if(!this.container.msRequestFullscreen)return!1;this.container.msRequestFullscreen()}return this.args={page:this.pdfViewer.currentPageNumber,previousScale:this.pdfViewer.currentScaleValue},!0}},{key:"_mouseWheel",value:function(evt){var currentTime,storedTime;this.active&&(evt.preventDefault(),evt=(0,_ui_utils.normalizeWheelEventDelta)(evt),currentTime=(new Date).getTime(),(storedTime=this.mouseScrollTimeStamp)<currentTime&&currentTime-storedTime<50||((0<this.mouseScrollDelta&&evt<0||this.mouseScrollDelta<0&&0<evt)&&this._resetMouseScrollState(),this.mouseScrollDelta+=evt,.1<=Math.abs(this.mouseScrollDelta)&&(storedTime=this.mouseScrollDelta,this._resetMouseScrollState(),0<storedTime?this._goToPreviousPage():this._goToNextPage())&&(this.mouseScrollTimeStamp=currentTime)))}},{key:"_goToPreviousPage",value:function(){var page=this.pdfViewer.currentPageNumber;return!(page<=1||(this.pdfViewer.currentPageNumber=page-1,0))}},{key:"_goToNextPage",value:function(){var page=this.pdfViewer.currentPageNumber;return!(page>=this.pdfViewer.pagesCount||(this.pdfViewer.currentPageNumber=page+1,0))}},{key:"_notifyStateChange",value:function(){this.eventBus.dispatch("presentationmodechanged",{source:this,active:this.active,switchInProgress:!!this.switchInProgress})}},{key:"_setSwitchInProgress",value:function(){var _this2=this;this.switchInProgress&&clearTimeout(this.switchInProgress),this.switchInProgress=setTimeout(function(){_this2._removeFullscreenChangeListeners(),delete _this2.switchInProgress,_this2._notifyStateChange()},1500)}},{key:"_resetSwitchInProgress",value:function(){this.switchInProgress&&(clearTimeout(this.switchInProgress),delete this.switchInProgress)}},{key:"_enter",value:function(){var _this3=this;this.active=!0,this._resetSwitchInProgress(),this._notifyStateChange(),this.container.classList.add("pdfPresentationMode"),setTimeout(function(){_this3.pdfViewer.currentPageNumber=_this3.args.page,_this3.pdfViewer.currentScaleValue="page-fit"},0),this._addWindowListeners(),this._showControls(),this.contextMenuOpen=!1,this.container.setAttribute("contextmenu","viewerContextMenu"),window.getSelection().removeAllRanges()}},{key:"_exit",value:function(){var _this4=this,page=this.pdfViewer.currentPageNumber;this.container.classList.remove("pdfPresentationMode"),setTimeout(function(){_this4.active=!1,_this4._removeFullscreenChangeListeners(),_this4._notifyStateChange(),_this4.pdfViewer.currentScaleValue=_this4.args.previousScale,_this4.pdfViewer.currentPageNumber=page,_this4.args=null},0),this._removeWindowListeners(),this._hideControls(),this._resetMouseScrollState(),this.container.removeAttribute("contextmenu"),this.contextMenuOpen=!1}},{key:"_mouseDown",value:function(evt){this.contextMenuOpen?(this.contextMenuOpen=!1,evt.preventDefault()):0!==evt.button||evt.target.href&&evt.target.classList.contains("internalLink")||(evt.preventDefault(),evt.shiftKey?this._goToPreviousPage():this._goToNextPage())}},{key:"_contextMenu",value:function(){this.contextMenuOpen=!0}},{key:"_showControls",value:function(){var _this5=this;this.controlsTimeout?clearTimeout(this.controlsTimeout):this.container.classList.add("pdfPresentationModeControls"),this.controlsTimeout=setTimeout(function(){_this5.container.classList.remove("pdfPresentationModeControls"),delete _this5.controlsTimeout},3e3)}},{key:"_hideControls",value:function(){this.controlsTimeout&&(clearTimeout(this.controlsTimeout),this.container.classList.remove("pdfPresentationModeControls"),delete this.controlsTimeout)}},{key:"_resetMouseScrollState",value:function(){this.mouseScrollTimeStamp=0,this.mouseScrollDelta=0}},{key:"_touchSwipe",value:function(evt){if(this.active)if(1<evt.touches.length)this.touchSwipeState=null;else switch(evt.type){case"touchstart":this.touchSwipeState={startX:evt.touches[0].pageX,startY:evt.touches[0].pageY,endX:evt.touches[0].pageX,endY:evt.touches[0].pageY};break;case"touchmove":null!==this.touchSwipeState&&(this.touchSwipeState.endX=evt.touches[0].pageX,this.touchSwipeState.endY=evt.touches[0].pageY,evt.preventDefault());break;case"touchend":var delta,dx,dy,absAngle;null!==this.touchSwipeState&&(delta=0,dx=this.touchSwipeState.endX-this.touchSwipeState.startX,dy=this.touchSwipeState.endY-this.touchSwipeState.startY,absAngle=Math.abs(Math.atan2(dy,dx)),50<Math.abs(dx)&&(absAngle<=SWIPE_ANGLE_THRESHOLD||absAngle>=Math.PI-SWIPE_ANGLE_THRESHOLD)?delta=dx:50<Math.abs(dy)&&Math.abs(absAngle-Math.PI/2)<=SWIPE_ANGLE_THRESHOLD&&(delta=dy),0<delta?this._goToPreviousPage():delta<0&&this._goToNextPage())}}},{key:"_addWindowListeners",value:function(){this.showControlsBind=this._showControls.bind(this),this.mouseDownBind=this._mouseDown.bind(this),this.mouseWheelBind=this._mouseWheel.bind(this),this.resetMouseScrollStateBind=this._resetMouseScrollState.bind(this),this.contextMenuBind=this._contextMenu.bind(this),this.touchSwipeBind=this._touchSwipe.bind(this),window.addEventListener("mousemove",this.showControlsBind),window.addEventListener("mousedown",this.mouseDownBind),window.addEventListener("wheel",this.mouseWheelBind),window.addEventListener("keydown",this.resetMouseScrollStateBind),window.addEventListener("contextmenu",this.contextMenuBind),window.addEventListener("touchstart",this.touchSwipeBind),window.addEventListener("touchmove",this.touchSwipeBind),window.addEventListener("touchend",this.touchSwipeBind)}},{key:"_removeWindowListeners",value:function(){window.removeEventListener("mousemove",this.showControlsBind),window.removeEventListener("mousedown",this.mouseDownBind),window.removeEventListener("wheel",this.mouseWheelBind),window.removeEventListener("keydown",this.resetMouseScrollStateBind),window.removeEventListener("contextmenu",this.contextMenuBind),window.removeEventListener("touchstart",this.touchSwipeBind),window.removeEventListener("touchmove",this.touchSwipeBind),window.removeEventListener("touchend",this.touchSwipeBind),delete this.showControlsBind,delete this.mouseDownBind,delete this.mouseWheelBind,delete this.resetMouseScrollStateBind,delete this.contextMenuBind,delete this.touchSwipeBind}},{key:"_fullscreenChange",value:function(){this.isFullscreen?this._enter():this._exit()}},{key:"_addFullscreenChangeListeners",value:function(){this.fullscreenChangeBind=this._fullscreenChange.bind(this),window.addEventListener("fullscreenchange",this.fullscreenChangeBind),window.addEventListener("mozfullscreenchange",this.fullscreenChangeBind),window.addEventListener("webkitfullscreenchange",this.fullscreenChangeBind),window.addEventListener("MSFullscreenChange",this.fullscreenChangeBind)}},{key:"_removeFullscreenChangeListeners",value:function(){window.removeEventListener("fullscreenchange",this.fullscreenChangeBind),window.removeEventListener("mozfullscreenchange",this.fullscreenChangeBind),window.removeEventListener("webkitfullscreenchange",this.fullscreenChangeBind),window.removeEventListener("MSFullscreenChange",this.fullscreenChangeBind),delete this.fullscreenChangeBind}},{key:"isFullscreen",get:function(){return!!(document.fullscreenElement||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement)}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),PDFPresentationMode})();exports.PDFPresentationMode=__webpack_require__},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFSidebarResizer=void 0;var _ui_utils=__webpack_require__(5);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__=(()=>{function PDFSidebarResizer(options,eventBus){var _this=this,l10n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:_ui_utils.NullL10n,instance=this,Constructor=PDFSidebarResizer;if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");this.enabled=!1,this.isRTL=!1,this.sidebarOpen=!1,this.doc=document.documentElement,this._width=null,this._outerContainerWidth=null,this._boundEvents=Object.create(null),this.outerContainer=options.outerContainer,this.resizer=options.resizer,this.eventBus=eventBus,this.l10n=l10n,"undefined"!=typeof CSS&&"function"==typeof CSS.supports&&CSS.supports("--sidebar-width","calc(-1 * ".concat(200,"px)"))?(this.enabled=!0,this.resizer.classList.remove("hidden"),this.l10n.getDirection().then(function(dir){_this.isRTL="rtl"===dir}),this._addEventListeners()):console.warn("PDFSidebarResizer: The browser does not support resizing of the sidebar.")}var Constructor,protoProps,staticProps;return Constructor=PDFSidebarResizer,(protoProps=[{key:"_updateWidth",value:function(){var maxWidth,width=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return!!this.enabled&&(width=(width=(maxWidth=Math.floor(this.outerContainerWidth/2))<width?maxWidth:width)<200?200:width)!==this._width&&(this._width=width,this.doc.style.setProperty("--sidebar-width","".concat(width,"px")),!0)}},{key:"_mouseMove",value:function(evt){evt=evt.clientX;this.isRTL&&(evt=this.outerContainerWidth-evt),this._updateWidth(evt)}},{key:"_mouseUp",value:function(evt){this.outerContainer.classList.remove("sidebarResizing"),this.eventBus.dispatch("resize",{source:this});var _boundEvents=this._boundEvents;window.removeEventListener("mousemove",_boundEvents.mouseMove),window.removeEventListener("mouseup",_boundEvents.mouseUp)}},{key:"_addEventListeners",value:function(){var _boundEvents,_this2=this;this.enabled&&((_boundEvents=this._boundEvents).mouseMove=this._mouseMove.bind(this),_boundEvents.mouseUp=this._mouseUp.bind(this),this.resizer.addEventListener("mousedown",function(evt){0===evt.button&&(_this2.outerContainer.classList.add("sidebarResizing"),window.addEventListener("mousemove",_boundEvents.mouseMove),window.addEventListener("mouseup",_boundEvents.mouseUp))}),this.eventBus.on("sidebarviewchanged",function(evt){_this2.sidebarOpen=!(!evt||!evt.view)}),this.eventBus.on("resize",function(evt){var updated;evt&&evt.source===window&&(_this2._outerContainerWidth=null,_this2._width)&&(_this2.sidebarOpen?(_this2.outerContainer.classList.add("sidebarResizing"),updated=_this2._updateWidth(_this2._width),Promise.resolve().then(function(){_this2.outerContainer.classList.remove("sidebarResizing"),updated&&_this2.eventBus.dispatch("resize",{source:_this2})})):_this2._updateWidth(_this2._width))}))}},{key:"outerContainerWidth",get:function(){return this._outerContainerWidth||(this._outerContainerWidth=this.outerContainer.clientWidth),this._outerContainerWidth}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),PDFSidebarResizer})();exports.PDFSidebarResizer=__webpack_require__},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFThumbnailViewer=void 0;var _ui_utils=__webpack_require__(5),_pdf_thumbnail_view=__webpack_require__(26);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__=(()=>{function PDFThumbnailViewer(_ref){var container=_ref.container,linkService=_ref.linkService,renderingQueue=_ref.renderingQueue,_ref=_ref.l10n,_ref=void 0===_ref?_ui_utils.NullL10n:_ref;if(!(this instanceof PDFThumbnailViewer))throw new TypeError("Cannot call a class as a function");this.container=container,this.linkService=linkService,this.renderingQueue=renderingQueue,this.l10n=_ref,this.scroll=(0,_ui_utils.watchScroll)(this.container,this._scrollUpdated.bind(this)),this._resetView()}var Constructor,protoProps,staticProps;return Constructor=PDFThumbnailViewer,(protoProps=[{key:"_scrollUpdated",value:function(){this.renderingQueue.renderHighestPriority()}},{key:"getThumbnail",value:function(index){return this._thumbnails[index]}},{key:"_getVisibleThumbs",value:function(){return(0,_ui_utils.getVisibleElements)(this.container,this._thumbnails)}},{key:"scrollThumbnailIntoView",value:function(pageNumber){var thumbnailView,visibleThumbs,first,numVisibleThumbs,shouldScroll;this.pdfDocument&&((thumbnailView=this._thumbnails[pageNumber-1])?(pageNumber!==this._currentPageNumber&&(this._thumbnails[this._currentPageNumber-1].div.classList.remove("selected"),thumbnailView.div.classList.add("selected")),0<(numVisibleThumbs=(visibleThumbs=this._getVisibleThumbs()).views.length)&&(first=visibleThumbs.first.id,numVisibleThumbs=1<numVisibleThumbs?visibleThumbs.last.id:first,shouldScroll=!1,pageNumber<=first||numVisibleThumbs<=pageNumber?shouldScroll=!0:visibleThumbs.views.some(function(view){return view.id===pageNumber&&(shouldScroll=view.percent<100,!0)}),shouldScroll)&&(0,_ui_utils.scrollIntoView)(thumbnailView.div,{top:-19}),this._currentPageNumber=pageNumber):console.error('scrollThumbnailIntoView: Invalid "pageNumber" parameter.'))}},{key:"cleanup",value:function(){_pdf_thumbnail_view.PDFThumbnailView.cleanup()}},{key:"_resetView",value:function(){this._thumbnails=[],this._currentPageNumber=1,this._pageLabels=null,this._pagesRotation=0,this._pagesRequests=[],this.container.textContent=""}},{key:"setDocument",value:function(pdfDocument){var _this=this;this.pdfDocument&&(this._cancelRendering(),this._resetView()),(this.pdfDocument=pdfDocument)&&pdfDocument.getPage(1).then(function(firstPage){for(var pagesCount=pdfDocument.numPages,viewport=firstPage.getViewport({scale:1}),pageNum=1;pageNum<=pagesCount;++pageNum){var thumbnail=new _pdf_thumbnail_view.PDFThumbnailView({container:_this.container,id:pageNum,defaultViewport:viewport.clone(),linkService:_this.linkService,renderingQueue:_this.renderingQueue,disableCanvasToImageConversion:!1,l10n:_this.l10n});_this._thumbnails.push(thumbnail)}_this._thumbnails[_this._currentPageNumber-1].div.classList.add("selected")}).catch(function(reason){console.error("Unable to initialize thumbnail viewer",reason)})}},{key:"_cancelRendering",value:function(){for(var i=0,ii=this._thumbnails.length;i<ii;i++)this._thumbnails[i]&&this._thumbnails[i].cancelRendering()}},{key:"setPageLabels",value:function(labels){if(this.pdfDocument){labels?Array.isArray(labels)&&this.pdfDocument.numPages===labels.length?this._pageLabels=labels:(this._pageLabels=null,console.error("PDFThumbnailViewer_setPageLabels: Invalid page labels.")):this._pageLabels=null;for(var i=0,ii=this._thumbnails.length;i<ii;i++){var label=this._pageLabels&&this._pageLabels[i];this._thumbnails[i].setPageLabel(label)}}}},{key:"_ensurePdfPageLoaded",value:function(thumbView){var pageNumber,promise,_this2=this;return thumbView.pdfPage?Promise.resolve(thumbView.pdfPage):this._pagesRequests[pageNumber=thumbView.id]||(promise=this.pdfDocument.getPage(pageNumber).then(function(pdfPage){return thumbView.setPdfPage(pdfPage),_this2._pagesRequests[pageNumber]=null,pdfPage}).catch(function(reason){console.error("Unable to get page for thumb view",reason),_this2._pagesRequests[pageNumber]=null}),this._pagesRequests[pageNumber]=promise)}},{key:"forceRendering",value:function(){var _this3=this,visibleThumbs=this._getVisibleThumbs(),thumbView=this.renderingQueue.getHighestPriority(visibleThumbs,this._thumbnails,this.scroll.down);return!!thumbView&&(this._ensurePdfPageLoaded(thumbView).then(function(){_this3.renderingQueue.renderView(thumbView)}),!0)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(rotation){if(!(0,_ui_utils.isValidRotation)(rotation))throw new Error("Invalid thumbnails rotation angle.");if(this.pdfDocument&&this._pagesRotation!==rotation){this._pagesRotation=rotation;for(var i=0,ii=this._thumbnails.length;i<ii;i++)this._thumbnails[i].update(rotation)}}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),PDFThumbnailViewer})();exports.PDFThumbnailViewer=__webpack_require__},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFThumbnailView=void 0;var _pdfjsLib=__webpack_require__(7),_ui_utils=__webpack_require__(5),_pdf_rendering_queue=__webpack_require__(11);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}tempCanvasCache=null;var tempCanvasCache,TempImageFactory={getCanvas:function(width,height){var tempCanvas=tempCanvasCache,ctx=(tempCanvas||(tempCanvas=document.createElement("canvas"),tempCanvasCache=tempCanvas),tempCanvas.width=width,tempCanvas.height=height,tempCanvas.mozOpaque=!0,tempCanvas.getContext("2d",{alpha:!1}));return ctx.save(),ctx.fillStyle="rgb(255, 255, 255)",ctx.fillRect(0,0,width,height),ctx.restore(),tempCanvas},destroyCanvas:function(){var tempCanvas=tempCanvasCache;tempCanvas&&(tempCanvas.width=0,tempCanvas.height=0),tempCanvasCache=null}},__webpack_require__=(()=>{function PDFThumbnailView(_ref){var container=_ref.container,id=_ref.id,defaultViewport=_ref.defaultViewport,linkService=_ref.linkService,renderingQueue=_ref.renderingQueue,_ref$disableCanvasToI=_ref.disableCanvasToImageConversion,_ref$disableCanvasToI=void 0!==_ref$disableCanvasToI&&_ref$disableCanvasToI,_ref=_ref.l10n,_ref=void 0===_ref?_ui_utils.NullL10n:_ref;if(!(this instanceof PDFThumbnailView))throw new TypeError("Cannot call a class as a function");this.id=id,this.renderingId="thumbnail"+id,this.pageLabel=null,this.pdfPage=null,this.rotation=0,this.viewport=defaultViewport,this.pdfPageRotate=defaultViewport.rotation,this.linkService=linkService,this.renderingQueue=renderingQueue,this.renderTask=null,this.renderingState=_pdf_rendering_queue.RenderingStates.INITIAL,this.resume=null,this.disableCanvasToImageConversion=_ref$disableCanvasToI,this.pageWidth=this.viewport.width,this.pageHeight=this.viewport.height,this.pageRatio=this.pageWidth/this.pageHeight,this.canvasWidth=98,this.canvasHeight=this.canvasWidth/this.pageRatio|0,this.scale=this.canvasWidth/this.pageWidth,this.l10n=_ref;var anchor=document.createElement("a"),defaultViewport=(anchor.href=linkService.getAnchorUrl("#page="+id),this.l10n.get("thumb_page_title",{page:id},"Page {{page}}").then(function(msg){anchor.title=msg}),anchor.onclick=function(){return linkService.page=id,!1},this.anchor=anchor,document.createElement("div")),renderingQueue=(defaultViewport.className="thumbnail",defaultViewport.setAttribute("data-page-number",this.id),this.div=defaultViewport,document.createElement("div"));renderingQueue.className="thumbnailSelectionRing";renderingQueue.style.width=this.canvasWidth+2+"px",renderingQueue.style.height=this.canvasHeight+2+"px",this.ring=renderingQueue,defaultViewport.appendChild(renderingQueue),anchor.appendChild(defaultViewport),container.appendChild(anchor)}var Constructor,protoProps,staticProps;return Constructor=PDFThumbnailView,staticProps=[{key:"cleanup",value:function(){TempImageFactory.destroyCanvas()}}],(protoProps=[{key:"setPdfPage",value:function(pdfPage){this.pdfPage=pdfPage,this.pdfPageRotate=pdfPage.rotate;var totalRotation=(this.rotation+this.pdfPageRotate)%360;this.viewport=pdfPage.getViewport({scale:1,rotation:totalRotation}),this.reset()}},{key:"reset",value:function(){this.cancelRendering(),this.renderingState=_pdf_rendering_queue.RenderingStates.INITIAL,this.pageWidth=this.viewport.width,this.pageHeight=this.viewport.height,this.pageRatio=this.pageWidth/this.pageHeight,this.canvasHeight=this.canvasWidth/this.pageRatio|0,this.scale=this.canvasWidth/this.pageWidth,this.div.removeAttribute("data-loaded");for(var ring=this.ring,childNodes=ring.childNodes,i=childNodes.length-1;0<=i;i--)ring.removeChild(childNodes[i]);ring.style.width=this.canvasWidth+2+"px",ring.style.height=this.canvasHeight+2+"px",this.canvas&&(this.canvas.width=0,this.canvas.height=0,delete this.canvas),this.image&&(this.image.removeAttribute("src"),delete this.image)}},{key:"update",value:function(rotation){void 0!==rotation&&(this.rotation=rotation);rotation=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:1,rotation:rotation}),this.reset()}},{key:"cancelRendering",value:function(){this.renderTask&&(this.renderTask.cancel(),this.renderTask=null),this.resume=null}},{key:"_getPageDrawContext",value:function(){var noCtxScale=0<arguments.length&&void 0!==arguments[0]&&arguments[0],canvas=document.createElement("canvas"),ctx=((this.canvas=canvas).mozOpaque=!0,canvas.getContext("2d",{alpha:!1})),outputScale=(0,_ui_utils.getOutputScale)(ctx);return canvas.width=this.canvasWidth*outputScale.sx|0,canvas.height=this.canvasHeight*outputScale.sy|0,canvas.style.width=this.canvasWidth+"px",canvas.style.height=this.canvasHeight+"px",!noCtxScale&&outputScale.scaled&&ctx.scale(outputScale.sx,outputScale.sy),ctx}},{key:"_convertCanvasToImage",value:function(){var id,image,_this=this;this.canvas&&this.renderingState===_pdf_rendering_queue.RenderingStates.FINISHED&&(id=this.renderingId,this.disableCanvasToImageConversion?(this.canvas.id=id,this.canvas.className="thumbnailImage",this.l10n.get("thumb_page_canvas",{page:this.pageId},"Thumbnail of Page {{page}}").then(function(msg){_this.canvas.setAttribute("aria-label",msg)}),this.div.setAttribute("data-loaded",!0),this.ring.appendChild(this.canvas)):((image=document.createElement("img")).id=id,image.className="thumbnailImage",this.l10n.get("thumb_page_canvas",{page:this.pageId},"Thumbnail of Page {{page}}").then(function(msg){image.setAttribute("aria-label",msg)}),image.style.width=this.canvasWidth+"px",image.style.height=this.canvasHeight+"px",image.src=this.canvas.toDataURL(),this.image=image,this.div.setAttribute("data-loaded",!0),this.ring.appendChild(image),this.canvas.width=0,this.canvas.height=0,delete this.canvas))}},{key:"draw",value:function(){var _this2=this;if(this.renderingState!==_pdf_rendering_queue.RenderingStates.INITIAL)return console.error("Must be in new state before drawing"),Promise.resolve(void 0);this.renderingState=_pdf_rendering_queue.RenderingStates.RUNNING;function finishRenderTask(error){renderTask===_this2.renderTask&&(_this2.renderTask=null),!(error instanceof _pdfjsLib.RenderingCancelledException)&&(_this2.renderingState=_pdf_rendering_queue.RenderingStates.FINISHED,_this2._convertCanvasToImage(),error)?renderCapability.reject(error):renderCapability.resolve(void 0)}var renderCapability=(0,_pdfjsLib.createPromiseCapability)(),ctx=this._getPageDrawContext(),drawViewport=this.viewport.clone({scale:this.scale}),renderTask=this.renderTask=this.pdfPage.render({canvasContext:ctx,viewport:drawViewport});return renderTask.onContinue=function(cont){_this2.renderingQueue.isHighestPriority(_this2)?cont():(_this2.renderingState=_pdf_rendering_queue.RenderingStates.PAUSED,_this2.resume=function(){_this2.renderingState=_pdf_rendering_queue.RenderingStates.RUNNING,cont()})},renderTask.promise.then(function(){finishRenderTask(null)},function(error){finishRenderTask(error)}),renderCapability.promise}},{key:"setImage",value:function(pageView){if(this.renderingState===_pdf_rendering_queue.RenderingStates.INITIAL){var img=pageView.canvas;if(img){this.pdfPage||this.setPdfPage(pageView.pdfPage),this.renderingState=_pdf_rendering_queue.RenderingStates.FINISHED;var pageView=this._getPageDrawContext(!0),canvas=pageView.canvas;if(img.width<=2*canvas.width)pageView.drawImage(img,0,0,img.width,img.height,0,0,canvas.width,canvas.height);else{for(var reducedWidth=canvas.width<<3,reducedHeight=canvas.height<<3,reducedImage=TempImageFactory.getCanvas(reducedWidth,reducedHeight),reducedImageCtx=reducedImage.getContext("2d");reducedWidth>img.width||reducedHeight>img.height;)reducedWidth>>=1,reducedHeight>>=1;for(reducedImageCtx.drawImage(img,0,0,img.width,img.height,0,0,reducedWidth,reducedHeight);reducedWidth>2*canvas.width;)reducedImageCtx.drawImage(reducedImage,0,0,reducedWidth,reducedHeight,0,0,reducedWidth>>1,reducedHeight>>1),reducedWidth>>=1,reducedHeight>>=1;pageView.drawImage(reducedImage,0,0,reducedWidth,reducedHeight,0,0,canvas.width,canvas.height)}this._convertCanvasToImage()}}}},{key:"setPageLabel",value:function(label){var _this3=this;this.pageLabel="string"==typeof label?label:null,this.l10n.get("thumb_page_title",{page:this.pageId},"Page {{page}}").then(function(msg){_this3.anchor.title=msg}),this.renderingState===_pdf_rendering_queue.RenderingStates.FINISHED&&this.l10n.get("thumb_page_canvas",{page:this.pageId},"Thumbnail of Page {{page}}").then(function(ariaLabel){_this3.image?_this3.image.setAttribute("aria-label",ariaLabel):_this3.disableCanvasToImageConversion&&_this3.canvas&&_this3.canvas.setAttribute("aria-label",ariaLabel)})}},{key:"pageId",get:function(){return null!==this.pageLabel?this.pageLabel:this.id}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),PDFThumbnailView})();exports.PDFThumbnailView=__webpack_require__},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFViewer=void 0;var _base_viewer=__webpack_require__(28),_pdfjsLib=__webpack_require__(7);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?(self=>{if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")})(self):call}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var target=((object,property)=>{for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object})(target,property);if(target)return(target=Object.getOwnPropertyDescriptor(target,property)).get?target.get.call(receiver):target.value})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}__webpack_require__=(_BaseViewer=>{var staticProps,subClass=PDFViewer;if("function"!=typeof _BaseViewer&&null!==_BaseViewer)throw new TypeError("Super expression must either be null or a function");function PDFViewer(){var instance=this,Constructor=PDFViewer;if(instance instanceof Constructor)return _possibleConstructorReturn(this,_getPrototypeOf(PDFViewer).apply(this,arguments));throw new TypeError("Cannot call a class as a function")}return subClass.prototype=Object.create(_BaseViewer&&_BaseViewer.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),_BaseViewer&&_setPrototypeOf(subClass,_BaseViewer),subClass=PDFViewer,(_BaseViewer=[{key:"_scrollIntoView",value:function(_ref){var left,right,_this$container,scrollLeft,pageDiv=_ref.pageDiv,_ref$pageSpot=_ref.pageSpot,_ref$pageSpot=void 0===_ref$pageSpot?null:_ref$pageSpot,_ref=_ref.pageNumber,_ref=void 0===_ref?null:_ref;!_ref$pageSpot&&!this.isInPresentationMode&&(right=(left=pageDiv.offsetLeft+pageDiv.clientLeft)+pageDiv.clientWidth,scrollLeft=(_this$container=this.container).scrollLeft,this._isScrollModeHorizontal||left<scrollLeft||scrollLeft+_this$container.clientWidth<right)&&(_ref$pageSpot={left:0,top:0}),_get(_getPrototypeOf(PDFViewer.prototype),"_scrollIntoView",this).call(this,{pageDiv:pageDiv,pageSpot:_ref$pageSpot,pageNumber:_ref})}},{key:"_getVisiblePages",value:function(){return this.isInPresentationMode?this._getCurrentVisiblePage():_get(_getPrototypeOf(PDFViewer.prototype),"_getVisiblePages",this).call(this)}},{key:"_updateHelper",value:function(visiblePages){if(!this.isInPresentationMode){var currentId=this._currentPageNumber,stillFullyVisible=!1,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=visiblePages[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var page=_step.value;if(page.percent<100)break;if(page.id===currentId){stillFullyVisible=!0;break}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}stillFullyVisible||(currentId=visiblePages[0].id),this._setCurrentPageNumber(currentId)}}},{key:"_setDocumentViewerElement",get:function(){return(0,_pdfjsLib.shadow)(this,"_setDocumentViewerElement",this.viewer)}}])&&_defineProperties(subClass.prototype,_BaseViewer),staticProps&&_defineProperties(subClass,staticProps),PDFViewer})(_base_viewer.BaseViewer);exports.PDFViewer=__webpack_require__},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseViewer=void 0;var _ui_utils=__webpack_require__(5),_pdf_rendering_queue=__webpack_require__(11),_annotation_layer_builder=__webpack_require__(29),_pdfjsLib=__webpack_require__(7),_pdf_page_view=__webpack_require__(30),_pdf_link_service=__webpack_require__(21),_text_layer_builder=__webpack_require__(31);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function PDFPageViewBuffer(size){var data=[];this.push=function(view){var i=data.indexOf(view);0<=i&&data.splice(i,1),data.push(view),size<data.length&&data.shift().destroy()},this.resize=function(newSize,pagesToKeep){if(size=newSize,pagesToKeep){for(var pageIdsToKeep=new Set,i=0,iMax=pagesToKeep.length;i<iMax;++i)pageIdsToKeep.add(pagesToKeep[i].id);(0,_ui_utils.moveToEndOfArray)(data,function(page){return pageIdsToKeep.has(page.id)})}for(;size<data.length;)data.shift().destroy()}}__webpack_require__=(()=>{function BaseViewer(options){var _this=this;if(!(this instanceof BaseViewer))throw new TypeError("Cannot call a class as a function");if(this.constructor===BaseViewer)throw new Error("Cannot initialize BaseViewer.");this._name=this.constructor.name,this.container=options.container,this.viewer=options.viewer||options.container.firstElementChild,this.eventBus=options.eventBus||(0,_ui_utils.getGlobalEventBus)(),this.linkService=options.linkService||new _pdf_link_service.SimpleLinkService,this.downloadManager=options.downloadManager||null,this.findController=options.findController||null,this.removePageBorders=options.removePageBorders||!1,this.textLayerMode=Number.isInteger(options.textLayerMode)?options.textLayerMode:_ui_utils.TextLayerMode.ENABLE,this.imageResourcesPath=options.imageResourcesPath||"",this.renderInteractiveForms=options.renderInteractiveForms||!1,this.enablePrintAutoRotate=options.enablePrintAutoRotate||!1,this.renderer=options.renderer||_ui_utils.RendererType.CANVAS,this.enableWebGL=options.enableWebGL||!1,this.useOnlyCssZoom=options.useOnlyCssZoom||!1,this.maxCanvasPixels=options.maxCanvasPixels,this.l10n=options.l10n||_ui_utils.NullL10n,this.defaultRenderingQueue=!options.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new _pdf_rendering_queue.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=options.renderingQueue,this.scroll=(0,_ui_utils.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=_ui_utils.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(function(){_this.eventBus.dispatch("baseviewerinit",{source:_this})})}var Constructor,protoProps,staticProps;return Constructor=BaseViewer,(protoProps=[{key:"getPageView",value:function(index){return this._pages[index]}},{key:"_setCurrentPageNumber",value:function(val){var resetCurrentPageView=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this._currentPageNumber!==val){if(!(0<val&&val<=this.pagesCount))return!1;this._currentPageNumber=val,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:val,pageLabel:this._pageLabels&&this._pageLabels[val-1]})}return resetCurrentPageView&&this._resetCurrentPageView(),!0}},{key:"setDocument",value:function(pdfDocument){var pagesCount,pagesCapability,onePageRenderedCapability,firstPagePromise,_this2=this;this.pdfDocument&&(this._cancelRendering(),this._resetView(),this.findController)&&this.findController.setDocument(null),(this.pdfDocument=pdfDocument)&&(pagesCount=pdfDocument.numPages,pagesCapability=(0,_pdfjsLib.createPromiseCapability)(),this.pagesPromise=pagesCapability.promise,pagesCapability.promise.then(function(){_this2._pageViewsReady=!0,_this2.eventBus.dispatch("pagesloaded",{source:_this2,pagesCount:pagesCount})}),onePageRenderedCapability=(0,_pdfjsLib.createPromiseCapability)(),this.onePageRendered=onePageRenderedCapability.promise,firstPagePromise=pdfDocument.getPage(1),this.firstPagePromise=firstPagePromise,this._onBeforeDraw=function(evt){evt=_this2._pages[evt.pageNumber-1];evt&&_this2._buffer.push(evt)},this.eventBus.on("pagerender",this._onBeforeDraw),this._onAfterDraw=function(evt){evt.cssTransform||onePageRenderedCapability.settled||(onePageRenderedCapability.resolve(),_this2.eventBus.off("pagerendered",_this2._onAfterDraw),_this2._onAfterDraw=null)},this.eventBus.on("pagerendered",this._onAfterDraw),firstPagePromise.then(function(pdfPage){for(var scale=_this2.currentScale,viewport=pdfPage.getViewport({scale:scale*_ui_utils.CSS_UNITS}),pageNum=1;pageNum<=pagesCount;++pageNum){var textLayerFactory=null,textLayerFactory=(_this2.textLayerMode!==_ui_utils.TextLayerMode.DISABLE&&(textLayerFactory=_this2),new _pdf_page_view.PDFPageView({container:_this2._setDocumentViewerElement,eventBus:_this2.eventBus,id:pageNum,scale:scale,defaultViewport:viewport.clone(),renderingQueue:_this2.renderingQueue,textLayerFactory:textLayerFactory,textLayerMode:_this2.textLayerMode,annotationLayerFactory:_this2,imageResourcesPath:_this2.imageResourcesPath,renderInteractiveForms:_this2.renderInteractiveForms,renderer:_this2.renderer,enableWebGL:_this2.enableWebGL,useOnlyCssZoom:_this2.useOnlyCssZoom,maxCanvasPixels:_this2.maxCanvasPixels,l10n:_this2.l10n}));_this2._pages.push(textLayerFactory)}_this2._spreadMode!==_ui_utils.SpreadMode.NONE&&_this2._updateSpreadMode(),onePageRenderedCapability.promise.then(function(){if(_this2.findController&&_this2.findController.setDocument(pdfDocument),pdfDocument.loadingParams.disableAutoFetch)pagesCapability.resolve();else for(var getPagesLeft=pagesCount,_pageNum=1;_pageNum<=pagesCount;++_pageNum)(_pageNum=>{pdfDocument.getPage(_pageNum).then(function(pdfPage){var pageView=_this2._pages[_pageNum-1];pageView.pdfPage||pageView.setPdfPage(pdfPage),_this2.linkService.cachePageRef(_pageNum,pdfPage.ref),0==--getPagesLeft&&pagesCapability.resolve()},function(reason){console.error("Unable to get page ".concat(_pageNum," to initialize viewer"),reason),0==--getPagesLeft&&pagesCapability.resolve()})})(_pageNum)}),_this2.eventBus.dispatch("pagesinit",{source:_this2}),_this2.defaultRenderingQueue&&_this2.update()}).catch(function(reason){console.error("Unable to initialize viewer",reason)}))}},{key:"setPageLabels",value:function(labels){if(this.pdfDocument){labels?Array.isArray(labels)&&this.pdfDocument.numPages===labels.length?this._pageLabels=labels:(this._pageLabels=null,console.error("".concat(this._name,".setPageLabels: Invalid page labels."))):this._pageLabels=null;for(var i=0,ii=this._pages.length;i<ii;i++){var pageView=this._pages[i],label=this._pageLabels&&this._pageLabels[i];pageView.setPageLabel(label)}}}},{key:"_resetView",value:function(){this._pages=[],this._currentPageNumber=1,this._currentScale=_ui_utils.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new PDFPageViewBuffer(10),this._location=null,this._pagesRotation=0,this._pagesRequests=[],this._pageViewsReady=!1,this._scrollMode=_ui_utils.ScrollMode.VERTICAL,this._spreadMode=_ui_utils.SpreadMode.NONE,this._onBeforeDraw&&(this.eventBus.off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus.off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.viewer.textContent="",this._updateScrollMode()}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function(_ref){var pageDiv=_ref.pageDiv,_ref=_ref.pageSpot;(0,_ui_utils.scrollIntoView)(pageDiv,void 0===_ref?null:_ref)}},{key:"_setScaleUpdatePages",value:function(newScale,newValue){var noScroll=2<arguments.length&&void 0!==arguments[2]&&arguments[2],preset=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(this._currentScaleValue=newValue.toString(),((oldScale,newScale)=>newScale===oldScale||Math.abs(newScale-oldScale)<1e-15)(this._currentScale,newScale))preset&&this.eventBus.dispatch("scalechanging",{source:this,scale:newScale,presetValue:newValue});else{for(var dest,i=0,ii=this._pages.length;i<ii;i++)this._pages[i].update(newScale);this._currentScale=newScale,noScroll||(noScroll=this._currentPageNumber,!this._location||this.isInPresentationMode||this.isChangingPresentationMode||(noScroll=this._location.pageNumber,dest=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:noScroll,destArray:dest,allowNegativeOffset:!0})),this.eventBus.dispatch("scalechanging",{source:this,scale:newScale,presetValue:preset?newValue:void 0}),this.defaultRenderingQueue&&this.update()}}},{key:"_setScale",value:function(value){var noScroll=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(0<(scale=parseFloat(value)))this._setScaleUpdatePages(scale,value,noScroll,!1);else{var currentPage=this._pages[this._currentPageNumber-1];if(currentPage){var noPadding=this.isInPresentationMode||this.removePageBorders,hPadding=noPadding?0:_ui_utils.SCROLLBAR_PADDING,vPadding=noPadding?0:_ui_utils.VERTICAL_PADDING,pageWidthScale=(!noPadding&&this._isScrollModeHorizontal&&(hPadding=(noPadding=[vPadding,hPadding])[0],vPadding=noPadding[1]),(this.container.clientWidth-hPadding)/currentPage.width*currentPage.scale),pageHeightScale=(this.container.clientHeight-vPadding)/currentPage.height*currentPage.scale;switch(value){case"page-actual":scale=1;break;case"page-width":scale=pageWidthScale;break;case"page-height":scale=pageHeightScale;break;case"page-fit":scale=Math.min(pageWidthScale,pageHeightScale);break;case"auto":var horizontalScale=(0,_ui_utils.isPortraitOrientation)(currentPage)?pageWidthScale:Math.min(pageHeightScale,pageWidthScale),scale=Math.min(_ui_utils.MAX_AUTO_SCALE,horizontalScale);break;default:return void console.error("".concat(this._name,'._setScale: "').concat(value,'" is an unknown zoom value.'))}this._setScaleUpdatePages(scale,value,noScroll,!0)}}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);var pageView=this._pages[this._currentPageNumber-1];this._scrollIntoView({pageDiv:pageView.div})}},{key:"scrollPageIntoView",value:function(_ref3){var pageNumber=_ref3.pageNumber,_ref3$destArray=_ref3.destArray,destArray=void 0===_ref3$destArray?null:_ref3$destArray,_ref3$destArray=_ref3.allowNegativeOffset,_ref3=void 0!==_ref3$destArray&&_ref3$destArray;if(this.pdfDocument){_ref3$destArray=Number.isInteger(pageNumber)&&this._pages[pageNumber-1];if(_ref3$destArray)if(this.isInPresentationMode||!destArray)this._setCurrentPageNumber(pageNumber,!0);else{var left,x=0,y=0,width=0,height=0,changeOrientation=_ref3$destArray.rotation%180!=0,pageWidth=(changeOrientation?_ref3$destArray.height:_ref3$destArray.width)/_ref3$destArray.scale/_ui_utils.CSS_UNITS,pageHeight=(changeOrientation?_ref3$destArray.width:_ref3$destArray.height)/_ref3$destArray.scale/_ui_utils.CSS_UNITS,scale=0;switch(destArray[1].name){case"XYZ":x=destArray[2],y=destArray[3],scale=destArray[4],x=null!==x?x:0,y=null!==y?y:pageHeight;break;case"Fit":case"FitB":scale="page-fit";break;case"FitH":case"FitBH":scale="page-width",null===(y=destArray[2])&&this._location&&(x=this._location.left,y=this._location.top);break;case"FitV":case"FitBV":x=destArray[2],width=pageWidth,height=pageHeight,scale="page-height";break;case"FitR":var x=destArray[2],y=destArray[3],width=destArray[4]-x,height=destArray[5]-y,hPadding=this.removePageBorders?0:_ui_utils.SCROLLBAR_PADDING,vPadding=this.removePageBorders?0:_ui_utils.VERTICAL_PADDING,hPadding=(this.container.clientWidth-hPadding)/width/_ui_utils.CSS_UNITS,vPadding=(this.container.clientHeight-vPadding)/height/_ui_utils.CSS_UNITS,scale=Math.min(Math.abs(hPadding),Math.abs(vPadding));break;default:return void console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(destArray[1].name,'" is not a valid destination type.'))}scale&&scale!==this._currentScale?this.currentScaleValue=scale:this._currentScale===_ui_utils.UNKNOWN_SCALE&&(this.currentScaleValue=_ui_utils.DEFAULT_SCALE_VALUE),"page-fit"!==scale||destArray[4]?(changeOrientation=[_ref3$destArray.viewport.convertToViewportPoint(x,y),_ref3$destArray.viewport.convertToViewportPoint(x+width,y+height)],left=Math.min(changeOrientation[0][0],changeOrientation[1][0]),changeOrientation=Math.min(changeOrientation[0][1],changeOrientation[1][1]),_ref3||(left=Math.max(left,0),changeOrientation=Math.max(changeOrientation,0)),this._scrollIntoView({pageDiv:_ref3$destArray.div,pageSpot:{left:left,top:changeOrientation},pageNumber:pageNumber})):this._scrollIntoView({pageDiv:_ref3$destArray.div,pageNumber:pageNumber})}else console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(pageNumber,'" is not a valid pageNumber parameter.'))}}},{key:"_updateLocation",value:function(firstPage){var currentScale=this._currentScale,currentScaleValue=this._currentScaleValue,currentScale=parseFloat(currentScaleValue)===currentScale?Math.round(1e4*currentScale)/100:currentScaleValue,currentScaleValue=firstPage.id,pdfOpenParams="#page="+currentScaleValue,currentPageView=(pdfOpenParams+="&zoom="+currentScale,this._pages[currentScaleValue-1]),container=this.container,currentPageView=currentPageView.getPagePoint(container.scrollLeft-firstPage.x,container.scrollTop-firstPage.y),container=Math.round(currentPageView[0]),firstPage=Math.round(currentPageView[1]);this._location={pageNumber:currentScaleValue,scale:currentScale,top:firstPage,left:container,rotation:this._pagesRotation,pdfOpenParams:pdfOpenParams+=","+container+","+firstPage}}},{key:"_updateHelper",value:function(visiblePages){throw new Error("Not implemented: _updateHelper")}},{key:"update",value:function(){var visible=this._getVisiblePages(),visiblePages=visible.views,numVisiblePages=visiblePages.length;0!==numVisiblePages&&(numVisiblePages=Math.max(10,2*numVisiblePages+1),this._buffer.resize(numVisiblePages,visiblePages),this.renderingQueue.renderHighestPriority(visible),this._updateHelper(visiblePages),this._updateLocation(visible.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location}))}},{key:"containsElement",value:function(element){return this.container.contains(element)}},{key:"focus",value:function(){this.container.focus()}},{key:"_getCurrentVisiblePage",value:function(){var pageView,element;return this.pagesCount?(element=(pageView=this._pages[this._currentPageNumber-1]).div,{first:element={id:pageView.id,x:element.offsetLeft+element.clientLeft,y:element.offsetTop+element.clientTop,view:pageView},last:element,views:[element]}):{views:[]}}},{key:"_getVisiblePages",value:function(){return(0,_ui_utils.getVisibleElements)(this.container,this._pages,!0,this._isScrollModeHorizontal)}},{key:"isPageVisible",value:function(pageNumber){return!!this.pdfDocument&&(this.pageNumber<1||pageNumber>this.pagesCount?(console.error("".concat(this._name,'.isPageVisible: "').concat(pageNumber,'" is out of bounds.')),!1):this._getVisiblePages().views.some(function(view){return view.id===pageNumber}))}},{key:"cleanup",value:function(){for(var i=0,ii=this._pages.length;i<ii;i++)this._pages[i]&&this._pages[i].renderingState!==_pdf_rendering_queue.RenderingStates.FINISHED&&this._pages[i].reset()}},{key:"_cancelRendering",value:function(){for(var i=0,ii=this._pages.length;i<ii;i++)this._pages[i]&&this._pages[i].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(pageView){var pageNumber,promise,_this3=this;return pageView.pdfPage?Promise.resolve(pageView.pdfPage):this._pagesRequests[pageNumber=pageView.id]||(promise=this.pdfDocument.getPage(pageNumber).then(function(pdfPage){return pageView.pdfPage||pageView.setPdfPage(pdfPage),_this3._pagesRequests[pageNumber]=null,pdfPage}).catch(function(reason){console.error("Unable to get page for page view",reason),_this3._pagesRequests[pageNumber]=null}),this._pagesRequests[pageNumber]=promise)}},{key:"forceRendering",value:function(currentlyVisiblePages){var _this4=this,currentlyVisiblePages=currentlyVisiblePages||this._getVisiblePages(),scrollAhead=this._isScrollModeHorizontal?this.scroll.right:this.scroll.down,pageView=this.renderingQueue.getHighestPriority(currentlyVisiblePages,this._pages,scrollAhead);return!!pageView&&(this._ensurePdfPageLoaded(pageView).then(function(){_this4.renderingQueue.renderView(pageView)}),!0)}},{key:"createTextLayerBuilder",value:function(textLayerDiv,pageIndex,viewport){return new _text_layer_builder.TextLayerBuilder({textLayerDiv:textLayerDiv,eventBus:this.eventBus,pageIndex:pageIndex,viewport:viewport,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:!this.isInPresentationMode&&(3<arguments.length&&void 0!==arguments[3]&&arguments[3])})}},{key:"createAnnotationLayerBuilder",value:function(pageDiv,pdfPage){var imageResourcesPath=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",renderInteractiveForms=3<arguments.length&&void 0!==arguments[3]&&arguments[3],l10n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:_ui_utils.NullL10n;return new _annotation_layer_builder.AnnotationLayerBuilder({pageDiv:pageDiv,pdfPage:pdfPage,imageResourcesPath:imageResourcesPath,renderInteractiveForms:renderInteractiveForms,linkService:this.linkService,downloadManager:this.downloadManager,l10n:l10n})}},{key:"getPagesOverview",value:function(){var isFirstPagePortrait,pagesOverview=this._pages.map(function(pageView){pageView=pageView.pdfPage.getViewport({scale:1});return{width:pageView.width,height:pageView.height,rotation:pageView.rotation}});return this.enablePrintAutoRotate?(isFirstPagePortrait=(0,_ui_utils.isPortraitOrientation)(pagesOverview[0]),pagesOverview.map(function(size){return isFirstPagePortrait===(0,_ui_utils.isPortraitOrientation)(size)?size:{width:size.height,height:size.width,rotation:(size.rotation+90)%360}})):pagesOverview}},{key:"_updateScrollMode",value:function(){var pageNumber=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,scrollMode=this._scrollMode,viewer=this.viewer;viewer.classList.toggle("scrollHorizontal",scrollMode===_ui_utils.ScrollMode.HORIZONTAL),viewer.classList.toggle("scrollWrapped",scrollMode===_ui_utils.ScrollMode.WRAPPED),this.pdfDocument&&pageNumber&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(pageNumber,!0),this.update())}},{key:"_updateSpreadMode",value:function(){var pageNumber=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(this.pdfDocument){var viewer=this.viewer,pages=this._pages;if(viewer.textContent="",this._spreadMode===_ui_utils.SpreadMode.NONE)for(var i=0,iMax=pages.length;i<iMax;++i)viewer.appendChild(pages[i].div);else for(var parity=this._spreadMode-1,spread=null,_i=0,_iMax=pages.length;_i<_iMax;++_i)null===spread?((spread=document.createElement("div")).className="spread",viewer.appendChild(spread)):_i%2==parity&&(spread=spread.cloneNode(!1),viewer.appendChild(spread)),spread.appendChild(pages[_i].div);pageNumber&&(this._setCurrentPageNumber(pageNumber,!0),this.update())}}},{key:"pagesCount",get:function(){return this._pages.length}},{key:"pageViewsReady",get:function(){return this._pageViewsReady}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(val){if(!Number.isInteger(val))throw new Error("Invalid page number.");this.pdfDocument&&!this._setCurrentPageNumber(val,!0)&&console.error("".concat(this._name,'.currentPageNumber: "').concat(val,'" is not a valid page.'))}},{key:"currentPageLabel",get:function(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function(val){var page,i;this.pdfDocument&&(page=0|val,this._pageLabels&&0<=(i=this._pageLabels.indexOf(val))&&(page=i+1),this._setCurrentPageNumber(page,!0)||console.error("".concat(this._name,'.currentPageLabel: "').concat(val,'" is not a valid page.')))}},{key:"currentScale",get:function(){return this._currentScale!==_ui_utils.UNKNOWN_SCALE?this._currentScale:_ui_utils.DEFAULT_SCALE},set:function(val){if(isNaN(val))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(val,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(val){this.pdfDocument&&this._setScale(val,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(rotation){if(!(0,_ui_utils.isValidRotation)(rotation))throw new Error("Invalid pages rotation angle.");if(this.pdfDocument&&this._pagesRotation!==rotation){this._pagesRotation=rotation;for(var pageNumber=this._currentPageNumber,i=0,ii=this._pages.length;i<ii;i++){var pageView=this._pages[i];pageView.update(pageView.scale,rotation)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:rotation,pageNumber:pageNumber}),this.defaultRenderingQueue&&this.update()}}},{key:"_setDocumentViewerElement",get:function(){throw new Error("Not implemented: _setDocumentViewerElement")}},{key:"_isScrollModeHorizontal",get:function(){return!this.isInPresentationMode&&this._scrollMode===_ui_utils.ScrollMode.HORIZONTAL}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===_ui_utils.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===_ui_utils.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}},{key:"hasEqualPageSizes",get:function(){for(var firstPageView=this._pages[0],i=1,ii=this._pages.length;i<ii;++i){var pageView=this._pages[i];if(pageView.width!==firstPageView.width||pageView.height!==firstPageView.height)return!1}return!0}},{key:"scrollMode",get:function(){return this._scrollMode},set:function(mode){if(this._scrollMode!==mode){if(!(0,_ui_utils.isValidScrollMode)(mode))throw new Error("Invalid scroll mode: ".concat(mode));this._scrollMode=mode,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:mode}),this._updateScrollMode(this._currentPageNumber)}}},{key:"spreadMode",get:function(){return this._spreadMode},set:function(mode){if(this._spreadMode!==mode){if(!(0,_ui_utils.isValidSpreadMode)(mode))throw new Error("Invalid spread mode: ".concat(mode));this._spreadMode=mode,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:mode}),this._updateSpreadMode(this._currentPageNumber)}}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),BaseViewer})();exports.BaseViewer=__webpack_require__},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.DefaultAnnotationLayerFactory=exports.AnnotationLayerBuilder=void 0;var _pdfjsLib=__webpack_require__(7),_ui_utils=__webpack_require__(5),_pdf_link_service=__webpack_require__(21);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps)}var AnnotationLayerBuilder=(()=>{function AnnotationLayerBuilder(_ref){var pageDiv=_ref.pageDiv,pdfPage=_ref.pdfPage,linkService=_ref.linkService,downloadManager=_ref.downloadManager,_ref$imageResourcesPa=_ref.imageResourcesPath,_ref$imageResourcesPa=void 0===_ref$imageResourcesPa?"":_ref$imageResourcesPa,_ref$renderInteractiv=_ref.renderInteractiveForms,_ref$renderInteractiv=void 0!==_ref$renderInteractiv&&_ref$renderInteractiv,_ref=_ref.l10n,_ref=void 0===_ref?_ui_utils.NullL10n:_ref;_classCallCheck(this,AnnotationLayerBuilder),this.pageDiv=pageDiv,this.pdfPage=pdfPage,this.linkService=linkService,this.downloadManager=downloadManager,this.imageResourcesPath=_ref$imageResourcesPa,this.renderInteractiveForms=_ref$renderInteractiv,this.l10n=_ref,this.div=null,this._cancelled=!1}return _createClass(AnnotationLayerBuilder,[{key:"render",value:function(viewport){var _this=this;this.pdfPage.getAnnotations({intent:1<arguments.length&&void 0!==arguments[1]?arguments[1]:"display"}).then(function(annotations){var parameters;_this._cancelled||(parameters={viewport:viewport.clone({dontFlip:!0}),div:_this.div,annotations:annotations,page:_this.pdfPage,imageResourcesPath:_this.imageResourcesPath,renderInteractiveForms:_this.renderInteractiveForms,linkService:_this.linkService,downloadManager:_this.downloadManager},_this.div?_pdfjsLib.AnnotationLayer.update(parameters):0!==annotations.length&&(_this.div=document.createElement("div"),_this.div.className="annotationLayer",_this.pageDiv.appendChild(_this.div),parameters.div=_this.div,_pdfjsLib.AnnotationLayer.render(parameters),_this.l10n.translate(_this.div)))})}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&this.div.setAttribute("hidden","true")}}]),AnnotationLayerBuilder})(),__webpack_require__=(exports.AnnotationLayerBuilder=AnnotationLayerBuilder,(()=>{function DefaultAnnotationLayerFactory(){_classCallCheck(this,DefaultAnnotationLayerFactory)}return _createClass(DefaultAnnotationLayerFactory,[{key:"createAnnotationLayerBuilder",value:function(pageDiv,pdfPage){var imageResourcesPath=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",renderInteractiveForms=3<arguments.length&&void 0!==arguments[3]&&arguments[3],l10n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:_ui_utils.NullL10n;return new AnnotationLayerBuilder({pageDiv:pageDiv,pdfPage:pdfPage,imageResourcesPath:imageResourcesPath,renderInteractiveForms:renderInteractiveForms,linkService:new _pdf_link_service.SimpleLinkService,l10n:l10n})}}]),DefaultAnnotationLayerFactory})());exports.DefaultAnnotationLayerFactory=__webpack_require__},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFPageView=void 0;var _regenerator=(obj=__webpack_require__(2))&&obj.__esModule?obj:{default:obj},_ui_utils=__webpack_require__(5),_pdfjsLib=__webpack_require__(7),_pdf_rendering_queue=__webpack_require__(11);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var MAX_CANVAS_PIXELS=__webpack_require__(8).viewerCompatibilityParams.maxCanvasPixels||16777216,obj=(()=>{function PDFPageView(options){if(!(this instanceof PDFPageView))throw new TypeError("Cannot call a class as a function");var container=options.container,defaultViewport=options.defaultViewport,defaultViewport=(this.id=options.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=options.scale||_ui_utils.DEFAULT_SCALE,this.viewport=defaultViewport,this.pdfPageRotate=defaultViewport.rotation,this.hasRestrictedScaling=!1,this.textLayerMode=Number.isInteger(options.textLayerMode)?options.textLayerMode:_ui_utils.TextLayerMode.ENABLE,this.imageResourcesPath=options.imageResourcesPath||"",this.renderInteractiveForms=options.renderInteractiveForms||!1,this.useOnlyCssZoom=options.useOnlyCssZoom||!1,this.maxCanvasPixels=options.maxCanvasPixels||MAX_CANVAS_PIXELS,this.eventBus=options.eventBus||(0,_ui_utils.getGlobalEventBus)(),this.renderingQueue=options.renderingQueue,this.textLayerFactory=options.textLayerFactory,this.annotationLayerFactory=options.annotationLayerFactory,this.renderer=options.renderer||_ui_utils.RendererType.CANVAS,this.enableWebGL=options.enableWebGL||!1,this.l10n=options.l10n||_ui_utils.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=_pdf_rendering_queue.RenderingStates.INITIAL,this.resume=null,this.error=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,document.createElement("div"));defaultViewport.className="page",defaultViewport.style.width=Math.floor(this.viewport.width)+"px",defaultViewport.style.height=Math.floor(this.viewport.height)+"px",defaultViewport.setAttribute("data-page-number",this.id),this.div=defaultViewport,container.appendChild(defaultViewport)}var Constructor,protoProps,staticProps;return Constructor=PDFPageView,(protoProps=[{key:"setPdfPage",value:function(pdfPage){this.pdfPage=pdfPage,this.pdfPageRotate=pdfPage.rotate;var totalRotation=(this.rotation+this.pdfPageRotate)%360;this.viewport=pdfPage.getViewport({scale:this.scale*_ui_utils.CSS_UNITS,rotation:totalRotation}),this.stats=pdfPage.stats,this.reset()}},{key:"destroy",value:function(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}},{key:"_resetZoomLayer",value:function(){var zoomLayerCanvas,removeFromDOM=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.zoomLayer&&(zoomLayerCanvas=this.zoomLayer.firstChild,this.paintedViewportMap.delete(zoomLayerCanvas),zoomLayerCanvas.width=0,zoomLayerCanvas.height=0,removeFromDOM&&this.zoomLayer.remove(),this.zoomLayer=null)}},{key:"reset",value:function(){for(var keepZoomLayer=0<arguments.length&&void 0!==arguments[0]&&arguments[0],keepAnnotations=1<arguments.length&&void 0!==arguments[1]&&arguments[1],div=(this.cancelRendering(keepAnnotations),this.renderingState=_pdf_rendering_queue.RenderingStates.INITIAL,this.div),childNodes=(div.style.width=Math.floor(this.viewport.width)+"px",div.style.height=Math.floor(this.viewport.height)+"px",div.childNodes),currentZoomLayerNode=keepZoomLayer&&this.zoomLayer||null,currentAnnotationNode=keepAnnotations&&this.annotationLayer&&this.annotationLayer.div||null,i=childNodes.length-1;0<=i;i--){var node=childNodes[i];currentZoomLayerNode!==node&&currentAnnotationNode!==node&&div.removeChild(node)}div.removeAttribute("data-loaded"),currentAnnotationNode?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),currentZoomLayerNode||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",div.appendChild(this.loadingIconDiv)}},{key:"update",value:function(scale,rotation){this.scale=scale||this.scale,void 0!==rotation&&(this.rotation=rotation);scale=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*_ui_utils.CSS_UNITS,rotation:scale}),this.svg)this.cssTransform(this.svg,!0),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});else{rotation=!1;if(this.canvas&&0<this.maxCanvasPixels&&(scale=this.outputScale,(Math.floor(this.viewport.width)*scale.sx|0)*(Math.floor(this.viewport.height)*scale.sy|0)>this.maxCanvasPixels)&&(rotation=!0),this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&rotation)return this.cssTransform(this.canvas,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});this.zoomLayer||this.canvas.hasAttribute("hidden")||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),this.reset(!0,!0)}}},{key:"cancelRendering",value:function(){var keepAnnotations=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),!keepAnnotations&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null)}},{key:"cssTransform",value:function(target){var redrawAnnotations=1<arguments.length&&void 0!==arguments[1]&&arguments[1],width=this.viewport.width,height=this.viewport.height,div=this.div,div=(target.style.width=target.parentNode.style.width=div.style.width=Math.floor(width)+"px",target.style.height=target.parentNode.style.height=div.style.height=Math.floor(height)+"px",this.viewport.rotation-this.paintedViewportMap.get(target).rotation),absRotation=Math.abs(div),scaleX=1,scaleY=1;if(90!==absRotation&&270!==absRotation||(scaleX=height/width,scaleY=width/height),target.style.transform="rotate("+div+"deg) scale("+scaleX+","+scaleY+")",this.textLayer){var transX,transY,absRotation=this.textLayer.viewport,height=this.viewport.rotation-absRotation.rotation,target=Math.abs(height),div=width/absRotation.width,textLayerDiv=(90!==target&&270!==target||(div=width/absRotation.height),this.textLayer.textLayerDiv);switch(target){case 0:transX=transY=0;break;case 90:transX=0,transY="-"+textLayerDiv.style.height;break;case 180:transX="-"+textLayerDiv.style.width,transY="-"+textLayerDiv.style.height;break;case 270:transX="-"+textLayerDiv.style.width,transY=0;break;default:console.error("Bad rotation value.")}textLayerDiv.style.transform="rotate("+target+"deg) scale("+div+", "+div+") translate("+transX+", "+transY+")",textLayerDiv.style.transformOrigin="0% 0%"}redrawAnnotations&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}},{key:"getPagePoint",value:function(x,y){return this.viewport.convertToPdfPoint(x,y)}},{key:"draw",value:function(){var _this=this;if(this.renderingState!==_pdf_rendering_queue.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset()),!this.pdfPage)return this.renderingState=_pdf_rendering_queue.RenderingStates.FINISHED,Promise.reject(new Error("Page is not loaded"));this.renderingState=_pdf_rendering_queue.RenderingStates.RUNNING;var pdfPage=this.pdfPage,div=this.div,canvasWrapper=document.createElement("div"),textLayer=(canvasWrapper.style.width=div.style.width,canvasWrapper.style.height=div.style.height,canvasWrapper.classList.add("canvasWrapper"),this.annotationLayer&&this.annotationLayer.div?div.insertBefore(canvasWrapper,this.annotationLayer.div):div.appendChild(canvasWrapper),null),textLayerDiv=(this.textLayerMode!==_ui_utils.TextLayerMode.DISABLE&&this.textLayerFactory&&((textLayerDiv=document.createElement("div")).className="textLayer",textLayerDiv.style.width=canvasWrapper.style.width,textLayerDiv.style.height=canvasWrapper.style.height,this.annotationLayer&&this.annotationLayer.div?div.insertBefore(textLayerDiv,this.annotationLayer.div):div.appendChild(textLayerDiv),textLayer=this.textLayerFactory.createTextLayerBuilder(textLayerDiv,this.id-1,this.viewport,this.textLayerMode===_ui_utils.TextLayerMode.ENABLE_ENHANCE)),this.textLayer=textLayer,null),finishPaintTask=(this.renderingQueue&&(textLayerDiv=function(cont){_this.renderingQueue.isHighestPriority(_this)?cont():(_this.renderingState=_pdf_rendering_queue.RenderingStates.PAUSED,_this.resume=function(){_this.renderingState=_pdf_rendering_queue.RenderingStates.RUNNING,cont()})}),(()=>{fn=_regenerator.default.mark(function _callee(error){return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(paintTask===_this.paintTask&&(_this.paintTask=null),error instanceof _pdfjsLib.RenderingCancelledException)return _this.error=null,_context.abrupt("return");_context.next=4;break;case 4:if(_this.renderingState=_pdf_rendering_queue.RenderingStates.FINISHED,_this.loadingIconDiv&&(div.removeChild(_this.loadingIconDiv),delete _this.loadingIconDiv),_this._resetZoomLayer(!0),_this.error=error,_this.stats=pdfPage.stats,_this.eventBus.dispatch("pagerendered",{source:_this,pageNumber:_this.id,cssTransform:!1,timestamp:performance.now()}),error)throw error;_context.next=12;break;case 12:case"end":return _context.stop()}},_callee)});var fn,_ref=function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})};return function(_x){return _ref.apply(this,arguments)}})()),paintTask=this.renderer===_ui_utils.RendererType.SVG?this.paintOnSvg(canvasWrapper):this.paintOnCanvas(canvasWrapper),canvasWrapper=(paintTask.onRenderContinue=textLayerDiv,(this.paintTask=paintTask).promise.then(function(){return finishPaintTask(null).then(function(){var readableStream;textLayer&&(readableStream=pdfPage.streamTextContent({normalizeWhitespace:!0}),textLayer.setTextContentStream(readableStream),textLayer.render())})},function(reason){return finishPaintTask(reason)}));return this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(div,pdfPage,this.imageResourcesPath,this.renderInteractiveForms,this.l10n)),this.annotationLayer.render(this.viewport,"display")),div.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),canvasWrapper}},{key:"paintOnCanvas",value:function(canvasWrapper){function showCanvas(){isCanvasHidden&&(canvas.removeAttribute("hidden"),isCanvasHidden=!1)}var renderCapability=(0,_pdfjsLib.createPromiseCapability)(),result={promise:renderCapability.promise,onRenderContinue:function(cont){cont()},cancel:function(){renderTask.cancel()}},viewport=this.viewport,canvas=document.createElement("canvas"),isCanvasHidden=(canvas.id=this.renderingId,canvas.setAttribute("hidden","hidden"),!0),canvasWrapper=(canvasWrapper.appendChild(canvas),(this.canvas=canvas).mozOpaque=!0,canvas.getContext("2d",{alpha:!1})),outputScale=(0,_ui_utils.getOutputScale)(canvasWrapper),actualSizeViewport=(this.outputScale=outputScale,this.useOnlyCssZoom&&(actualSizeViewport=viewport.clone({scale:_ui_utils.CSS_UNITS}),outputScale.sx*=actualSizeViewport.width/viewport.width,outputScale.sy*=actualSizeViewport.height/viewport.height,outputScale.scaled=!0),0<this.maxCanvasPixels&&(actualSizeViewport=viewport.width*viewport.height,actualSizeViewport=Math.sqrt(this.maxCanvasPixels/actualSizeViewport),outputScale.sx>actualSizeViewport||outputScale.sy>actualSizeViewport?(outputScale.sx=actualSizeViewport,outputScale.sy=actualSizeViewport,outputScale.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1),(0,_ui_utils.approximateFraction)(outputScale.sx)),sfy=(0,_ui_utils.approximateFraction)(outputScale.sy);canvas.width=(0,_ui_utils.roundToDivide)(viewport.width*outputScale.sx,actualSizeViewport[0]),canvas.height=(0,_ui_utils.roundToDivide)(viewport.height*outputScale.sy,sfy[0]),canvas.style.width=(0,_ui_utils.roundToDivide)(viewport.width,actualSizeViewport[1])+"px",canvas.style.height=(0,_ui_utils.roundToDivide)(viewport.height,sfy[1])+"px",this.paintedViewportMap.set(canvas,viewport);var actualSizeViewport={canvasContext:canvasWrapper,transform:outputScale.scaled?[outputScale.sx,0,0,outputScale.sy,0,0]:null,viewport:this.viewport,enableWebGL:this.enableWebGL,renderInteractiveForms:this.renderInteractiveForms},renderTask=this.pdfPage.render(actualSizeViewport);return renderTask.onContinue=function(cont){showCanvas(),result.onRenderContinue?result.onRenderContinue(cont):cont()},renderTask.promise.then(function(){showCanvas(),renderCapability.resolve(void 0)},function(error){showCanvas(),renderCapability.reject(error)}),result}},{key:"paintOnSvg",value:function(wrapper){function ensureNotCancelled(){if(cancelled)throw new _pdfjsLib.RenderingCancelledException("Rendering cancelled, page "+_this2.id,"svg")}var _this2=this,cancelled=!1,pdfPage=this.pdfPage,actualSizeViewport=this.viewport.clone({scale:_ui_utils.CSS_UNITS});return{promise:pdfPage.getOperatorList().then(function(opList){return ensureNotCancelled(),new _pdfjsLib.SVGGraphics(pdfPage.commonObjs,pdfPage.objs).getSVG(opList,actualSizeViewport).then(function(svg){ensureNotCancelled(),_this2.svg=svg,_this2.paintedViewportMap.set(svg,actualSizeViewport),svg.style.width=wrapper.style.width,svg.style.height=wrapper.style.height,_this2.renderingState=_pdf_rendering_queue.RenderingStates.FINISHED,wrapper.appendChild(svg)})}),onRenderContinue:function(cont){cont()},cancel:function(){cancelled=!0}}}},{key:"setPageLabel",value:function(label){this.pageLabel="string"==typeof label?label:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),PDFPageView})();exports.PDFPageView=obj},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.DefaultTextLayerFactory=exports.TextLayerBuilder=void 0;var _ui_utils=__webpack_require__(5),_pdfjsLib=__webpack_require__(7);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps)}var TextLayerBuilder=(()=>{function TextLayerBuilder(_ref){var textLayerDiv=_ref.textLayerDiv,eventBus=_ref.eventBus,pageIndex=_ref.pageIndex,viewport=_ref.viewport,_ref$findController=_ref.findController,_ref$findController=void 0===_ref$findController?null:_ref$findController,_ref=_ref.enhanceTextSelection,_ref=void 0!==_ref&&_ref;_classCallCheck(this,TextLayerBuilder),this.textLayerDiv=textLayerDiv,this.eventBus=eventBus||(0,_ui_utils.getGlobalEventBus)(),this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageIdx=pageIndex,this.pageNumber=this.pageIdx+1,this.matches=[],this.viewport=viewport,this.textDivs=[],this.findController=_ref$findController,this.textLayerRenderTask=null,this.enhanceTextSelection=_ref,this._onUpdateTextLayerMatches=null,this._bindMouse()}return _createClass(TextLayerBuilder,[{key:"_finishRendering",value:function(){var endOfContent;this.renderingDone=!0,this.enhanceTextSelection||((endOfContent=document.createElement("div")).className="endOfContent",this.textLayerDiv.appendChild(endOfContent)),this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var textLayerFrag,_this=this,timeout=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;!this.textContent&&!this.textContentStream||this.renderingDone||(this.cancel(),this.textDivs=[],textLayerFrag=document.createDocumentFragment(),this.textLayerRenderTask=(0,_pdfjsLib.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:textLayerFrag,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:timeout,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(function(){_this.textLayerDiv.appendChild(textLayerFrag),_this._finishRendering(),_this._updateMatches()},function(reason){}),this._onUpdateTextLayerMatches)||(this._onUpdateTextLayerMatches=function(evt){evt.pageIndex!==_this.pageIdx&&-1!==evt.pageIndex||_this._updateMatches()},this.eventBus.on("updatetextlayermatches",this._onUpdateTextLayerMatches))}},{key:"cancel",value:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this._onUpdateTextLayerMatches&&(this.eventBus.off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null)}},{key:"setTextContentStream",value:function(readableStream){this.cancel(),this.textContentStream=readableStream}},{key:"setTextContent",value:function(textContent){this.cancel(),this.textContent=textContent}},{key:"_convertMatches",value:function(matches,matchesLength){if(!matches)return[];for(var findController=this.findController,textContentItemsStr=this.textContentItemsStr,i=0,iIndex=0,end=textContentItemsStr.length-1,queryLen=findController.state.query.length,result=[],m=0,mm=matches.length;m<mm;m++){for(var matchIdx=matches[m];i!==end&&matchIdx>=iIndex+textContentItemsStr[i].length;)iIndex+=textContentItemsStr[i].length,i++;i===textContentItemsStr.length&&console.error("Could not find a matching mapping");var match={begin:{divIdx:i,offset:matchIdx-iIndex}};for(matchIdx+=matchesLength?matchesLength[m]:queryLen;i!==end&&matchIdx>iIndex+textContentItemsStr[i].length;)iIndex+=textContentItemsStr[i].length,i++;match.end={divIdx:i,offset:matchIdx-iIndex},result.push(match)}return result}},{key:"_renderMatches",value:function(matches){if(0!==matches.length){var findController=this.findController,pageIdx=this.pageIdx,textContentItemsStr=this.textContentItemsStr,textDivs=this.textDivs,isSelectedPage=pageIdx===findController.selected.pageIdx,selectedMatchIdx=findController.selected.matchIdx,prevEnd=null,infinity={divIdx:-1,offset:void 0},i0=selectedMatchIdx,i1=selectedMatchIdx+1;if(findController.state.highlightAll)i0=0,i1=matches.length;else if(!isSelectedPage)return;for(var i=i0;i<i1;i++){var match=matches[i],begin=match.begin,match=match.end,isSelected=isSelectedPage&&i===selectedMatchIdx,highlightSuffix=isSelected?" selected":"";if(isSelected&&findController.scrollMatchIntoView({element:textDivs[begin.divIdx],pageIndex:pageIdx,matchIndex:selectedMatchIdx}),prevEnd&&begin.divIdx===prevEnd.divIdx?appendTextToDiv(prevEnd.divIdx,prevEnd.offset,begin.offset):(null!==prevEnd&&appendTextToDiv(prevEnd.divIdx,prevEnd.offset,infinity.offset),beginText(begin)),begin.divIdx===match.divIdx)appendTextToDiv(begin.divIdx,begin.offset,match.offset,"highlight"+highlightSuffix);else{appendTextToDiv(begin.divIdx,begin.offset,infinity.offset,"highlight begin"+highlightSuffix);for(var n0=begin.divIdx+1,n1=match.divIdx;n0<n1;n0++)textDivs[n0].className="highlight middle"+highlightSuffix;beginText(match,"highlight end"+highlightSuffix)}prevEnd=match}prevEnd&&appendTextToDiv(prevEnd.divIdx,prevEnd.offset,infinity.offset)}function beginText(begin,className){var divIdx=begin.divIdx;textDivs[divIdx].textContent="",appendTextToDiv(divIdx,0,begin.offset,className)}function appendTextToDiv(divIdx,fromOffset,toOffset,className){var div=textDivs[divIdx],divIdx=textContentItemsStr[divIdx].substring(fromOffset,toOffset),fromOffset=document.createTextNode(divIdx);className?((toOffset=document.createElement("span")).className=className,toOffset.appendChild(fromOffset),div.appendChild(toOffset)):div.appendChild(fromOffset)}}},{key:"_updateMatches",value:function(){if(this.renderingDone){for(var pageMatches,findController=this.findController,matches=this.matches,pageIdx=this.pageIdx,textContentItemsStr=this.textContentItemsStr,textDivs=this.textDivs,clearedUntilDivIdx=-1,i=0,ii=matches.length;i<ii;i++){for(var match=matches[i],n=Math.max(clearedUntilDivIdx,match.begin.divIdx),end=match.end.divIdx;n<=end;n++){var div=textDivs[n];div.textContent=textContentItemsStr[n],div.className=""}clearedUntilDivIdx=match.end.divIdx+1}findController&&findController.highlightMatches&&(pageMatches=findController.pageMatches[pageIdx]||null,findController=findController.pageMatchesLength[pageIdx]||null,this.matches=this._convertMatches(pageMatches,findController),this._renderMatches(this.matches))}}},{key:"_bindMouse",value:function(){var _this2=this,div=this.textLayerDiv,expandDivsTimer=null;div.addEventListener("mousedown",function(evt){var end,divBounds;_this2.enhanceTextSelection&&_this2.textLayerRenderTask?(_this2.textLayerRenderTask.expandTextDivs(!0),expandDivsTimer&&(clearTimeout(expandDivsTimer),expandDivsTimer=null)):(end=div.querySelector(".endOfContent"))&&(evt.target!==div&&"none"!==window.getComputedStyle(end).getPropertyValue("-moz-user-select")&&(divBounds=div.getBoundingClientRect(),evt=Math.max(0,(evt.pageY-divBounds.top)/divBounds.height),end.style.top=(100*evt).toFixed(2)+"%"),end.classList.add("active"))}),div.addEventListener("mouseup",function(){var end;_this2.enhanceTextSelection&&_this2.textLayerRenderTask?expandDivsTimer=setTimeout(function(){_this2.textLayerRenderTask&&_this2.textLayerRenderTask.expandTextDivs(!1),expandDivsTimer=null},300):(end=div.querySelector(".endOfContent"))&&(end.style.top="",end.classList.remove("active"))})}}]),TextLayerBuilder})(),__webpack_require__=(exports.TextLayerBuilder=TextLayerBuilder,(()=>{function DefaultTextLayerFactory(){_classCallCheck(this,DefaultTextLayerFactory)}return _createClass(DefaultTextLayerFactory,[{key:"createTextLayerBuilder",value:function(textLayerDiv,pageIndex,viewport){return new TextLayerBuilder({textLayerDiv:textLayerDiv,pageIndex:pageIndex,viewport:viewport,enhanceTextSelection:3<arguments.length&&void 0!==arguments[3]&&arguments[3]})}}]),DefaultTextLayerFactory})());exports.DefaultTextLayerFactory=__webpack_require__},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.SecondaryToolbar=void 0;var _ui_utils=__webpack_require__(5),_pdf_cursor_tools=__webpack_require__(9),_pdf_single_page_viewer=__webpack_require__(33);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__=(()=>{function SecondaryToolbar(options,mainContainer,eventBus){var _this=this;if(!(this instanceof SecondaryToolbar))throw new TypeError("Cannot call a class as a function");this.toolbar=options.toolbar,this.toggleButton=options.toggleButton,this.toolbarButtonContainer=options.toolbarButtonContainer,this.buttons=[{element:options.presentationModeButton,eventName:"presentationmode",close:!0},{element:options.openFileButton,eventName:"openfile",close:!0},{element:options.printButton,eventName:"print",close:!0},{element:options.downloadButton,eventName:"download",close:!0},{element:options.viewBookmarkButton,eventName:null,close:!0},{element:options.firstPageButton,eventName:"firstpage",close:!0},{element:options.lastPageButton,eventName:"lastpage",close:!0},{element:options.pageRotateCwButton,eventName:"rotatecw",close:!1},{element:options.pageRotateCcwButton,eventName:"rotateccw",close:!1},{element:options.cursorSelectToolButton,eventName:"switchcursortool",eventDetails:{tool:_pdf_cursor_tools.CursorTool.SELECT},close:!0},{element:options.cursorHandToolButton,eventName:"switchcursortool",eventDetails:{tool:_pdf_cursor_tools.CursorTool.HAND},close:!0},{element:options.scrollVerticalButton,eventName:"switchscrollmode",eventDetails:{mode:_ui_utils.ScrollMode.VERTICAL},close:!0},{element:options.scrollHorizontalButton,eventName:"switchscrollmode",eventDetails:{mode:_ui_utils.ScrollMode.HORIZONTAL},close:!0},{element:options.scrollWrappedButton,eventName:"switchscrollmode",eventDetails:{mode:_ui_utils.ScrollMode.WRAPPED},close:!0},{element:options.spreadNoneButton,eventName:"switchspreadmode",eventDetails:{mode:_ui_utils.SpreadMode.NONE},close:!0},{element:options.spreadOddButton,eventName:"switchspreadmode",eventDetails:{mode:_ui_utils.SpreadMode.ODD},close:!0},{element:options.spreadEvenButton,eventName:"switchspreadmode",eventDetails:{mode:_ui_utils.SpreadMode.EVEN},close:!0},{element:options.documentPropertiesButton,eventName:"documentproperties",close:!0}],this.items={firstPage:options.firstPageButton,lastPage:options.lastPageButton,pageRotateCw:options.pageRotateCwButton,pageRotateCcw:options.pageRotateCcwButton},this.mainContainer=mainContainer,this.eventBus=eventBus,this.opened=!1,this.containerHeight=null,this.previousContainerHeight=null,this.reset(),this._bindClickListeners(),this._bindCursorToolsListener(options),this._bindScrollModeListener(options),this._bindSpreadModeListener(options),this.eventBus.on("resize",this._setMaxHeight.bind(this)),this.eventBus.on("baseviewerinit",function(evt){evt.source instanceof _pdf_single_page_viewer.PDFSinglePageViewer?_this.toolbarButtonContainer.classList.add("hiddenScrollModeButtons","hiddenSpreadModeButtons"):_this.toolbarButtonContainer.classList.remove("hiddenScrollModeButtons","hiddenSpreadModeButtons")})}var Constructor,protoProps,staticProps;return Constructor=SecondaryToolbar,(protoProps=[{key:"setPageNumber",value:function(pageNumber){this.pageNumber=pageNumber,this._updateUIState()}},{key:"setPagesCount",value:function(pagesCount){this.pagesCount=pagesCount,this._updateUIState()}},{key:"reset",value:function(){this.pageNumber=0,this.pagesCount=0,this._updateUIState(),this.eventBus.dispatch("secondarytoolbarreset",{source:this})}},{key:"_updateUIState",value:function(){this.items.firstPage.disabled=this.pageNumber<=1,this.items.lastPage.disabled=this.pageNumber>=this.pagesCount,this.items.pageRotateCw.disabled=0===this.pagesCount,this.items.pageRotateCcw.disabled=0===this.pagesCount}},{key:"_bindClickListeners",value:function(){var button,_this2=this;this.toggleButton.addEventListener("click",this.toggle.bind(this));for(button in this.buttons)(button=>{var element=(button=_this2.buttons[button]).element,eventName=button.eventName,close=button.close,eventDetails=button.eventDetails;element.addEventListener("click",function(evt){if(null!==eventName){var property,details={source:_this2};for(property in eventDetails)details[property]=eventDetails[property];_this2.eventBus.dispatch(eventName,details)}close&&_this2.close()})})(button)}},{key:"_bindCursorToolsListener",value:function(buttons){this.eventBus.on("cursortoolchanged",function(_ref){_ref=_ref.tool;buttons.cursorSelectToolButton.classList.toggle("toggled",_ref===_pdf_cursor_tools.CursorTool.SELECT),buttons.cursorHandToolButton.classList.toggle("toggled",_ref===_pdf_cursor_tools.CursorTool.HAND)})}},{key:"_bindScrollModeListener",value:function(buttons){var _this3=this;function scrollModeChanged(_ref2){_ref2=_ref2.mode,buttons.scrollVerticalButton.classList.toggle("toggled",_ref2===_ui_utils.ScrollMode.VERTICAL),buttons.scrollHorizontalButton.classList.toggle("toggled",_ref2===_ui_utils.ScrollMode.HORIZONTAL),buttons.scrollWrappedButton.classList.toggle("toggled",_ref2===_ui_utils.ScrollMode.WRAPPED),_ref2=_ref2===_ui_utils.ScrollMode.HORIZONTAL;buttons.spreadNoneButton.disabled=_ref2,buttons.spreadOddButton.disabled=_ref2,buttons.spreadEvenButton.disabled=_ref2}this.eventBus.on("scrollmodechanged",scrollModeChanged),this.eventBus.on("secondarytoolbarreset",function(evt){evt.source===_this3&&scrollModeChanged({mode:_ui_utils.ScrollMode.VERTICAL})})}},{key:"_bindSpreadModeListener",value:function(buttons){var _this4=this;function spreadModeChanged(_ref3){_ref3=_ref3.mode;buttons.spreadNoneButton.classList.toggle("toggled",_ref3===_ui_utils.SpreadMode.NONE),buttons.spreadOddButton.classList.toggle("toggled",_ref3===_ui_utils.SpreadMode.ODD),buttons.spreadEvenButton.classList.toggle("toggled",_ref3===_ui_utils.SpreadMode.EVEN)}this.eventBus.on("spreadmodechanged",spreadModeChanged),this.eventBus.on("secondarytoolbarreset",function(evt){evt.source===_this4&&spreadModeChanged({mode:_ui_utils.SpreadMode.NONE})})}},{key:"open",value:function(){this.opened||(this.opened=!0,this._setMaxHeight(),this.toggleButton.classList.add("toggled"),this.toolbar.classList.remove("hidden"))}},{key:"close",value:function(){this.opened&&(this.opened=!1,this.toolbar.classList.add("hidden"),this.toggleButton.classList.remove("toggled"))}},{key:"toggle",value:function(){this.opened?this.close():this.open()}},{key:"_setMaxHeight",value:function(){this.opened&&(this.containerHeight=this.mainContainer.clientHeight,this.containerHeight!==this.previousContainerHeight)&&(this.toolbarButtonContainer.setAttribute("style","max-height: "+(this.containerHeight-_ui_utils.SCROLLBAR_PADDING)+"px;"),this.previousContainerHeight=this.containerHeight)}},{key:"isOpen",get:function(){return this.opened}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),SecondaryToolbar})();exports.SecondaryToolbar=__webpack_require__},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFSinglePageViewer=void 0;var _base_viewer=__webpack_require__(28),_pdfjsLib=__webpack_require__(7);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?(self=>{if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")})(self):call}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var target=((object,property)=>{for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object})(target,property);if(target)return(target=Object.getOwnPropertyDescriptor(target,property)).get?target.get.call(receiver):target.value})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}__webpack_require__=(_BaseViewer=>{var staticProps,subClass=PDFSinglePageViewer;if("function"!=typeof _BaseViewer&&null!==_BaseViewer)throw new TypeError("Super expression must either be null or a function");function PDFSinglePageViewer(options){var _this;if(this instanceof PDFSinglePageViewer)return(_this=_possibleConstructorReturn(this,_getPrototypeOf(PDFSinglePageViewer).call(this,options))).eventBus.on("pagesinit",function(evt){_this._ensurePageViewVisible()}),_this;throw new TypeError("Cannot call a class as a function")}return subClass.prototype=Object.create(_BaseViewer&&_BaseViewer.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),_BaseViewer&&_setPrototypeOf(subClass,_BaseViewer),subClass=PDFSinglePageViewer,(_BaseViewer=[{key:"_resetView",value:function(){_get(_getPrototypeOf(PDFSinglePageViewer.prototype),"_resetView",this).call(this),this._previousPageNumber=1,this._shadowViewer=document.createDocumentFragment(),this._updateScrollDown=null}},{key:"_ensurePageViewVisible",value:function(){var pageView=this._pages[this._currentPageNumber-1],previousPageView=this._pages[this._previousPageNumber-1],viewerNodes=this.viewer.childNodes;switch(viewerNodes.length){case 0:this.viewer.appendChild(pageView.div);break;case 1:if(viewerNodes[0]!==previousPageView.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");pageView!==previousPageView&&(this._shadowViewer.appendChild(previousPageView.div),this.viewer.appendChild(pageView.div),this.container.scrollTop=0);break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function(){this._updateScrollDown&&this._updateScrollDown(),_get(_getPrototypeOf(PDFSinglePageViewer.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function(_ref){var _this2=this,pageDiv=_ref.pageDiv,_ref$pageSpot=_ref.pageSpot,_ref$pageSpot=void 0===_ref$pageSpot?null:_ref$pageSpot,_ref=_ref.pageNumber,_ref=void 0===_ref?null:_ref,scrolledDown=(_ref&&this._setCurrentPageNumber(_ref),this._currentPageNumber>=this._previousPageNumber);this._ensurePageViewVisible(),this.update(),_get(_getPrototypeOf(PDFSinglePageViewer.prototype),"_scrollIntoView",this).call(this,{pageDiv:pageDiv,pageSpot:_ref$pageSpot,pageNumber:_ref}),this._updateScrollDown=function(){_this2.scroll.down=scrolledDown,_this2._updateScrollDown=null}}},{key:"_getVisiblePages",value:function(){return this._getCurrentVisiblePage()}},{key:"_updateHelper",value:function(visiblePages){}},{key:"_updateScrollMode",value:function(){}},{key:"_updateSpreadMode",value:function(){}},{key:"_setDocumentViewerElement",get:function(){return(0,_pdfjsLib.shadow)(this,"_setDocumentViewerElement",this._shadowViewer)}},{key:"_isScrollModeHorizontal",get:function(){return(0,_pdfjsLib.shadow)(this,"_isScrollModeHorizontal",!1)}}])&&_defineProperties(subClass.prototype,_BaseViewer),staticProps&&_defineProperties(subClass,staticProps),PDFSinglePageViewer})(_base_viewer.BaseViewer);exports.PDFSinglePageViewer=__webpack_require__},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.Toolbar=void 0;var _ui_utils=__webpack_require__(5);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__=(()=>{function Toolbar(options,eventBus){var l10n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:_ui_utils.NullL10n,instance=this,Constructor=Toolbar;if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");this.toolbar=options.container,this.eventBus=eventBus,this.l10n=l10n,this.items=options,this._wasLocalized=!1,this.reset(),this._bindListeners()}var Constructor,protoProps,staticProps;return Constructor=Toolbar,(protoProps=[{key:"setPageNumber",value:function(pageNumber,pageLabel){this.pageNumber=pageNumber,this.pageLabel=pageLabel,this._updateUIState(!1)}},{key:"setPagesCount",value:function(pagesCount,hasPageLabels){this.pagesCount=pagesCount,this.hasPageLabels=hasPageLabels,this._updateUIState(!0)}},{key:"setPageScale",value:function(pageScaleValue,pageScale){this.pageScaleValue=(pageScaleValue||pageScale).toString(),this.pageScale=pageScale,this._updateUIState(!1)}},{key:"reset",value:function(){this.pageNumber=0,this.pageLabel=null,this.hasPageLabels=!1,this.pagesCount=0,this.pageScaleValue=_ui_utils.DEFAULT_SCALE_VALUE,this.pageScale=_ui_utils.DEFAULT_SCALE,this._updateUIState(!0),this.updateLoadingIndicatorState()}},{key:"_bindListeners",value:function(){var _this=this,eventBus=this.eventBus,items=this.items,self=this;items.previous.addEventListener("click",function(){eventBus.dispatch("previouspage",{source:self})}),items.next.addEventListener("click",function(){eventBus.dispatch("nextpage",{source:self})}),items.zoomIn.addEventListener("click",function(){eventBus.dispatch("zoomin",{source:self})}),items.zoomOut.addEventListener("click",function(){eventBus.dispatch("zoomout",{source:self})}),items.pageNumber.addEventListener("click",function(){this.select()}),items.pageNumber.addEventListener("change",function(){eventBus.dispatch("pagenumberchanged",{source:self,value:this.value})}),items.scaleSelect.addEventListener("change",function(){"custom"!==this.value&&eventBus.dispatch("scalechanged",{source:self,value:this.value})}),items.presentationModeButton.addEventListener("click",function(){eventBus.dispatch("presentationmode",{source:self})}),items.openFile.addEventListener("click",function(){eventBus.dispatch("openfile",{source:self})}),items.print.addEventListener("click",function(){eventBus.dispatch("print",{source:self})}),items.download.addEventListener("click",function(){eventBus.dispatch("download",{source:self})}),items.scaleSelect.oncontextmenu=_ui_utils.noContextMenuHandler,eventBus.on("localized",function(){_this._localized()})}},{key:"_localized",value:function(){this._wasLocalized=!0,this._adjustScaleWidth(),this._updateUIState(!0)}},{key:"_updateUIState",value:function(){var pageNumber,pageScaleValue,pageScale,items,pagesCount;this._wasLocalized&&(pageNumber=this.pageNumber,pagesCount=this.pagesCount,pageScaleValue=this.pageScaleValue,pageScale=this.pageScale,items=this.items,0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(this.hasPageLabels?items.pageNumber.type="text":(items.pageNumber.type="number",this.l10n.get("of_pages",{pagesCount:pagesCount},"of {{pagesCount}}").then(function(msg){items.numPages.textContent=msg})),items.pageNumber.max=pagesCount),this.hasPageLabels?(items.pageNumber.value=this.pageLabel,this.l10n.get("page_of_pages",{pageNumber:pageNumber,pagesCount:pagesCount},"({{pageNumber}} of {{pagesCount}})").then(function(msg){items.numPages.textContent=msg})):items.pageNumber.value=pageNumber,items.previous.disabled=pageNumber<=1,items.next.disabled=pagesCount<=pageNumber,items.zoomOut.disabled=pageScale<=_ui_utils.MIN_SCALE,items.zoomIn.disabled=pageScale>=_ui_utils.MAX_SCALE,pagesCount=Math.round(1e4*pageScale)/100,this.l10n.get("page_scale_percent",{scale:pagesCount},"{{scale}}%").then(function(msg){for(var options=items.scaleSelect.options,predefinedValueFound=!1,i=0,ii=options.length;i<ii;i++){var option=options[i];option.value!==pageScaleValue?option.selected=!1:predefinedValueFound=option.selected=!0}predefinedValueFound||(items.customScaleOption.textContent=msg,items.customScaleOption.selected=!0)}))}},{key:"updateLoadingIndicatorState",value:function(){this.items.pageNumber.classList.toggle("visiblePageIsLoading",0<arguments.length&&void 0!==arguments[0]&&arguments[0])}},{key:"_adjustScaleWidth",value:function(){var container=this.items.scaleSelectContainer,select=this.items.scaleSelect;_ui_utils.animationStarted.then(function(){var width;0===container.clientWidth&&container.setAttribute("style","display: inherit;"),0<container.clientWidth&&(select.setAttribute("style","min-width: inherit;"),width=select.clientWidth+8,select.setAttribute("style","min-width: "+(width+22)+"px;"),container.setAttribute("style","min-width: "+width+"px; max-width: "+width+"px;"))})}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Toolbar})();exports.Toolbar=__webpack_require__},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.ViewHistory=void 0;var _regenerator=(__webpack_require__=__webpack_require__(2))&&__webpack_require__.__esModule?__webpack_require__:{default:__webpack_require__};function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__=(()=>{function ViewHistory(fingerprint){var _this=this,cacheSize=1<arguments.length&&void 0!==arguments[1]?arguments[1]:20,instance=this,Constructor=ViewHistory;if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");this.fingerprint=fingerprint,this.cacheSize=cacheSize,this._initializedPromise=this._readFromStorage().then(function(databaseStr){var database=JSON.parse(databaseStr||"{}");if("files"in database)for(;database.files.length>=_this.cacheSize;)database.files.shift();else database.files=[];for(var index=-1,i=0,length=database.files.length;i<length;i++)if(database.files[i].fingerprint===_this.fingerprint){index=i;break}-1===index&&(index=database.files.push({fingerprint:_this.fingerprint})-1),_this.file=database.files[index],_this.database=database})}var Constructor,protoProps,staticProps,_getMultiple,_get,_setMultiple,_set,_readFromStorage2,_writeToStorage2;return Constructor=ViewHistory,(protoProps=[{key:"_writeToStorage",value:(_writeToStorage2=_asyncToGenerator(_regenerator.default.mark(function _callee(){var databaseStr;return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:databaseStr=JSON.stringify(this.database),localStorage.setItem("pdfjs.history",databaseStr);case 2:case"end":return _context.stop()}},_callee,this)})),function(){return _writeToStorage2.apply(this,arguments)})},{key:"_readFromStorage",value:(_readFromStorage2=_asyncToGenerator(_regenerator.default.mark(function _callee2(){return _regenerator.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",localStorage.getItem("pdfjs.history"));case 1:case"end":return _context2.stop()}},_callee2)})),function(){return _readFromStorage2.apply(this,arguments)})},{key:"set",value:(_set=_asyncToGenerator(_regenerator.default.mark(function _callee3(name,val){return _regenerator.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,this._initializedPromise;case 2:return this.file[name]=val,_context3.abrupt("return",this._writeToStorage());case 4:case"end":return _context3.stop()}},_callee3,this)})),function(_x,_x2){return _set.apply(this,arguments)})},{key:"setMultiple",value:(_setMultiple=_asyncToGenerator(_regenerator.default.mark(function _callee4(properties){var name;return _regenerator.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,this._initializedPromise;case 2:for(name in properties)this.file[name]=properties[name];return _context4.abrupt("return",this._writeToStorage());case 4:case"end":return _context4.stop()}},_callee4,this)})),function(_x3){return _setMultiple.apply(this,arguments)})},{key:"get",value:(_get=_asyncToGenerator(_regenerator.default.mark(function _callee5(name,defaultValue){var val;return _regenerator.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,this._initializedPromise;case 2:return val=this.file[name],_context5.abrupt("return",void 0!==val?val:defaultValue);case 4:case"end":return _context5.stop()}},_callee5,this)})),function(_x4,_x5){return _get.apply(this,arguments)})},{key:"getMultiple",value:(_getMultiple=_asyncToGenerator(_regenerator.default.mark(function _callee6(properties){var values,name,val;return _regenerator.default.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,this._initializedPromise;case 2:for(name in values=Object.create(null),properties)val=this.file[name],values[name]=void 0!==val?val:properties[name];return _context6.abrupt("return",values);case 5:case"end":return _context6.stop()}},_callee6,this)})),function(_x6){return _getMultiple.apply(this,arguments)})}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),ViewHistory})();exports.ViewHistory=__webpack_require__},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.GenericCom=void 0;var _regenerator=(obj=__webpack_require__(2))&&obj.__esModule?obj:{default:obj},obj=__webpack_require__(1),_preferences=__webpack_require__(37),_download_manager=__webpack_require__(38),_genericl10n=__webpack_require__(39);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?(self=>{if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")})(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}exports.GenericCom={};var GenericPreferences=(_BasePreferences=>{var staticProps,_readFromStorage2,_writeToStorage2,subClass=GenericPreferences;if("function"!=typeof _BasePreferences&&null!==_BasePreferences)throw new TypeError("Super expression must either be null or a function");function GenericPreferences(){var instance=this,Constructor=GenericPreferences;if(instance instanceof Constructor)return _possibleConstructorReturn(this,_getPrototypeOf(GenericPreferences).apply(this,arguments));throw new TypeError("Cannot call a class as a function")}return subClass.prototype=Object.create(_BasePreferences&&_BasePreferences.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),_BasePreferences&&_setPrototypeOf(subClass,_BasePreferences),subClass=GenericPreferences,(_BasePreferences=[{key:"_writeToStorage",value:(_writeToStorage2=_asyncToGenerator(_regenerator.default.mark(function _callee(prefObj){return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:localStorage.setItem("pdfjs.preferences",JSON.stringify(prefObj));case 1:case"end":return _context.stop()}},_callee)})),function(_x){return _writeToStorage2.apply(this,arguments)})},{key:"_readFromStorage",value:(_readFromStorage2=_asyncToGenerator(_regenerator.default.mark(function _callee2(prefObj){return _regenerator.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",JSON.parse(localStorage.getItem("pdfjs.preferences")));case 1:case"end":return _context2.stop()}},_callee2)})),function(_x2){return _readFromStorage2.apply(this,arguments)})}])&&_defineProperties(subClass.prototype,_BasePreferences),staticProps&&_defineProperties(subClass,staticProps),GenericPreferences})(_preferences.BasePreferences),__webpack_require__=Object.create(obj.DefaultExternalServices);__webpack_require__.createDownloadManager=function(options){return new _download_manager.DownloadManager(options)},__webpack_require__.createPreferences=function(){return new GenericPreferences},__webpack_require__.createL10n=function(_ref){_ref=_ref.locale;return new _genericl10n.GenericL10n(void 0===_ref?"en-US":_ref)},obj.PDFViewerApplication.externalServices=__webpack_require__},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.BasePreferences=void 0;var _regenerator=(__webpack_require__=__webpack_require__(2))&&__webpack_require__.__esModule?__webpack_require__:{default:__webpack_require__};function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var defaultPreferences=null;__webpack_require__=(()=>{function BasePreferences(){var _this=this;if(!(this instanceof BasePreferences))throw new TypeError("Cannot call a class as a function");if(this.constructor===BasePreferences)throw new Error("Cannot initialize BasePreferences.");this.prefs=null,this._initializedPromise=(defaultPreferences=defaultPreferences||Promise.resolve({cursorToolOnLoad:0,defaultZoomValue:"",disablePageLabels:!1,enablePrintAutoRotate:!1,enableWebGL:!1,eventBusDispatchToDOM:!1,externalLinkTarget:0,historyUpdateUrl:!1,pdfBugEnabled:!1,renderer:"canvas",renderInteractiveForms:!1,sidebarViewOnLoad:-1,scrollModeOnLoad:-1,spreadModeOnLoad:-1,textLayerMode:1,useOnlyCssZoom:!1,viewOnLoad:0,disableAutoFetch:!1,disableFontFace:!1,disableRange:!1,disableStream:!1})).then(function(defaults){return Object.defineProperty(_this,"defaults",{value:Object.freeze(defaults),writable:!1,enumerable:!0,configurable:!1}),_this.prefs=Object.assign(Object.create(null),defaults),_this._readFromStorage(defaults)}).then(function(prefs){if(prefs)for(var name in prefs){var defaultValue=_this.defaults[name],prefValue=prefs[name];void 0!==defaultValue&&_typeof(prefValue)===_typeof(defaultValue)&&(_this.prefs[name]=prefValue)}})}var Constructor,protoProps,staticProps,_getAll,_get,_set,_reset,_readFromStorage2,_writeToStorage2;return Constructor=BasePreferences,(protoProps=[{key:"_writeToStorage",value:(_writeToStorage2=_asyncToGenerator(_regenerator.default.mark(function _callee(prefObj){return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:throw new Error("Not implemented: _writeToStorage");case 1:case"end":return _context.stop()}},_callee)})),function(_x){return _writeToStorage2.apply(this,arguments)})},{key:"_readFromStorage",value:(_readFromStorage2=_asyncToGenerator(_regenerator.default.mark(function _callee2(prefObj){return _regenerator.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:throw new Error("Not implemented: _readFromStorage");case 1:case"end":return _context2.stop()}},_callee2)})),function(_x2){return _readFromStorage2.apply(this,arguments)})},{key:"reset",value:(_reset=_asyncToGenerator(_regenerator.default.mark(function _callee3(){return _regenerator.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,this._initializedPromise;case 2:return this.prefs=Object.assign(Object.create(null),this.defaults),_context3.abrupt("return",this._writeToStorage(this.defaults));case 4:case"end":return _context3.stop()}},_callee3,this)})),function(){return _reset.apply(this,arguments)})},{key:"set",value:(_set=_asyncToGenerator(_regenerator.default.mark(function _callee4(name,value){var defaultValue,valueType,defaultType;return _regenerator.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,this._initializedPromise;case 2:if(void 0===(defaultValue=this.defaults[name]))throw new Error('Set preference: "'.concat(name,'" is undefined.'));_context4.next=7;break;case 7:if(void 0===value)throw new Error("Set preference: no value is specified.");_context4.next=9;break;case 9:valueType=_typeof(value),defaultType=_typeof(defaultValue),valueType===defaultType?_context4.next=19:"number"!==valueType||"string"!==defaultType?_context4.next=16:(value=value.toString(),_context4.next=17);break;case 16:throw new Error('Set preference: "'.concat(value,'" is a ').concat(valueType,", ")+"expected a ".concat(defaultType,"."));case 17:_context4.next=21;break;case 19:if("number"!==valueType||Number.isInteger(value)){_context4.next=21;break}throw new Error('Set preference: "'.concat(value,'" must be an integer.'));case 21:return this.prefs[name]=value,_context4.abrupt("return",this._writeToStorage(this.prefs));case 23:case"end":return _context4.stop()}},_callee4,this)})),function(_x3,_x4){return _set.apply(this,arguments)})},{key:"get",value:(_get=_asyncToGenerator(_regenerator.default.mark(function _callee5(name){var defaultValue,prefValue;return _regenerator.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,this._initializedPromise;case 2:if(void 0===(defaultValue=this.defaults[name]))throw new Error('Get preference: "'.concat(name,'" is undefined.'));_context5.next=7;break;case 7:if(void 0!==(prefValue=this.prefs[name]))return _context5.abrupt("return",prefValue);_context5.next=10;break;case 10:return _context5.abrupt("return",defaultValue);case 11:case"end":return _context5.stop()}},_callee5,this)})),function(_x5){return _get.apply(this,arguments)})},{key:"getAll",value:(_getAll=_asyncToGenerator(_regenerator.default.mark(function _callee6(){return _regenerator.default.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,this._initializedPromise;case 2:return _context6.abrupt("return",Object.assign(Object.create(null),this.defaults,this.prefs));case 3:case"end":return _context6.stop()}},_callee6,this)})),function(){return _getAll.apply(this,arguments)})}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),BasePreferences})();exports.BasePreferences=__webpack_require__},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.DownloadManager=void 0;var _pdfjsLib=__webpack_require__(7);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var DISABLE_CREATE_OBJECT_URL=_pdfjsLib.apiCompatibilityParams.disableCreateObjectURL||!1;function _download(blobUrl,filename){var a=document.createElement("a");if(!a.click)throw new Error('DownloadManager: "a.click()" is not supported.');a.href=blobUrl,a.target="_parent","download"in a&&(a.download=filename),(document.body||document.documentElement).appendChild(a),a.click(),a.remove()}__webpack_require__=(()=>{function DownloadManager(_ref){_ref=_ref.disableCreateObjectURL,_ref=void 0===_ref?DISABLE_CREATE_OBJECT_URL:_ref;if(!(this instanceof DownloadManager))throw new TypeError("Cannot call a class as a function");this.disableCreateObjectURL=_ref}var Constructor,protoProps,staticProps;return Constructor=DownloadManager,(protoProps=[{key:"downloadUrl",value:function(url,filename){(0,_pdfjsLib.createValidAbsoluteUrl)(url,"http://example.com")&&_download(url+"#pdfjs.action=download",filename)}},{key:"downloadData",value:function(data,filename,contentType){navigator.msSaveBlob?navigator.msSaveBlob(new Blob([data],{type:contentType}),filename):_download((0,_pdfjsLib.createObjectURL)(data,contentType,this.disableCreateObjectURL),filename)}},{key:"download",value:function(blob,url,filename){navigator.msSaveBlob?navigator.msSaveBlob(blob,filename)||this.downloadUrl(url,filename):this.disableCreateObjectURL?this.downloadUrl(url,filename):_download(URL.createObjectURL(blob),filename)}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),DownloadManager})();exports.DownloadManager=__webpack_require__},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.GenericL10n=void 0;var _regenerator=(obj=__webpack_require__(2))&&obj.__esModule?obj:{default:obj};function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(40);var webL10n=document.webL10n,obj=(()=>{function GenericL10n(lang){if(!(this instanceof GenericL10n))throw new TypeError("Cannot call a class as a function");this._lang=lang,this._ready=new Promise(function(resolve,reject){webL10n.setLanguage(lang,function(){resolve(webL10n)})})}var Constructor,protoProps,staticProps,_translate,_get,_getDirection,_getLanguage;return Constructor=GenericL10n,(protoProps=[{key:"getLanguage",value:(_getLanguage=_asyncToGenerator(_regenerator.default.mark(function _callee(){var l10n;return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this._ready;case 2:return l10n=_context.sent,_context.abrupt("return",l10n.getLanguage());case 4:case"end":return _context.stop()}},_callee,this)})),function(){return _getLanguage.apply(this,arguments)})},{key:"getDirection",value:(_getDirection=_asyncToGenerator(_regenerator.default.mark(function _callee2(){var l10n;return _regenerator.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this._ready;case 2:return l10n=_context2.sent,_context2.abrupt("return",l10n.getDirection());case 4:case"end":return _context2.stop()}},_callee2,this)})),function(){return _getDirection.apply(this,arguments)})},{key:"get",value:(_get=_asyncToGenerator(_regenerator.default.mark(function _callee3(property,args,fallback){var l10n;return _regenerator.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,this._ready;case 2:return l10n=_context3.sent,_context3.abrupt("return",l10n.get(property,args,fallback));case 4:case"end":return _context3.stop()}},_callee3,this)})),function(_x,_x2,_x3){return _get.apply(this,arguments)})},{key:"translate",value:(_translate=_asyncToGenerator(_regenerator.default.mark(function _callee4(element){var l10n;return _regenerator.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,this._ready;case 2:return l10n=_context4.sent,_context4.abrupt("return",l10n.translate(element));case 4:case"end":return _context4.stop()}},_callee4,this)})),function(_x4){return _translate.apply(this,arguments)})}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),GenericL10n})();exports.GenericL10n=obj},function(module,exports,__webpack_require__){document.webL10n=((window,document)=>{var gL10nData={},gTextData="",gTextProp="textContent",gLanguage="",gMacros={},gReadyState="loading",gAsyncResourceLoading=!0;function xhrLoadText(url,onSuccess,onFailure){onSuccess=onSuccess||function(data){},onFailure=onFailure||function(){};var xhr=new XMLHttpRequest;xhr.open("GET",url,gAsyncResourceLoading),xhr.overrideMimeType&&xhr.overrideMimeType("text/plain; charset=utf-8"),xhr.onreadystatechange=function(){4==xhr.readyState&&(200==xhr.status||0===xhr.status?onSuccess(xhr.responseText):onFailure())},xhr.onerror=onFailure,xhr.ontimeout=onFailure;try{xhr.send(null)}catch(e){onFailure()}}function parseResource(href,lang,successCallback,failureCallback){var baseURL=href.replace(/[^\/]*$/,"")||"./";function parseProperties(text,parsedPropertiesCallback){var dictionary={},reBlank=/^\s*|\s*$/,reComment=/^\s*#|^\s*$/,reSection=/^\s*\[(.*)\]\s*$/,reImport=/^\s*@import\s+url\((.*)\)\s*$/i,reSplit=/^([^=\s]*)\s*=\s*(.+)$/;function parseRawLines(rawText,extendedSyntax,parsedRawLinesCallback){var entries=rawText.replace(reBlank,"").split(/[\r\n]+/),currentLang="*",genericLang=lang.split("-",1)[0],skipLang=!1,match="";!function nextEntry(){for(;;){if(!entries.length)return void parsedRawLinesCallback();var url,callback,line=entries.shift();if(!reComment.test(line)){if(extendedSyntax){if(match=reSection.exec(line)){currentLang=match[1].toLowerCase(),skipLang="*"!==currentLang&&currentLang!==lang&&currentLang!==genericLang;continue}if(skipLang)continue;if(match=reImport.exec(line))return url=baseURL+match[1],callback=nextEntry,void xhrLoadText(url,function(content){parseRawLines(content,!1,callback)},function(){console.warn(url+" not found."),callback()})}(line=line.match(reSplit))&&3==line.length&&(dictionary[line[1]]=(line=line[2]).lastIndexOf("\\")<0?line:line.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'"))}}}()}parseRawLines(text,!0,function(){parsedPropertiesCallback(dictionary)})}xhrLoadText(href,function(response){gTextData+=response,parseProperties(response,function(data){for(var key in data){var id,index=key.lastIndexOf("."),index=0<index?(id=key.substring(0,index),key.substring(index+1)):(id=key,gTextProp);gL10nData[id]||(gL10nData[id]={}),gL10nData[id][index]=data[key]}successCallback&&successCallback()})},failureCallback)}function loadLocale(lang,callback){lang=lang&&lang.toLowerCase(),callback=callback||function(){},gL10nData={},gLanguage=gTextData="",gLanguage=lang;var langLinks=document.querySelectorAll('link[type="application/l10n"]'),langCount=langLinks.length;if(0===langCount){var dict=(script=document.querySelector('script[type="application/l10n"]'))?JSON.parse(script.innerHTML):null;if(dict&&dict.locales&&dict.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(gL10nData=dict.locales[lang])){var anyCaseLang,defaultLocale=dict.default_locale.toLowerCase();for(anyCaseLang in dict.locales){if((anyCaseLang=anyCaseLang.toLowerCase())===lang){gL10nData=dict.locales[lang];break}anyCaseLang===defaultLocale&&(gL10nData=dict.locales[defaultLocale])}}callback()}else console.log("no resource to load, early way out");gReadyState="complete"}else for(var script,gResourceCount=0,onResourceLoaded=function(){langCount<=++gResourceCount&&(callback(),gReadyState="complete")},i=0;i<langCount;i++)new L10nResourceLink(langLinks[i]).load(lang,onResourceLoaded);function L10nResourceLink(link){var href=link.href;this.load=function(lang,callback){parseResource(href,lang,callback,function(){console.warn(href+" not found."),console.warn('"'+lang+'" resource not found'),gLanguage="",callback()})}}}function getL10nData(key,args,fallback){var data=gL10nData[key];if(!data){if(console.warn("#"+key+" is undefined."),!fallback)return null;data=fallback}var prop,str,rv={};for(prop in data)str=((str,args,key)=>str.replace(/\{\{\s*(.+?)\s*\}\}/g,function(matched_text,arg){return args&&arg in args?args[arg]:arg in gL10nData?gL10nData[arg]:(console.log("argument {{"+arg+"}} for #"+key+" is undefined."),matched_text)}))(((str,args,key,prop)=>{var macroName,param,reMatch=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(str);return reMatch&&reMatch.length&&(macroName=reMatch[1],reMatch=reMatch[2],args&&reMatch in args?param=args[reMatch]:reMatch in gL10nData&&(param=gL10nData[reMatch]),macroName in gMacros)&&(args=gMacros[macroName],str=args(str,param,key,prop)),str})(data[prop],args,key,prop),args,key),rv[prop]=str;return rv}function translateElement(element){var l10n=(element=>{if(!element)return{};var l10nId=element.getAttribute("data-l10n-id"),element=element.getAttribute("data-l10n-args"),args={};if(element)try{args=JSON.parse(element)}catch(e){console.warn("could not parse arguments for #"+l10nId)}return{id:l10nId,args:args}})(element);if(l10n.id){var data=getL10nData(l10n.id,l10n.args);if(data){if(data[gTextProp]){if(0===(element=>{if(element.children)return element.children.length;if(void 0!==element.childElementCount)return element.childElementCount;for(var count=0,i=0;i<element.childNodes.length;i++)count+=1===element.nodeType?1:0;return count})(element))element[gTextProp]=data[gTextProp];else{for(var textNode,children=element.childNodes,found=!1,i=0,l=children.length;i<l;i++)3===children[i].nodeType&&/\S/.test(children[i].nodeValue)&&(found?children[i].nodeValue="":(children[i].nodeValue=data[gTextProp],found=!0));found||(textNode=document.createTextNode(data[gTextProp]),element.insertBefore(textNode,element.firstChild))}delete data[gTextProp]}for(var k in data)element[k]=data[k]}else console.warn("#"+l10n.id+" is undefined.")}}return gMacros.plural=function(str,param,key,prop){var index,param=parseFloat(param);return isNaN(param)||prop==gTextProp&&(gMacros._pluralRules||(gMacros._pluralRules=(lang=>{function isIn(n,list){return-1!==list.indexOf(n)}function isBetween(n,start,end){return start<=n&&n<=end}var pluralRules={0:function(n){return"other"},1:function(n){return isBetween(n%100,3,10)?"few":0===n?"zero":isBetween(n%100,11,99)?"many":2==n?"two":1==n?"one":"other"},2:function(n){return 0!==n&&n%10==0?"many":2==n?"two":1==n?"one":"other"},3:function(n){return 1==n?"one":"other"},4:function(n){return isBetween(n,0,1)?"one":"other"},5:function(n){return isBetween(n,0,2)&&2!=n?"one":"other"},6:function(n){return 0===n?"zero":n%10==1&&n%100!=11?"one":"other"},7:function(n){return 2==n?"two":1==n?"one":"other"},8:function(n){return isBetween(n,3,6)?"few":isBetween(n,7,10)?"many":2==n?"two":1==n?"one":"other"},9:function(n){return 0===n||1!=n&&isBetween(n%100,1,19)?"few":1==n?"one":"other"},10:function(n){return isBetween(n%10,2,9)&&!isBetween(n%100,11,19)?"few":n%10!=1||isBetween(n%100,11,19)?"other":"one"},11:function(n){return isBetween(n%10,2,4)&&!isBetween(n%100,12,14)?"few":n%10==0||isBetween(n%10,5,9)||isBetween(n%100,11,14)?"many":n%10==1&&n%100!=11?"one":"other"},12:function(n){return isBetween(n,2,4)?"few":1==n?"one":"other"},13:function(n){return isBetween(n%10,2,4)&&!isBetween(n%100,12,14)?"few":1!=n&&isBetween(n%10,0,1)||isBetween(n%10,5,9)||isBetween(n%100,12,14)?"many":1==n?"one":"other"},14:function(n){return isBetween(n%100,3,4)?"few":n%100==2?"two":n%100==1?"one":"other"},15:function(n){return 0===n||isBetween(n%100,2,10)?"few":isBetween(n%100,11,19)?"many":1==n?"one":"other"},16:function(n){return n%10==1&&11!=n?"one":"other"},17:function(n){return 3==n?"few":0===n?"zero":6==n?"many":2==n?"two":1==n?"one":"other"},18:function(n){return 0===n?"zero":isBetween(n,0,2)&&0!==n&&2!=n?"one":"other"},19:function(n){return isBetween(n,2,10)?"few":isBetween(n,0,1)?"one":"other"},20:function(n){return!isBetween(n%10,3,4)&&n%10!=9||isBetween(n%100,10,19)||isBetween(n%100,70,79)||isBetween(n%100,90,99)?n%1e6==0&&0!==n?"many":n%10!=2||isIn(n%100,[12,72,92])?n%10!=1||isIn(n%100,[11,71,91])?"other":"one":"two":"few"},21:function(n){return 0===n?"zero":1==n?"one":"other"},22:function(n){return isBetween(n,0,1)||isBetween(n,11,99)?"one":"other"},23:function(n){return isBetween(n%10,1,2)||n%20==0?"one":"other"},24:function(n){return isBetween(n,3,10)||isBetween(n,13,19)?"few":isIn(n,[2,12])?"two":isIn(n,[1,11])?"one":"other"}},index={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[lang.replace(/-.*$/,"")];return index in pluralRules?pluralRules[index]:(console.warn("plural form unknown for ["+lang+"]"),function(){return"other"})})(gLanguage)),index="["+gMacros._pluralRules(param)+"]",0===param&&key+"[zero]"in gL10nData?str=gL10nData[key+"[zero]"][prop]:1==param&&key+"[one]"in gL10nData?str=gL10nData[key+"[one]"][prop]:2==param&&key+"[two]"in gL10nData?str=gL10nData[key+"[two]"][prop]:key+index in gL10nData?str=gL10nData[key+index][prop]:key+"[other]"in gL10nData&&(str=gL10nData[key+"[other]"][prop])),str},{get:function(key,args,fallbackString){var fallback,index=key.lastIndexOf("."),prop=gTextProp,index=(0<index&&(prop=key.substring(index+1),key=key.substring(0,index)),fallbackString&&((fallback={})[prop]=fallbackString),getL10nData(key,args,fallback));return index&&prop in index?index[prop]:"{{"+key+"}}"},getData:function(){return gL10nData},getText:function(){return gTextData},getLanguage:function(){return gLanguage},setLanguage:function(lang,callback){loadLocale(lang,function(){callback&&callback()})},getDirection:function(){var shortCode=gLanguage.split("-",1)[0];return 0<=["ar","he","fa","ps","ur"].indexOf(shortCode)?"rtl":"ltr"},translate:function(element){for(var children=(element=>element?element.querySelectorAll("*[data-l10n-id]"):[])(element=element||document.documentElement),elementCount=children.length,i=0;i<elementCount;i++)translateElement(children[i]);translateElement(element)},getReadyState:function(){return gReadyState},ready:function(callback){callback&&("complete"==gReadyState||"interactive"==gReadyState?window.setTimeout(function(){callback()}):document.addEventListener&&document.addEventListener("localized",function once(){document.removeEventListener("localized",once),callback()}))}}})(window,document)},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFPrintService=PDFPrintService;var _ui_utils=__webpack_require__(5),_app=__webpack_require__(1),_app_options=__webpack_require__(6),activeService=null,overlayManager=null;function PDFPrintService(pdfDocument,pagesOverview,printContainer,l10n){this.pdfDocument=pdfDocument,this.pagesOverview=pagesOverview,this.printContainer=printContainer,this.l10n=l10n||_ui_utils.NullL10n,this.disableCreateObjectURL=pdfDocument.loadingParams.disableCreateObjectURL,this.currentPage=-1,this.scratchCanvas=document.createElement("canvas")}PDFPrintService.prototype={layout:function(){this.throwIfInactive();var body=document.querySelector("body");body.setAttribute("data-pdfjsprinting",!0);this.pagesOverview.every(function(size){return size.width===this.pagesOverview[0].width&&size.height===this.pagesOverview[0].height},this)||console.warn("Not all pages have the same size. The printed result may be incorrect!"),this.pageStyleSheet=document.createElement("style");var pageSize=this.pagesOverview[0];this.pageStyleSheet.textContent="@supports ((size:A4) and (size:1pt 1pt)) {@page { size: "+pageSize.width+"pt "+pageSize.height+"pt;}}",body.appendChild(this.pageStyleSheet)},destroy:function(){activeService===this&&(this.printContainer.textContent="",document.querySelector("body").removeAttribute("data-pdfjsprinting"),this.pageStyleSheet&&(this.pageStyleSheet.remove(),this.pageStyleSheet=null),this.scratchCanvas.width=this.scratchCanvas.height=0,this.scratchCanvas=null,activeService=null,ensureOverlay().then(function(){"printServiceOverlay"===overlayManager.active&&overlayManager.close("printServiceOverlay")}))},renderPages:function(){var _this=this,pageCount=this.pagesOverview.length;return new Promise(function renderNextPage(resolve,reject){var pdfDocument,pageNumber,size,index,PRINT_UNITS,width,height,ctx;_this.throwIfInactive(),++_this.currentPage>=pageCount?(renderProgress(pageCount,pageCount,_this.l10n),resolve()):(renderProgress(index=_this.currentPage,pageCount,_this.l10n),pdfDocument=_this.pdfDocument,pageNumber=index+1,size=_this.pagesOverview[index],index=activeService.scratchCanvas,PRINT_UNITS=(_app_options.AppOptions.get("printResolution")||150)/72,index.width=Math.floor(size.width*PRINT_UNITS),index.height=Math.floor(size.height*PRINT_UNITS),width=Math.floor(size.width*_ui_utils.CSS_UNITS)+"px",height=Math.floor(size.height*_ui_utils.CSS_UNITS)+"px",(ctx=index.getContext("2d")).save(),ctx.fillStyle="rgb(255, 255, 255)",ctx.fillRect(0,0,index.width,index.height),ctx.restore(),pdfDocument.getPage(pageNumber).then(function(pdfPage){var renderContext={canvasContext:ctx,transform:[PRINT_UNITS,0,0,PRINT_UNITS,0,0],viewport:pdfPage.getViewport({scale:1,rotation:size.rotation}),intent:"print"};return pdfPage.render(renderContext).promise}).then(function(){return{width:width,height:height}}).then(_this.useRenderedPage.bind(_this)).then(function(){renderNextPage(resolve,reject)},reject))})},useRenderedPage:function(printItem){this.throwIfInactive();var img=document.createElement("img"),printItem=(img.style.width=printItem.width,img.style.height=printItem.height,this.scratchCanvas),printItem=("toBlob"in printItem&&!this.disableCreateObjectURL?printItem.toBlob(function(blob){img.src=URL.createObjectURL(blob)}):img.src=printItem.toDataURL(),document.createElement("div"));return printItem.appendChild(img),this.printContainer.appendChild(printItem),new Promise(function(resolve,reject){img.onload=resolve,img.onerror=reject})},performPrint:function(){var _this2=this;return this.throwIfInactive(),new Promise(function(resolve){setTimeout(function(){_this2.active?(print.call(window),setTimeout(resolve,20)):resolve()},0)})},get active(){return this===activeService},throwIfInactive:function(){if(!this.active)throw new Error("This print request was cancelled or completed.")}};var print=window.print;function dispatchEvent(eventType){var event=document.createEvent("CustomEvent");event.initCustomEvent(eventType,!1,!1,"custom"),window.dispatchEvent(event)}function abort(){activeService&&(activeService.destroy(),dispatchEvent("afterprint"))}function renderProgress(index,total,l10n){var progressContainer=document.getElementById("printServiceOverlay"),index=Math.round(100*index/total),total=progressContainer.querySelector("progress"),progressPerc=progressContainer.querySelector(".relative-progress");total.value=index,l10n.get("print_progress_percent",{progress:index},index+"%").then(function(msg){progressPerc.textContent=msg})}window.print=function(){if(activeService)console.warn("Ignored window.print() because of a pending print job.");else{ensureOverlay().then(function(){activeService&&overlayManager.open("printServiceOverlay")});try{dispatchEvent("beforeprint")}finally{if(!activeService)return console.error("Expected print service to be initialized."),void ensureOverlay().then(function(){"printServiceOverlay"===overlayManager.active&&overlayManager.close("printServiceOverlay")});var activeServiceOnEntry=activeService;activeService.renderPages().then(function(){return activeServiceOnEntry.performPrint()}).catch(function(){}).then(function(){activeServiceOnEntry.active&&abort()})}}};var overlayPromise,hasAttachEvent=!!document.attachEvent;function ensureOverlay(){if(!overlayPromise){if(!(overlayManager=_app.PDFViewerApplication.overlayManager))throw new Error("The overlay manager has not yet been initialized.");overlayPromise=overlayManager.register("printServiceOverlay",document.getElementById("printServiceOverlay"),abort,!0),document.getElementById("printCancel").onclick=abort}return overlayPromise}window.addEventListener("keydown",function(event){80!==event.keyCode||!event.ctrlKey&&!event.metaKey||event.altKey||event.shiftKey&&!window.chrome&&!window.opera||(window.print(),hasAttachEvent)||(event.preventDefault(),event.stopImmediatePropagation?event.stopImmediatePropagation():event.stopPropagation())},!0),hasAttachEvent&&document.attachEvent("onkeydown",function(event){if(80===(event=event||window.event).keyCode&&event.ctrlKey)return event.keyCode=0,!1}),"onbeforeprint"in window&&(exports=function(event){"custom"!==event.detail&&event.stopImmediatePropagation&&event.stopImmediatePropagation()},window.addEventListener("beforeprint",exports),window.addEventListener("afterprint",exports)),_app.PDFPrintServiceFactory.instance={supportsPrinting:!0,createPrintService:function(pdfDocument,pagesOverview,printContainer,l10n){if(activeService)throw new Error("The print service is created and active.");return activeService=new PDFPrintService(pdfDocument,pagesOverview,printContainer,l10n)}}}]);