((root,factory)=>{"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],factory):"object"==typeof exports?exports["pdfjs-dist/build/pdf"]=factory():root["pdfjs-dist/build/pdf"]=root.pdfjsLib=factory()})(this,function(){return modules=[function(module,exports,__w_pdfjs_require__){var PDFNodeStream,PDFNetworkStream,PDFFetchStream,pdfjsSharedUtil=__w_pdfjs_require__(1),pdfjsDisplayAPI=__w_pdfjs_require__(179),pdfjsDisplayTextLayer=__w_pdfjs_require__(194),pdfjsDisplayAnnotationLayer=__w_pdfjs_require__(195),pdfjsDisplayDisplayUtils=__w_pdfjs_require__(183),pdfjsDisplaySVG=__w_pdfjs_require__(196),pdfjsDisplayWorkerOptions=__w_pdfjs_require__(188),pdfjsDisplayAPICompatibility=__w_pdfjs_require__(185);__w_pdfjs_require__(4)()?(PDFNodeStream=__w_pdfjs_require__(197).PDFNodeStream,pdfjsDisplayAPI.setPDFNetworkStreamFactory(function(params){return new PDFNodeStream(params)})):(PDFNetworkStream=__w_pdfjs_require__(200).PDFNetworkStream,pdfjsDisplayDisplayUtils.isFetchSupported()&&(PDFFetchStream=__w_pdfjs_require__(201).PDFFetchStream),pdfjsDisplayAPI.setPDFNetworkStreamFactory(function(params){return new(PDFFetchStream&&pdfjsDisplayDisplayUtils.isValidFetchUrl(params.url)?PDFFetchStream:PDFNetworkStream)(params)})),exports.build=pdfjsDisplayAPI.build,exports.version=pdfjsDisplayAPI.version,exports.getDocument=pdfjsDisplayAPI.getDocument,exports.LoopbackPort=pdfjsDisplayAPI.LoopbackPort,exports.PDFDataRangeTransport=pdfjsDisplayAPI.PDFDataRangeTransport,exports.PDFWorker=pdfjsDisplayAPI.PDFWorker,exports.renderTextLayer=pdfjsDisplayTextLayer.renderTextLayer,exports.AnnotationLayer=pdfjsDisplayAnnotationLayer.AnnotationLayer,exports.createPromiseCapability=pdfjsSharedUtil.createPromiseCapability,exports.PasswordResponses=pdfjsSharedUtil.PasswordResponses,exports.InvalidPDFException=pdfjsSharedUtil.InvalidPDFException,exports.MissingPDFException=pdfjsSharedUtil.MissingPDFException,exports.SVGGraphics=pdfjsDisplaySVG.SVGGraphics,exports.NativeImageDecoding=pdfjsSharedUtil.NativeImageDecoding,exports.CMapCompressionType=pdfjsSharedUtil.CMapCompressionType,exports.PermissionFlag=pdfjsSharedUtil.PermissionFlag,exports.UnexpectedResponseException=pdfjsSharedUtil.UnexpectedResponseException,exports.OPS=pdfjsSharedUtil.OPS,exports.VerbosityLevel=pdfjsSharedUtil.VerbosityLevel,exports.UNSUPPORTED_FEATURES=pdfjsSharedUtil.UNSUPPORTED_FEATURES,exports.createValidAbsoluteUrl=pdfjsSharedUtil.createValidAbsoluteUrl,exports.createObjectURL=pdfjsSharedUtil.createObjectURL,exports.removeNullCharacters=pdfjsSharedUtil.removeNullCharacters,exports.shadow=pdfjsSharedUtil.shadow,exports.Util=pdfjsSharedUtil.Util,exports.ReadableStream=pdfjsSharedUtil.ReadableStream,exports.RenderingCancelledException=pdfjsDisplayDisplayUtils.RenderingCancelledException,exports.getFilenameFromUrl=pdfjsDisplayDisplayUtils.getFilenameFromUrl,exports.LinkTarget=pdfjsDisplayDisplayUtils.LinkTarget,exports.addLinkAttributes=pdfjsDisplayDisplayUtils.addLinkAttributes,exports.loadScript=pdfjsDisplayDisplayUtils.loadScript,exports.PDFDateString=pdfjsDisplayDisplayUtils.PDFDateString,exports.GlobalWorkerOptions=pdfjsDisplayWorkerOptions.GlobalWorkerOptions,exports.apiCompatibilityParams=pdfjsDisplayAPICompatibility.apiCompatibilityParams},function(module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.arrayByteLength=arrayByteLength,exports.arraysToBytes=function(arr){var length=arr.length;if(1===length&&arr[0]instanceof Uint8Array)return arr[0];for(var resultLength=0,i=0;i<length;i++)resultLength+=arrayByteLength(arr[i]);for(var pos=0,data=new Uint8Array(resultLength),_i=0;_i<length;_i++){var item=arr[_i],itemLength=(item=item instanceof Uint8Array?item:"string"==typeof item?stringToBytes(item):new Uint8Array(item)).byteLength;data.set(item,pos),pos+=itemLength}return data},exports.assert=assert,exports.bytesToString=function(bytes){assert(null!==bytes&&"object"===_typeof(bytes)&&void 0!==bytes.length,"Invalid argument for bytesToString");var length=bytes.length;if(length<8192)return String.fromCharCode.apply(null,bytes);for(var strBuf=[],i=0;i<length;i+=8192){var chunkEnd=Math.min(i+8192,length),chunkEnd=bytes.subarray(i,chunkEnd);strBuf.push(String.fromCharCode.apply(null,chunkEnd))}return strBuf.join("")},exports.createPromiseCapability=function(){var capability=Object.create(null),isSettled=!1;return Object.defineProperty(capability,"settled",{get:function(){return isSettled}}),capability.promise=new Promise(function(resolve,reject){capability.resolve=function(data){isSettled=!0,resolve(data)},capability.reject=function(reason){isSettled=!0,reject(reason)}}),capability},exports.getVerbosityLevel=function(){return verbosity},exports.info=function(msg){verbosity>=VerbosityLevel.INFOS&&console.log("Info: ".concat(msg))},exports.isArrayBuffer=function(v){return"object"===_typeof(v)&&null!==v&&void 0!==v.byteLength},exports.isArrayEqual=function(arr1,arr2){return arr1.length===arr2.length&&arr1.every(function(element,index){return element===arr2[index]})},exports.isBool=function(v){return"boolean"==typeof v},exports.isEmptyObj=function(obj){for(var key in obj)return!1;return!0},exports.isNum=function(v){return"number"==typeof v},exports.isString=function(v){return"string"==typeof v},exports.isSpace=function(ch){return 32===ch||9===ch||13===ch||10===ch},exports.isSameOrigin=function(baseUrl,otherUrl){var base;try{if(!(base=new URL(baseUrl)).origin||"null"===base.origin)return!1}catch(e){return!1}baseUrl=new URL(otherUrl,base);return base.origin===baseUrl.origin},exports.createValidAbsoluteUrl=function(url,baseUrl){if(url)try{var absoluteUrl=baseUrl?new URL(url,baseUrl):new URL(url);if((url=>{if(url)switch(url.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return 1;default:return}})(absoluteUrl))return absoluteUrl}catch(ex){}return null},exports.isLittleEndian=function(){var buffer8=new Uint8Array(4);return buffer8[0]=1,1===new Uint32Array(buffer8.buffer,0,1)[0]},exports.isEvalSupported=function(){try{return new Function(""),!0}catch(e){return!1}},exports.log2=function(x){if(x<=0)return 0;return Math.ceil(Math.log2(x))},exports.readInt8=function(data,start){return data[start]<<24>>24},exports.readUint16=function(data,offset){return data[offset]<<8|data[offset+1]},exports.readUint32=function(data,offset){return(data[offset]<<24|data[offset+1]<<16|data[offset+2]<<8|data[offset+3])>>>0},exports.removeNullCharacters=function(str){return"string"==typeof str?str.replace(NullCharactersRegExp,""):(warn("The argument for removeNullCharacters must be a string."),str)},exports.setVerbosityLevel=function(level){Number.isInteger(level)&&(verbosity=level)},exports.shadow=function(obj,prop,value){return Object.defineProperty(obj,prop,{value:value,enumerable:!0,configurable:!0,writable:!1}),value},exports.string32=function(value){return String.fromCharCode(value>>24&255,value>>16&255,value>>8&255,255&value)},exports.stringToBytes=stringToBytes,exports.stringToPDFString=function(str){var length=str.length,strBuf=[];if("þ"===str[0]&&"ÿ"===str[1])for(var i=2;i<length;i+=2)strBuf.push(String.fromCharCode(str.charCodeAt(i)<<8|str.charCodeAt(i+1)));else for(var _i2=0;_i2<length;++_i2){var code=PDFStringTranslateTable[str.charCodeAt(_i2)];strBuf.push(code?String.fromCharCode(code):str.charAt(_i2))}return strBuf.join("")},exports.stringToUTF8String=function(str){return decodeURIComponent(escape(str))},exports.utf8StringToString=function(str){return unescape(encodeURIComponent(str))},exports.warn=warn,exports.unreachable=unreachable,Object.defineProperty(exports,"ReadableStream",{enumerable:!0,get:function(){return _streams_polyfill.ReadableStream}}),exports.createObjectURL=exports.FormatError=exports.Util=exports.UnknownErrorException=exports.UnexpectedResponseException=exports.TextRenderingMode=exports.StreamType=exports.PermissionFlag=exports.PasswordResponses=exports.PasswordException=exports.NativeImageDecoding=exports.MissingPDFException=exports.InvalidPDFException=exports.AbortException=exports.CMapCompressionType=exports.ImageKind=exports.FontType=exports.AnnotationType=exports.AnnotationStateModelType=exports.AnnotationReviewState=exports.AnnotationReplyType=exports.AnnotationMarkedState=exports.AnnotationFlag=exports.AnnotationFieldFlag=exports.AnnotationBorderStyleType=exports.UNSUPPORTED_FEATURES=exports.VerbosityLevel=exports.OPS=exports.IDENTITY_MATRIX=exports.FONT_IDENTITY_MATRIX=exports.BaseException=void 0,__w_pdfjs_require__(2);var _streams_polyfill=__w_pdfjs_require__(177);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?(self=>{if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")})(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}exports.IDENTITY_MATRIX=[1,0,0,1,0,0],exports.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],exports.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"},exports.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},exports.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},exports.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},exports.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},exports.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},exports.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},exports.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},exports.AnnotationReplyType={GROUP:"Group",REPLY:"R"},exports.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},exports.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},exports.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},exports.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};exports.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},verbosity=(exports.VerbosityLevel=VerbosityLevel,exports.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},exports.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},exports.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},exports.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},VerbosityLevel.WARNINGS);function warn(msg){verbosity>=VerbosityLevel.WARNINGS&&console.log("Warning: ".concat(msg))}function unreachable(msg){throw new Error(msg)}function assert(cond,msg){cond||unreachable(msg)}var BaseException=(()=>{function BaseException(message){this.constructor===BaseException&&unreachable("Cannot initialize BaseException."),this.message=message,this.name=this.constructor.name}return BaseException.prototype=new Error,BaseException.constructor=BaseException})(),__w_pdfjs_require__=(exports.BaseException=BaseException,(()=>{function PasswordException(msg,code){return _classCallCheck(this,PasswordException),(msg=_possibleConstructorReturn(this,_getPrototypeOf(PasswordException).call(this,msg))).code=code,msg}return _inherits(PasswordException,BaseException),PasswordException})()),__w_pdfjs_require__=(exports.PasswordException=__w_pdfjs_require__,(()=>{function UnknownErrorException(msg,details){return _classCallCheck(this,UnknownErrorException),(msg=_possibleConstructorReturn(this,_getPrototypeOf(UnknownErrorException).call(this,msg))).details=details,msg}return _inherits(UnknownErrorException,BaseException),UnknownErrorException})()),__w_pdfjs_require__=(exports.UnknownErrorException=__w_pdfjs_require__,(()=>{function InvalidPDFException(){return _classCallCheck(this,InvalidPDFException),_possibleConstructorReturn(this,_getPrototypeOf(InvalidPDFException).apply(this,arguments))}return _inherits(InvalidPDFException,BaseException),InvalidPDFException})()),__w_pdfjs_require__=(exports.InvalidPDFException=__w_pdfjs_require__,(()=>{function MissingPDFException(){return _classCallCheck(this,MissingPDFException),_possibleConstructorReturn(this,_getPrototypeOf(MissingPDFException).apply(this,arguments))}return _inherits(MissingPDFException,BaseException),MissingPDFException})()),__w_pdfjs_require__=(exports.MissingPDFException=__w_pdfjs_require__,(()=>{function UnexpectedResponseException(msg,status){return _classCallCheck(this,UnexpectedResponseException),(msg=_possibleConstructorReturn(this,_getPrototypeOf(UnexpectedResponseException).call(this,msg))).status=status,msg}return _inherits(UnexpectedResponseException,BaseException),UnexpectedResponseException})()),__w_pdfjs_require__=(exports.UnexpectedResponseException=__w_pdfjs_require__,(()=>{function FormatError(){return _classCallCheck(this,FormatError),_possibleConstructorReturn(this,_getPrototypeOf(FormatError).apply(this,arguments))}return _inherits(FormatError,BaseException),FormatError})()),__w_pdfjs_require__=(exports.FormatError=__w_pdfjs_require__,(()=>{function AbortException(){return _classCallCheck(this,AbortException),_possibleConstructorReturn(this,_getPrototypeOf(AbortException).apply(this,arguments))}return _inherits(AbortException,BaseException),AbortException})()),NullCharactersRegExp=(exports.AbortException=__w_pdfjs_require__,/\x00/g);function stringToBytes(str){assert("string"==typeof str,"Invalid argument for stringToBytes");for(var length=str.length,bytes=new Uint8Array(length),i=0;i<length;++i)bytes[i]=255&str.charCodeAt(i);return bytes}function arrayByteLength(arr){return void 0!==arr.length?arr.length:(assert(void 0!==arr.byteLength),arr.byteLength)}var digits,rgbBuf=["rgb(",0,",",0,",",0,")"],__w_pdfjs_require__=(()=>{function Util(){_classCallCheck(this,Util)}var Constructor,protoProps,staticProps;return Constructor=Util,staticProps=[{key:"makeCssRgb",value:function(r,g,b){return rgbBuf[1]=r,rgbBuf[3]=g,rgbBuf[5]=b,rgbBuf.join("")}},{key:"transform",value:function(m1,m2){return[m1[0]*m2[0]+m1[2]*m2[1],m1[1]*m2[0]+m1[3]*m2[1],m1[0]*m2[2]+m1[2]*m2[3],m1[1]*m2[2]+m1[3]*m2[3],m1[0]*m2[4]+m1[2]*m2[5]+m1[4],m1[1]*m2[4]+m1[3]*m2[5]+m1[5]]}},{key:"applyTransform",value:function(p,m){return[p[0]*m[0]+p[1]*m[2]+m[4],p[0]*m[1]+p[1]*m[3]+m[5]]}},{key:"applyInverseTransform",value:function(p,m){var d=m[0]*m[3]-m[1]*m[2];return[(p[0]*m[3]-p[1]*m[2]+m[2]*m[5]-m[4]*m[3])/d,(-p[0]*m[1]+p[1]*m[0]+m[4]*m[1]-m[5]*m[0])/d]}},{key:"getAxialAlignedBoundingBox",value:function(r,m){var p1=Util.applyTransform(r,m),p2=Util.applyTransform(r.slice(2,4),m),p3=Util.applyTransform([r[0],r[3]],m),r=Util.applyTransform([r[2],r[1]],m);return[Math.min(p1[0],p2[0],p3[0],r[0]),Math.min(p1[1],p2[1],p3[1],r[1]),Math.max(p1[0],p2[0],p3[0],r[0]),Math.max(p1[1],p2[1],p3[1],r[1])]}},{key:"inverseTransform",value:function(m){var d=m[0]*m[3]-m[1]*m[2];return[m[3]/d,-m[1]/d,-m[2]/d,m[0]/d,(m[2]*m[5]-m[4]*m[3])/d,(m[4]*m[1]-m[5]*m[0])/d]}},{key:"apply3dTransform",value:function(m,v){return[m[0]*v[0]+m[1]*v[1]+m[2]*v[2],m[3]*v[0]+m[4]*v[1]+m[5]*v[2],m[6]*v[0]+m[7]*v[1]+m[8]*v[2]]}},{key:"singularValueDecompose2dScale",value:function(m){var transpose=[m[0],m[2],m[1],m[3]],a=m[0]*transpose[0]+m[1]*transpose[2],d=m[2]*transpose[1]+m[3]*transpose[3],first=(a+d)/2,a=Math.sqrt((a+d)*(a+d)-4*(a*d-(m[2]*transpose[0]+m[3]*transpose[2])*(m[0]*transpose[1]+m[1]*transpose[3])))/2,d=first-a||1;return[Math.sqrt(first+a||1),Math.sqrt(d)]}},{key:"normalizeRect",value:function(rect){var r=rect.slice(0);return rect[0]>rect[2]&&(r[0]=rect[2],r[2]=rect[0]),rect[3]<rect[1]&&(r[1]=rect[3],r[3]=rect[1]),r}},{key:"intersect",value:function(rect1,rect2){function compare(a,b){return a-b}var orderedX=[rect1[0],rect1[2],rect2[0],rect2[2]].sort(compare),orderedY=[rect1[1],rect1[3],rect2[1],rect2[3]].sort(compare),result=[];return rect1=Util.normalizeRect(rect1),rect2=Util.normalizeRect(rect2),(orderedX[0]===rect1[0]&&orderedX[1]===rect2[0]||orderedX[0]===rect2[0]&&orderedX[1]===rect1[0])&&(result[0]=orderedX[1],result[2]=orderedX[2],orderedY[0]===rect1[1]&&orderedY[1]===rect2[1]||orderedY[0]===rect2[1]&&orderedY[1]===rect1[1])?(result[1]=orderedY[1],result[3]=orderedY[2],result):null}}],(protoProps=null)&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Util})(),PDFStringTranslateTable=(exports.Util=__w_pdfjs_require__,[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364]);digits="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",exports.createObjectURL=function(data,contentType){var blob;if(!(2<arguments.length&&void 0!==arguments[2]&&arguments[2])&&URL.createObjectURL)return blob=new Blob([data],{type:contentType}),URL.createObjectURL(blob);for(var buffer="data:".concat(contentType,";base64,"),i=0,ii=data.length;i<ii;i+=3){var b1=255&data[i],b2=255&data[i+1],b3=255&data[i+2];buffer+=digits[b1>>2]+digits[(3&b1)<<4|b2>>4]+digits[i+1<ii?(15&b2)<<2|b3>>6:64]+digits[i+2<ii?63&b3:64]}return buffer}},function(module,exports,__w_pdfjs_require__){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var isNodeJS,hasDOM,div,OriginalDOMTokenListAdd,OriginalDOMTokenListRemove,globalScope=__w_pdfjs_require__(3);globalScope._pdfjsCompatibilityChecked||(globalScope._pdfjsCompatibilityChecked=!0,isNodeJS=__w_pdfjs_require__(4),hasDOM="object"===("undefined"==typeof window?"undefined":_typeof(window))&&"object"===("undefined"==typeof document?"undefined":_typeof(document)),!globalScope.btoa&&isNodeJS()&&(globalScope.btoa=function(chars){return Buffer.from(chars,"binary").toString("base64")}),!globalScope.atob&&isNodeJS()&&(globalScope.atob=function(input){return Buffer.from(input,"base64").toString("binary")}),hasDOM&&void 0===Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),hasDOM&&!isNodeJS()&&((div=document.createElement("div")).classList.add("testOne","testTwo"),!0!==div.classList.contains("testOne")||!0!==div.classList.contains("testTwo"))&&(OriginalDOMTokenListAdd=DOMTokenList.prototype.add,OriginalDOMTokenListRemove=DOMTokenList.prototype.remove,DOMTokenList.prototype.add=function(){for(var _len=arguments.length,tokens=new Array(_len),_key=0;_key<_len;_key++)tokens[_key]=arguments[_key];for(var _i=0,_tokens=tokens;_i<_tokens.length;_i++){var token=_tokens[_i];OriginalDOMTokenListAdd.call(this,token)}},DOMTokenList.prototype.remove=function(){for(var _len2=arguments.length,tokens=new Array(_len2),_key2=0;_key2<_len2;_key2++)tokens[_key2]=arguments[_key2];for(var _i2=0,_tokens2=tokens;_i2<_tokens2.length;_i2++){var token=_tokens2[_i2];OriginalDOMTokenListRemove.call(this,token)}}),hasDOM&&!isNodeJS()&&!1!==document.createElement("div").classList.toggle("test",0)&&(DOMTokenList.prototype.toggle=function(token){var force=1<arguments.length?!!arguments[1]:!this.contains(token);return this[force?"add":"remove"](token),force}),String.prototype.startsWith||__w_pdfjs_require__(5),String.prototype.endsWith||__w_pdfjs_require__(57),String.prototype.includes||__w_pdfjs_require__(59),Array.prototype.includes||__w_pdfjs_require__(61),Array.from||__w_pdfjs_require__(68),Object.assign||__w_pdfjs_require__(89),Math.log2||(Math.log2=__w_pdfjs_require__(92)),Number.isNaN||(Number.isNaN=__w_pdfjs_require__(94)),Number.isInteger||(Number.isInteger=__w_pdfjs_require__(96)),globalScope.Promise&&globalScope.Promise.prototype&&globalScope.Promise.prototype.finally||(globalScope.Promise=__w_pdfjs_require__(99)),globalScope.URL=__w_pdfjs_require__(121),globalScope.WeakMap||(globalScope.WeakMap=__w_pdfjs_require__(128)),globalScope.WeakSet||(globalScope.WeakSet=__w_pdfjs_require__(138)),String.prototype.codePointAt||__w_pdfjs_require__(140),String.fromCodePoint||(String.fromCodePoint=__w_pdfjs_require__(142)),globalScope.Symbol||__w_pdfjs_require__(144),String.prototype.padStart||__w_pdfjs_require__(167),String.prototype.padEnd||__w_pdfjs_require__(172),Object.values)||(Object.values=__w_pdfjs_require__(174))},function(module,exports,__w_pdfjs_require__){module.exports="undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:{}},function(module,exports,__w_pdfjs_require__){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}module.exports=function(){return"object"===("undefined"==typeof process?"undefined":_typeof(process))&&process+""=="[object process]"&&!process.versions.nw&&!process.versions.electron}},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(6);__w_pdfjs_require__=__w_pdfjs_require__(54);module.exports=__w_pdfjs_require__("String","startsWith")},function(module,exports,__w_pdfjs_require__){var $=__w_pdfjs_require__(7),toLength=__w_pdfjs_require__(43),notARegExp=__w_pdfjs_require__(49),requireObjectCoercible=__w_pdfjs_require__(17),__w_pdfjs_require__=__w_pdfjs_require__(53),nativeStartsWith="".startsWith,min=Math.min;$({target:"String",proto:!0,forced:!__w_pdfjs_require__("startsWith")},{startsWith:function(searchString){var that=String(requireObjectCoercible(this)),index=(notARegExp(searchString),toLength(min(1<arguments.length?arguments[1]:void 0,that.length))),searchString=String(searchString);return nativeStartsWith?nativeStartsWith.call(that,searchString,index):that.slice(index,index+searchString.length)===searchString}})},function(module,exports,__w_pdfjs_require__){var global=__w_pdfjs_require__(8),getOwnPropertyDescriptor=__w_pdfjs_require__(9).f,hide=__w_pdfjs_require__(23),redefine=__w_pdfjs_require__(26),setGlobal=__w_pdfjs_require__(28),copyConstructorProperties=__w_pdfjs_require__(36),isForced=__w_pdfjs_require__(48);module.exports=function(options,source){var key,sourceProperty,descriptor,TARGET=options.target,GLOBAL=options.global,STATIC=options.stat,target=GLOBAL?global:STATIC?global[TARGET]||setGlobal(TARGET,{}):(global[TARGET]||{}).prototype;if(target)for(key in source){if(sourceProperty=source[key],descriptor=options.noTargetGet?(descriptor=getOwnPropertyDescriptor(target,key))&&descriptor.value:target[key],!isForced(GLOBAL?key:TARGET+(STATIC?".":"#")+key,options.forced)&&void 0!==descriptor){if(typeof sourceProperty==typeof descriptor)continue;copyConstructorProperties(sourceProperty,descriptor)}(options.sham||descriptor&&descriptor.sham)&&hide(sourceProperty,"sham",!0),redefine(target,key,sourceProperty,options)}}},function(module,exports){function check(it){return it&&it.Math==Math&&it}var O="object";module.exports=check(typeof globalThis==O&&globalThis)||check(typeof window==O&&window)||check(typeof self==O&&self)||check(typeof global==O&&global)||Function("return this")()},function(module,exports,__w_pdfjs_require__){var DESCRIPTORS=__w_pdfjs_require__(10),propertyIsEnumerableModule=__w_pdfjs_require__(12),createPropertyDescriptor=__w_pdfjs_require__(13),toIndexedObject=__w_pdfjs_require__(14),toPrimitive=__w_pdfjs_require__(18),has=__w_pdfjs_require__(20),IE8_DOM_DEFINE=__w_pdfjs_require__(21),nativeGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;exports.f=DESCRIPTORS?nativeGetOwnPropertyDescriptor:function(O,P){if(O=toIndexedObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return nativeGetOwnPropertyDescriptor(O,P)}catch(error){}if(has(O,P))return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O,P),O[P])}},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__=__w_pdfjs_require__(11);module.exports=!__w_pdfjs_require__(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(error){return!0}}},function(module,exports,__w_pdfjs_require__){var nativePropertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor&&!nativePropertyIsEnumerable.call({1:2},1);exports.f=NASHORN_BUG?function(V){V=getOwnPropertyDescriptor(this,V);return!!V&&V.enumerable}:nativePropertyIsEnumerable},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},function(module,exports,__w_pdfjs_require__){var IndexedObject=__w_pdfjs_require__(15),requireObjectCoercible=__w_pdfjs_require__(17);module.exports=function(it){return IndexedObject(requireObjectCoercible(it))}},function(module,exports,__w_pdfjs_require__){var fails=__w_pdfjs_require__(11),classof=__w_pdfjs_require__(16),split="".split;module.exports=fails(function(){return!Object("z").propertyIsEnumerable(0)})?function(it){return"String"==classof(it)?split.call(it,""):Object(it)}:Object},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports){module.exports=function(it){if(null==it)throw TypeError("Can't call method on "+it);return it}},function(module,exports,__w_pdfjs_require__){var isObject=__w_pdfjs_require__(19);module.exports=function(input,PREFERRED_STRING){if(!isObject(input))return input;var fn,val;if(PREFERRED_STRING&&"function"==typeof(fn=input.toString)&&!isObject(val=fn.call(input))||"function"==typeof(fn=input.valueOf)&&!isObject(val=fn.call(input))||!PREFERRED_STRING&&"function"==typeof(fn=input.toString)&&!isObject(val=fn.call(input)))return val;throw TypeError("Can't convert object to primitive value")}},function(module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports,__w_pdfjs_require__){var DESCRIPTORS=__w_pdfjs_require__(10),fails=__w_pdfjs_require__(11),createElement=__w_pdfjs_require__(22);module.exports=!DESCRIPTORS&&!fails(function(){return 7!=Object.defineProperty(createElement("div"),"a",{get:function(){return 7}}).a})},function(module,exports,__w_pdfjs_require__){var global=__w_pdfjs_require__(8),__w_pdfjs_require__=__w_pdfjs_require__(19),document=global.document,EXISTS=__w_pdfjs_require__(document)&&__w_pdfjs_require__(document.createElement);module.exports=function(it){return EXISTS?document.createElement(it):{}}},function(module,exports,__w_pdfjs_require__){var DESCRIPTORS=__w_pdfjs_require__(10),definePropertyModule=__w_pdfjs_require__(24),createPropertyDescriptor=__w_pdfjs_require__(13);module.exports=DESCRIPTORS?function(object,key,value){return definePropertyModule.f(object,key,createPropertyDescriptor(1,value))}:function(object,key,value){return object[key]=value,object}},function(module,exports,__w_pdfjs_require__){var DESCRIPTORS=__w_pdfjs_require__(10),IE8_DOM_DEFINE=__w_pdfjs_require__(21),anObject=__w_pdfjs_require__(25),toPrimitive=__w_pdfjs_require__(18),nativeDefineProperty=Object.defineProperty;exports.f=DESCRIPTORS?nativeDefineProperty:function(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return nativeDefineProperty(O,P,Attributes)}catch(error){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported");return"value"in Attributes&&(O[P]=Attributes.value),O}},function(module,exports,__w_pdfjs_require__){var isObject=__w_pdfjs_require__(19);module.exports=function(it){if(isObject(it))return it;throw TypeError(String(it)+" is not an object")}},function(module,exports,__w_pdfjs_require__){var global=__w_pdfjs_require__(8),shared=__w_pdfjs_require__(27),hide=__w_pdfjs_require__(23),has=__w_pdfjs_require__(20),setGlobal=__w_pdfjs_require__(28),nativeFunctionToString=__w_pdfjs_require__(30),__w_pdfjs_require__=__w_pdfjs_require__(31),getInternalState=__w_pdfjs_require__.get,enforceInternalState=__w_pdfjs_require__.enforce,TEMPLATE=String(nativeFunctionToString).split("toString");shared("inspectSource",function(it){return nativeFunctionToString.call(it)}),(module.exports=function(O,key,value,options){var unsafe=!!options&&!!options.unsafe,simple=!!options&&!!options.enumerable,options=!!options&&!!options.noTargetGet;"function"==typeof value&&("string"!=typeof key||has(value,"name")||hide(value,"name",key),enforceInternalState(value).source=TEMPLATE.join("string"==typeof key?key:"")),O===global?simple?O[key]=value:setGlobal(key,value):(unsafe?!options&&O[key]&&(simple=!0):delete O[key],simple?O[key]=value:hide(O,key,value))})(Function.prototype,"toString",function(){return"function"==typeof this&&getInternalState(this).source||nativeFunctionToString.call(this)})},function(module,exports,__w_pdfjs_require__){var global=__w_pdfjs_require__(8),setGlobal=__w_pdfjs_require__(28),__w_pdfjs_require__=__w_pdfjs_require__(29),store=global["__core-js_shared__"]||setGlobal("__core-js_shared__",{});(module.exports=function(key,value){return store[key]||(store[key]=void 0!==value?value:{})})("versions",[]).push({version:"3.2.1",mode:__w_pdfjs_require__?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(module,exports,__w_pdfjs_require__){var global=__w_pdfjs_require__(8),hide=__w_pdfjs_require__(23);module.exports=function(key,value){try{hide(global,key,value)}catch(error){global[key]=value}return value}},function(module,exports){module.exports=!1},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__=__w_pdfjs_require__(27);module.exports=__w_pdfjs_require__("native-function-to-string",Function.toString)},function(module,exports,__w_pdfjs_require__){var store,wmget,wmhas,wmset,set,get,has,STATE,NATIVE_WEAK_MAP=__w_pdfjs_require__(32),global=__w_pdfjs_require__(8),isObject=__w_pdfjs_require__(19),hide=__w_pdfjs_require__(23),objectHas=__w_pdfjs_require__(20),sharedKey=__w_pdfjs_require__(33),__w_pdfjs_require__=__w_pdfjs_require__(35),global=global.WeakMap;has=NATIVE_WEAK_MAP?(store=new global,wmget=store.get,wmhas=store.has,wmset=store.set,set=function(it,metadata){return wmset.call(store,it,metadata),metadata},get=function(it){return wmget.call(store,it)||{}},function(it){return wmhas.call(store,it)}):(__w_pdfjs_require__[STATE=sharedKey("state")]=!0,set=function(it,metadata){return hide(it,STATE,metadata),metadata},get=function(it){return objectHas(it,STATE)?it[STATE]:{}},function(it){return objectHas(it,STATE)}),module.exports={set:set,get:get,has:has,enforce:function(it){return has(it)?get(it):set(it,{})},getterFor:function(TYPE){return function(it){if(isObject(it)&&(it=get(it)).type===TYPE)return it;throw TypeError("Incompatible receiver, "+TYPE+" required")}}}},function(module,exports,__w_pdfjs_require__){var global=__w_pdfjs_require__(8),__w_pdfjs_require__=__w_pdfjs_require__(30),global=global.WeakMap;module.exports="function"==typeof global&&/native code/.test(__w_pdfjs_require__.call(global))},function(module,exports,__w_pdfjs_require__){var shared=__w_pdfjs_require__(27),uid=__w_pdfjs_require__(34),keys=shared("keys");module.exports=function(key){return keys[key]||(keys[key]=uid(key))}},function(module,exports){var id=0,postfix=Math.random();module.exports=function(key){return"Symbol("+String(void 0===key?"":key)+")_"+(++id+postfix).toString(36)}},function(module,exports){module.exports={}},function(module,exports,__w_pdfjs_require__){var has=__w_pdfjs_require__(20),ownKeys=__w_pdfjs_require__(37),getOwnPropertyDescriptorModule=__w_pdfjs_require__(9),definePropertyModule=__w_pdfjs_require__(24);module.exports=function(target,source){for(var keys=ownKeys(source),defineProperty=definePropertyModule.f,getOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,i=0;i<keys.length;i++){var key=keys[i];has(target,key)||defineProperty(target,key,getOwnPropertyDescriptor(source,key))}}},function(module,exports,__w_pdfjs_require__){var getBuiltIn=__w_pdfjs_require__(38),getOwnPropertyNamesModule=__w_pdfjs_require__(40),getOwnPropertySymbolsModule=__w_pdfjs_require__(47),anObject=__w_pdfjs_require__(25);module.exports=getBuiltIn("Reflect","ownKeys")||function(it){var keys=getOwnPropertyNamesModule.f(anObject(it)),getOwnPropertySymbols=getOwnPropertySymbolsModule.f;return getOwnPropertySymbols?keys.concat(getOwnPropertySymbols(it)):keys}},function(module,exports,__w_pdfjs_require__){function aFunction(variable){return"function"==typeof variable?variable:void 0}var path=__w_pdfjs_require__(39),global=__w_pdfjs_require__(8);module.exports=function(namespace,method){return arguments.length<2?aFunction(path[namespace])||aFunction(global[namespace]):path[namespace]&&path[namespace][method]||global[namespace]&&global[namespace][method]}},function(module,exports,__w_pdfjs_require__){module.exports=__w_pdfjs_require__(8)},function(module,exports,__w_pdfjs_require__){var internalObjectKeys=__w_pdfjs_require__(41),hiddenKeys=__w_pdfjs_require__(46).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(O){return internalObjectKeys(O,hiddenKeys)}},function(module,exports,__w_pdfjs_require__){var has=__w_pdfjs_require__(20),toIndexedObject=__w_pdfjs_require__(14),indexOf=__w_pdfjs_require__(42).indexOf,hiddenKeys=__w_pdfjs_require__(35);module.exports=function(object,names){var key,O=toIndexedObject(object),i=0,result=[];for(key in O)!has(hiddenKeys,key)&&has(O,key)&&result.push(key);for(;names.length>i;)!has(O,key=names[i++])||~indexOf(result,key)||result.push(key);return result}},function(module,exports,__w_pdfjs_require__){function createMethod(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIndexedObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;index<length;)if((value=O[index++])!=value)return!0}else for(;index<length;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}var toIndexedObject=__w_pdfjs_require__(14),toLength=__w_pdfjs_require__(43),toAbsoluteIndex=__w_pdfjs_require__(45);module.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},function(module,exports,__w_pdfjs_require__){var toInteger=__w_pdfjs_require__(44),min=Math.min;module.exports=function(argument){return 0<argument?min(toInteger(argument),9007199254740991):0}},function(module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(argument){return isNaN(argument=+argument)?0:(0<argument?floor:ceil)(argument)}},function(module,exports,__w_pdfjs_require__){var toInteger=__w_pdfjs_require__(44),max=Math.max,min=Math.min;module.exports=function(index,length){index=toInteger(index);return index<0?max(index+length,0):min(index,length)}},function(module,exports){module.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(module,exports){exports.f=Object.getOwnPropertySymbols},function(module,exports,__w_pdfjs_require__){function isForced(feature,detection){return(feature=data[normalize(feature)])==POLYFILL||feature!=NATIVE&&("function"==typeof detection?fails(detection):!!detection)}var fails=__w_pdfjs_require__(11),replacement=/#|\.prototype\./,normalize=isForced.normalize=function(string){return String(string).replace(replacement,".").toLowerCase()},data=isForced.data={},NATIVE=isForced.NATIVE="N",POLYFILL=isForced.POLYFILL="P";module.exports=isForced},function(module,exports,__w_pdfjs_require__){var isRegExp=__w_pdfjs_require__(50);module.exports=function(it){if(isRegExp(it))throw TypeError("The method doesn't accept regular expressions");return it}},function(module,exports,__w_pdfjs_require__){var isObject=__w_pdfjs_require__(19),classof=__w_pdfjs_require__(16),MATCH=__w_pdfjs_require__(51)("match");module.exports=function(it){var isRegExp;return isObject(it)&&(void 0!==(isRegExp=it[MATCH])?!!isRegExp:"RegExp"==classof(it))}},function(module,exports,__w_pdfjs_require__){var global=__w_pdfjs_require__(8),shared=__w_pdfjs_require__(27),uid=__w_pdfjs_require__(34),NATIVE_SYMBOL=__w_pdfjs_require__(52),Symbol=global.Symbol,store=shared("wks");module.exports=function(name){return store[name]||(store[name]=NATIVE_SYMBOL&&Symbol[name]||(NATIVE_SYMBOL?Symbol:uid)("Symbol."+name))}},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__=__w_pdfjs_require__(11);module.exports=!!Object.getOwnPropertySymbols&&!__w_pdfjs_require__(function(){return!String(Symbol())})},function(module,exports,__w_pdfjs_require__){var MATCH=__w_pdfjs_require__(51)("match");module.exports=function(METHOD_NAME){var regexp=/./;try{"/./"[METHOD_NAME](regexp)}catch(e){try{return regexp[MATCH]=!1,"/./"[METHOD_NAME](regexp)}catch(f){}}return!1}},function(module,exports,__w_pdfjs_require__){var global=__w_pdfjs_require__(8),bind=__w_pdfjs_require__(55),call=Function.call;module.exports=function(CONSTRUCTOR,METHOD,length){return bind(call,global[CONSTRUCTOR].prototype[METHOD],length)}},function(module,exports,__w_pdfjs_require__){var aFunction=__w_pdfjs_require__(56);module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 0:return function(){return fn.call(that)};case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},function(module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(String(it)+" is not a function");return it}},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(58);__w_pdfjs_require__=__w_pdfjs_require__(54);module.exports=__w_pdfjs_require__("String","endsWith")},function(module,exports,__w_pdfjs_require__){var $=__w_pdfjs_require__(7),toLength=__w_pdfjs_require__(43),notARegExp=__w_pdfjs_require__(49),requireObjectCoercible=__w_pdfjs_require__(17),__w_pdfjs_require__=__w_pdfjs_require__(53),nativeEndsWith="".endsWith,min=Math.min;$({target:"String",proto:!0,forced:!__w_pdfjs_require__("endsWith")},{endsWith:function(searchString){var that=String(requireObjectCoercible(this)),endPosition=(notARegExp(searchString),1<arguments.length?arguments[1]:void 0),len=toLength(that.length),endPosition=void 0===endPosition?len:min(toLength(endPosition),len),len=String(searchString);return nativeEndsWith?nativeEndsWith.call(that,len,endPosition):that.slice(endPosition-len.length,endPosition)===len}})},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(60);__w_pdfjs_require__=__w_pdfjs_require__(54);module.exports=__w_pdfjs_require__("String","includes")},function(module,exports,__w_pdfjs_require__){var $=__w_pdfjs_require__(7),notARegExp=__w_pdfjs_require__(49),requireObjectCoercible=__w_pdfjs_require__(17);$({target:"String",proto:!0,forced:!__w_pdfjs_require__(53)("includes")},{includes:function(searchString){return!!~String(requireObjectCoercible(this)).indexOf(notARegExp(searchString),1<arguments.length?arguments[1]:void 0)}})},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(62);__w_pdfjs_require__=__w_pdfjs_require__(54);module.exports=__w_pdfjs_require__("Array","includes")},function(module,exports,__w_pdfjs_require__){var $=__w_pdfjs_require__(7),$includes=__w_pdfjs_require__(42).includes,__w_pdfjs_require__=__w_pdfjs_require__(63);$({target:"Array",proto:!0},{includes:function(el){return $includes(this,el,1<arguments.length?arguments[1]:void 0)}}),__w_pdfjs_require__("includes")},function(module,exports,__w_pdfjs_require__){var wellKnownSymbol=__w_pdfjs_require__(51),create=__w_pdfjs_require__(64),__w_pdfjs_require__=__w_pdfjs_require__(23),UNSCOPABLES=wellKnownSymbol("unscopables"),ArrayPrototype=Array.prototype;null==ArrayPrototype[UNSCOPABLES]&&__w_pdfjs_require__(ArrayPrototype,UNSCOPABLES,create(null)),module.exports=function(key){ArrayPrototype[UNSCOPABLES][key]=!0}},function(module,exports,__w_pdfjs_require__){function Empty(){}var anObject=__w_pdfjs_require__(25),defineProperties=__w_pdfjs_require__(65),enumBugKeys=__w_pdfjs_require__(46),hiddenKeys=__w_pdfjs_require__(35),html=__w_pdfjs_require__(67),documentCreateElement=__w_pdfjs_require__(22),IE_PROTO=__w_pdfjs_require__(33)("IE_PROTO"),createDict=function(){var iframe=documentCreateElement("iframe"),length=enumBugKeys.length;for(iframe.style.display="none",html.appendChild(iframe),iframe.src=String("javascript:"),(iframe=iframe.contentWindow.document).open(),iframe.write("<script>document.F=Object<\/script>"),iframe.close(),createDict=iframe.F;length--;)delete createDict.prototype[enumBugKeys[length]];return createDict()};module.exports=Object.create||function(O,Properties){var result;return null!==O?(Empty.prototype=anObject(O),result=new Empty,Empty.prototype=null,result[IE_PROTO]=O):result=createDict(),void 0===Properties?result:defineProperties(result,Properties)},hiddenKeys[IE_PROTO]=!0},function(module,exports,__w_pdfjs_require__){var DESCRIPTORS=__w_pdfjs_require__(10),definePropertyModule=__w_pdfjs_require__(24),anObject=__w_pdfjs_require__(25),objectKeys=__w_pdfjs_require__(66);module.exports=DESCRIPTORS?Object.defineProperties:function(O,Properties){anObject(O);for(var key,keys=objectKeys(Properties),length=keys.length,index=0;index<length;)definePropertyModule.f(O,key=keys[index++],Properties[key]);return O}},function(module,exports,__w_pdfjs_require__){var internalObjectKeys=__w_pdfjs_require__(41),enumBugKeys=__w_pdfjs_require__(46);module.exports=Object.keys||function(O){return internalObjectKeys(O,enumBugKeys)}},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__=__w_pdfjs_require__(38);module.exports=__w_pdfjs_require__("document","documentElement")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(69),__w_pdfjs_require__(81);__w_pdfjs_require__=__w_pdfjs_require__(39);module.exports=__w_pdfjs_require__.Array.from},function(module,exports,__w_pdfjs_require__){var charAt=__w_pdfjs_require__(70).charAt,InternalStateModule=__w_pdfjs_require__(31),__w_pdfjs_require__=__w_pdfjs_require__(71),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("String Iterator");__w_pdfjs_require__(String,"String",function(iterated){setInternalState(this,{type:"String Iterator",string:String(iterated),index:0})},function(){var state=getInternalState(this),string=state.string,index=state.index;return index>=string.length?{value:void 0,done:!0}:(string=charAt(string,index),state.index+=string.length,{value:string,done:!1})})},function(module,exports,__w_pdfjs_require__){function createMethod(CONVERT_TO_STRING){return function($this,pos){var first,$this=String(requireObjectCoercible($this)),pos=toInteger(pos),size=$this.length;return pos<0||size<=pos?CONVERT_TO_STRING?"":void 0:(first=$this.charCodeAt(pos))<55296||56319<first||pos+1===size||(size=$this.charCodeAt(pos+1))<56320||57343<size?CONVERT_TO_STRING?$this.charAt(pos):first:CONVERT_TO_STRING?$this.slice(pos,pos+2):size-56320+(first-55296<<10)+65536}}var toInteger=__w_pdfjs_require__(44),requireObjectCoercible=__w_pdfjs_require__(17);module.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},function(module,exports,__w_pdfjs_require__){function returnThis(){return this}var $=__w_pdfjs_require__(7),createIteratorConstructor=__w_pdfjs_require__(72),getPrototypeOf=__w_pdfjs_require__(74),setPrototypeOf=__w_pdfjs_require__(79),setToStringTag=__w_pdfjs_require__(77),hide=__w_pdfjs_require__(23),redefine=__w_pdfjs_require__(26),wellKnownSymbol=__w_pdfjs_require__(51),IS_PURE=__w_pdfjs_require__(29),Iterators=__w_pdfjs_require__(78),__w_pdfjs_require__=__w_pdfjs_require__(73),IteratorPrototype=__w_pdfjs_require__.IteratorPrototype,BUGGY_SAFARI_ITERATORS=__w_pdfjs_require__.BUGGY_SAFARI_ITERATORS,ITERATOR=wellKnownSymbol("iterator");module.exports=function(Iterable,NAME,IteratorConstructor,next,DEFAULT,IS_SET,FORCED){createIteratorConstructor(IteratorConstructor,NAME,next);function getIterationMethod(KIND){if(KIND===DEFAULT&&defaultIterator)return defaultIterator;if(!BUGGY_SAFARI_ITERATORS&&KIND in IterablePrototype)return IterablePrototype[KIND];switch(KIND){case"keys":case"values":case"entries":return function(){return new IteratorConstructor(this,KIND)}}return function(){return new IteratorConstructor(this)}}var methods,KEY,next=NAME+" Iterator",INCORRECT_VALUES_NAME=!1,IterablePrototype=Iterable.prototype,nativeIterator=IterablePrototype[ITERATOR]||IterablePrototype["@@iterator"]||DEFAULT&&IterablePrototype[DEFAULT],defaultIterator=!BUGGY_SAFARI_ITERATORS&&nativeIterator||getIterationMethod(DEFAULT),anyNativeIterator="Array"==NAME&&IterablePrototype.entries||nativeIterator;if(anyNativeIterator&&(anyNativeIterator=getPrototypeOf(anyNativeIterator.call(new Iterable)),IteratorPrototype!==Object.prototype)&&anyNativeIterator.next&&(IS_PURE||getPrototypeOf(anyNativeIterator)===IteratorPrototype||(setPrototypeOf?setPrototypeOf(anyNativeIterator,IteratorPrototype):"function"!=typeof anyNativeIterator[ITERATOR]&&hide(anyNativeIterator,ITERATOR,returnThis)),setToStringTag(anyNativeIterator,next,!0,!0),IS_PURE)&&(Iterators[next]=returnThis),"values"==DEFAULT&&nativeIterator&&"values"!==nativeIterator.name&&(INCORRECT_VALUES_NAME=!0,defaultIterator=function(){return nativeIterator.call(this)}),IS_PURE&&!FORCED||IterablePrototype[ITERATOR]===defaultIterator||hide(IterablePrototype,ITERATOR,defaultIterator),Iterators[NAME]=defaultIterator,DEFAULT)if(methods={values:getIterationMethod("values"),keys:IS_SET?defaultIterator:getIterationMethod("keys"),entries:getIterationMethod("entries")},FORCED)for(KEY in methods)!BUGGY_SAFARI_ITERATORS&&!INCORRECT_VALUES_NAME&&KEY in IterablePrototype||redefine(IterablePrototype,KEY,methods[KEY]);else $({target:NAME,proto:!0,forced:BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME},methods);return methods}},function(module,exports,__w_pdfjs_require__){function returnThis(){return this}var IteratorPrototype=__w_pdfjs_require__(73).IteratorPrototype,create=__w_pdfjs_require__(64),createPropertyDescriptor=__w_pdfjs_require__(13),setToStringTag=__w_pdfjs_require__(77),Iterators=__w_pdfjs_require__(78);module.exports=function(IteratorConstructor,NAME,next){NAME+=" Iterator";return IteratorConstructor.prototype=create(IteratorPrototype,{next:createPropertyDescriptor(1,next)}),setToStringTag(IteratorConstructor,NAME,!1,!0),Iterators[NAME]=returnThis,IteratorConstructor}},function(module,exports,__w_pdfjs_require__){var IteratorPrototype,arrayIterator,getPrototypeOf=__w_pdfjs_require__(74),hide=__w_pdfjs_require__(23),has=__w_pdfjs_require__(20),wellKnownSymbol=__w_pdfjs_require__(51),__w_pdfjs_require__=__w_pdfjs_require__(29),wellKnownSymbol=wellKnownSymbol("iterator"),BUGGY_SAFARI_ITERATORS=!1;[].keys&&("next"in(arrayIterator=[].keys())?(getPrototypeOf=getPrototypeOf(getPrototypeOf(arrayIterator)))!==Object.prototype&&(IteratorPrototype=getPrototypeOf):BUGGY_SAFARI_ITERATORS=!0),null==IteratorPrototype&&(IteratorPrototype={}),__w_pdfjs_require__||has(IteratorPrototype,wellKnownSymbol)||hide(IteratorPrototype,wellKnownSymbol,function(){return this}),module.exports={IteratorPrototype:IteratorPrototype,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS}},function(module,exports,__w_pdfjs_require__){var has=__w_pdfjs_require__(20),toObject=__w_pdfjs_require__(75),sharedKey=__w_pdfjs_require__(33),__w_pdfjs_require__=__w_pdfjs_require__(76),IE_PROTO=sharedKey("IE_PROTO"),ObjectPrototype=Object.prototype;module.exports=__w_pdfjs_require__?Object.getPrototypeOf:function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectPrototype:null}},function(module,exports,__w_pdfjs_require__){var requireObjectCoercible=__w_pdfjs_require__(17);module.exports=function(argument){return Object(requireObjectCoercible(argument))}},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__=__w_pdfjs_require__(11);module.exports=!__w_pdfjs_require__(function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype})},function(module,exports,__w_pdfjs_require__){var defineProperty=__w_pdfjs_require__(24).f,has=__w_pdfjs_require__(20),TO_STRING_TAG=__w_pdfjs_require__(51)("toStringTag");module.exports=function(it,TAG,STATIC){it&&!has(it=STATIC?it:it.prototype,TO_STRING_TAG)&&defineProperty(it,TO_STRING_TAG,{configurable:!0,value:TAG})}},function(module,exports){module.exports={}},function(module,exports,__w_pdfjs_require__){var anObject=__w_pdfjs_require__(25),aPossiblePrototype=__w_pdfjs_require__(80);module.exports=Object.setPrototypeOf||("__proto__"in{}?(()=>{var setter,CORRECT_SETTER=!1,test={};try{(setter=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(test,[]),CORRECT_SETTER=test instanceof Array}catch(error){}return function(O,proto){return anObject(O),aPossiblePrototype(proto),CORRECT_SETTER?setter.call(O,proto):O.__proto__=proto,O}})():void 0)},function(module,exports,__w_pdfjs_require__){var isObject=__w_pdfjs_require__(19);module.exports=function(it){if(isObject(it)||null===it)return it;throw TypeError("Can't set "+String(it)+" as a prototype")}},function(module,exports,__w_pdfjs_require__){var $=__w_pdfjs_require__(7),from=__w_pdfjs_require__(82);$({target:"Array",stat:!0,forced:!__w_pdfjs_require__(88)(function(iterable){Array.from(iterable)})},{from:from})},function(module,exports,__w_pdfjs_require__){var bind=__w_pdfjs_require__(55),toObject=__w_pdfjs_require__(75),callWithSafeIterationClosing=__w_pdfjs_require__(83),isArrayIteratorMethod=__w_pdfjs_require__(84),toLength=__w_pdfjs_require__(43),createProperty=__w_pdfjs_require__(85),getIteratorMethod=__w_pdfjs_require__(86);module.exports=function(arrayLike){var length,result,step,iterator,O=toObject(arrayLike),arrayLike="function"==typeof this?this:Array,argumentsLength=arguments.length,mapfn=1<argumentsLength?arguments[1]:void 0,mapping=void 0!==mapfn,index=0,iteratorMethod=getIteratorMethod(O);if(mapping&&(mapfn=bind(mapfn,2<argumentsLength?arguments[2]:void 0,2)),null==iteratorMethod||arrayLike==Array&&isArrayIteratorMethod(iteratorMethod))for(result=new arrayLike(length=toLength(O.length));index<length;index++)createProperty(result,index,mapping?mapfn(O[index],index):O[index]);else for(iterator=iteratorMethod.call(O),result=new arrayLike;!(step=iterator.next()).done;index++)createProperty(result,index,mapping?callWithSafeIterationClosing(iterator,mapfn,[step.value,index],!0):step.value);return result.length=index,result}},function(module,exports,__w_pdfjs_require__){var anObject=__w_pdfjs_require__(25);module.exports=function(iterator,fn,value,ENTRIES){try{return ENTRIES?fn(anObject(value)[0],value[1]):fn(value)}catch(error){ENTRIES=iterator.return;throw void 0!==ENTRIES&&anObject(ENTRIES.call(iterator)),error}}},function(module,exports,__w_pdfjs_require__){var wellKnownSymbol=__w_pdfjs_require__(51),Iterators=__w_pdfjs_require__(78),ITERATOR=wellKnownSymbol("iterator"),ArrayPrototype=Array.prototype;module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayPrototype[ITERATOR]===it)}},function(module,exports,__w_pdfjs_require__){var toPrimitive=__w_pdfjs_require__(18),definePropertyModule=__w_pdfjs_require__(24),createPropertyDescriptor=__w_pdfjs_require__(13);module.exports=function(object,key,value){key=toPrimitive(key);key in object?definePropertyModule.f(object,key,createPropertyDescriptor(0,value)):object[key]=value}},function(module,exports,__w_pdfjs_require__){var classof=__w_pdfjs_require__(87),Iterators=__w_pdfjs_require__(78),ITERATOR=__w_pdfjs_require__(51)("iterator");module.exports=function(it){if(null!=it)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},function(module,exports,__w_pdfjs_require__){var classofRaw=__w_pdfjs_require__(16),TO_STRING_TAG=__w_pdfjs_require__(51)("toStringTag"),CORRECT_ARGUMENTS="Arguments"==classofRaw(function(){return arguments}());module.exports=function(it){var tag;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(tag=((it,key)=>{try{return it[key]}catch(error){}})(it=Object(it),TO_STRING_TAG))?tag:CORRECT_ARGUMENTS?classofRaw(it):"Object"==(tag=classofRaw(it))&&"function"==typeof it.callee?"Arguments":tag}},function(module,exports,__w_pdfjs_require__){var ITERATOR=__w_pdfjs_require__(51)("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR]=function(){return this},Array.from(iteratorWithReturn,function(){throw 2})}catch(error){}module.exports=function(exec,SKIP_CLOSING){if(!SKIP_CLOSING&&!SAFE_CLOSING)return!1;var ITERATION_SUPPORT=!1;try{var object={};object[ITERATOR]=function(){return{next:function(){return{done:ITERATION_SUPPORT=!0}}}},exec(object)}catch(error){}return ITERATION_SUPPORT}},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(90);__w_pdfjs_require__=__w_pdfjs_require__(39);module.exports=__w_pdfjs_require__.Object.assign},function(module,exports,__w_pdfjs_require__){var $=__w_pdfjs_require__(7),__w_pdfjs_require__=__w_pdfjs_require__(91);$({target:"Object",stat:!0,forced:Object.assign!==__w_pdfjs_require__},{assign:__w_pdfjs_require__})},function(module,exports,__w_pdfjs_require__){var DESCRIPTORS=__w_pdfjs_require__(10),fails=__w_pdfjs_require__(11),objectKeys=__w_pdfjs_require__(66),getOwnPropertySymbolsModule=__w_pdfjs_require__(47),propertyIsEnumerableModule=__w_pdfjs_require__(12),toObject=__w_pdfjs_require__(75),IndexedObject=__w_pdfjs_require__(15),nativeAssign=Object.assign;module.exports=!nativeAssign||fails(function(){var A={},B={},symbol=Symbol();return A[symbol]=7,"abcdefghijklmnopqrst".split("").forEach(function(chr){B[chr]=chr}),7!=nativeAssign({},A)[symbol]||"abcdefghijklmnopqrst"!=objectKeys(nativeAssign({},B)).join("")})?function(target,source){for(var T=toObject(target),argumentsLength=arguments.length,index=1,getOwnPropertySymbols=getOwnPropertySymbolsModule.f,propertyIsEnumerable=propertyIsEnumerableModule.f;index<argumentsLength;)for(var key,S=IndexedObject(arguments[index++]),keys=getOwnPropertySymbols?objectKeys(S).concat(getOwnPropertySymbols(S)):objectKeys(S),length=keys.length,j=0;j<length;)key=keys[j++],DESCRIPTORS&&!propertyIsEnumerable.call(S,key)||(T[key]=S[key]);return T}:nativeAssign},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(93);__w_pdfjs_require__=__w_pdfjs_require__(39);module.exports=__w_pdfjs_require__.Math.log2},function(module,exports,__w_pdfjs_require__){var __w_pdfjs_require__=__w_pdfjs_require__(7),log=Math.log,LN2=Math.LN2;__w_pdfjs_require__({target:"Math",stat:!0},{log2:function(x){return log(x)/LN2}})},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(95);__w_pdfjs_require__=__w_pdfjs_require__(39);module.exports=__w_pdfjs_require__.Number.isNaN},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(7)({target:"Number",stat:!0},{isNaN:function(number){return number!=number}})},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(97);__w_pdfjs_require__=__w_pdfjs_require__(39);module.exports=__w_pdfjs_require__.Number.isInteger},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(7)({target:"Number",stat:!0},{isInteger:__w_pdfjs_require__(98)})},function(module,exports,__w_pdfjs_require__){var isObject=__w_pdfjs_require__(19),floor=Math.floor;module.exports=function(it){return!isObject(it)&&isFinite(it)&&floor(it)===it}},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(100),__w_pdfjs_require__(69),__w_pdfjs_require__(102),__w_pdfjs_require__(105),__w_pdfjs_require__(119),__w_pdfjs_require__(120);__w_pdfjs_require__=__w_pdfjs_require__(39);module.exports=__w_pdfjs_require__.Promise},function(module,exports,__w_pdfjs_require__){var redefine=__w_pdfjs_require__(26),__w_pdfjs_require__=__w_pdfjs_require__(101),ObjectPrototype=Object.prototype;__w_pdfjs_require__!==ObjectPrototype.toString&&redefine(ObjectPrototype,"toString",__w_pdfjs_require__,{unsafe:!0})},function(module,exports,__w_pdfjs_require__){var classof=__w_pdfjs_require__(87),test={};test[__w_pdfjs_require__(51)("toStringTag")]="z",module.exports="[object z]"!==String(test)?function(){return"[object "+classof(this)+"]"}:test.toString},function(module,exports,__w_pdfjs_require__){var COLLECTION_NAME,global=__w_pdfjs_require__(8),DOMIterables=__w_pdfjs_require__(103),ArrayIteratorMethods=__w_pdfjs_require__(104),hide=__w_pdfjs_require__(23),__w_pdfjs_require__=__w_pdfjs_require__(51),ITERATOR=__w_pdfjs_require__("iterator"),TO_STRING_TAG=__w_pdfjs_require__("toStringTag"),ArrayValues=ArrayIteratorMethods.values;for(COLLECTION_NAME in DOMIterables){var Collection=global[COLLECTION_NAME],CollectionPrototype=Collection&&Collection.prototype;if(CollectionPrototype){if(CollectionPrototype[ITERATOR]!==ArrayValues)try{hide(CollectionPrototype,ITERATOR,ArrayValues)}catch(error){CollectionPrototype[ITERATOR]=ArrayValues}if(CollectionPrototype[TO_STRING_TAG]||hide(CollectionPrototype,TO_STRING_TAG,COLLECTION_NAME),DOMIterables[COLLECTION_NAME])for(var METHOD_NAME in ArrayIteratorMethods)if(CollectionPrototype[METHOD_NAME]!==ArrayIteratorMethods[METHOD_NAME])try{hide(CollectionPrototype,METHOD_NAME,ArrayIteratorMethods[METHOD_NAME])}catch(error){CollectionPrototype[METHOD_NAME]=ArrayIteratorMethods[METHOD_NAME]}}}},function(module,exports){module.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(module,exports,__w_pdfjs_require__){var toIndexedObject=__w_pdfjs_require__(14),addToUnscopables=__w_pdfjs_require__(63),Iterators=__w_pdfjs_require__(78),InternalStateModule=__w_pdfjs_require__(31),__w_pdfjs_require__=__w_pdfjs_require__(71),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("Array Iterator");module.exports=__w_pdfjs_require__(Array,"Array",function(iterated,kind){setInternalState(this,{type:"Array Iterator",target:toIndexedObject(iterated),index:0,kind:kind})},function(){var state=getInternalState(this),target=state.target,kind=state.kind,index=state.index++;return!target||index>=target.length?{value:state.target=void 0,done:!0}:"keys"==kind?{value:index,done:!1}:"values"==kind?{value:target[index],done:!1}:{value:[index,target[index]],done:!1}},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},function(module,exports,__w_pdfjs_require__){function onUnhandled(promise,state){task.call(global,function(){var value=state.value,IS_UNHANDLED=isUnhandled(state);if(IS_UNHANDLED&&(IS_UNHANDLED=perform(function(){IS_NODE?process.emit("unhandledRejection",value,promise):dispatchEvent(UNHANDLED_REJECTION,promise,value)}),state.rejection=IS_NODE||isUnhandled(state)?UNHANDLED:HANDLED,IS_UNHANDLED.error))throw IS_UNHANDLED.value})}function onHandleUnhandled(promise,state){task.call(global,function(){IS_NODE?process.emit("rejectionHandled",promise):dispatchEvent(REJECTION_HANDLED,promise,state.value)})}var Internal,OwnPromiseCapability,PromiseWrapper,nativeThen,$=__w_pdfjs_require__(7),IS_PURE=__w_pdfjs_require__(29),global=__w_pdfjs_require__(8),path=__w_pdfjs_require__(39),NativePromise=__w_pdfjs_require__(106),redefine=__w_pdfjs_require__(26),redefineAll=__w_pdfjs_require__(107),setToStringTag=__w_pdfjs_require__(77),setSpecies=__w_pdfjs_require__(108),isObject=__w_pdfjs_require__(19),aFunction=__w_pdfjs_require__(56),anInstance=__w_pdfjs_require__(109),classof=__w_pdfjs_require__(16),iterate=__w_pdfjs_require__(110),checkCorrectnessOfIteration=__w_pdfjs_require__(88),speciesConstructor=__w_pdfjs_require__(111),task=__w_pdfjs_require__(112).set,microtask=__w_pdfjs_require__(113),promiseResolve=__w_pdfjs_require__(115),hostReportErrors=__w_pdfjs_require__(117),newPromiseCapabilityModule=__w_pdfjs_require__(116),perform=__w_pdfjs_require__(118),userAgent=__w_pdfjs_require__(114),InternalStateModule=__w_pdfjs_require__(31),isForced=__w_pdfjs_require__(48),SPECIES=__w_pdfjs_require__(51)("species"),PROMISE="Promise",getInternalState=InternalStateModule.get,setInternalState=InternalStateModule.set,getInternalPromiseState=InternalStateModule.getterFor(PROMISE),PromiseConstructor=NativePromise,TypeError=global.TypeError,document=global.document,process=global.process,$fetch=global.fetch,__w_pdfjs_require__=process&&process.versions,v8=__w_pdfjs_require__&&__w_pdfjs_require__.v8||"",newPromiseCapability=newPromiseCapabilityModule.f,newGenericPromiseCapability=newPromiseCapability,IS_NODE="process"==classof(process),DISPATCH_EVENT=!!(document&&document.createEvent&&global.dispatchEvent),UNHANDLED_REJECTION="unhandledrejection",REJECTION_HANDLED="rejectionhandled",FULFILLED=1,REJECTED=2,HANDLED=1,UNHANDLED=2,InternalStateModule=isForced(PROMISE,function(){function empty(){}var promise=PromiseConstructor.resolve(1),FakePromise=(promise.constructor={})[SPECIES]=function(exec){exec(empty,empty)};return!((IS_NODE||"function"==typeof PromiseRejectionEvent)&&(!IS_PURE||promise.finally)&&promise.then(empty)instanceof FakePromise&&0!==v8.indexOf("6.6")&&-1===userAgent.indexOf("Chrome/66"))}),__w_pdfjs_require__=InternalStateModule||!checkCorrectnessOfIteration(function(iterable){PromiseConstructor.all(iterable).catch(function(){})}),isThenable=function(it){var then;return!(!isObject(it)||"function"!=typeof(then=it.then))&&then},notify=function(promise,state,isReject){var chain;state.notified||(state.notified=!0,chain=state.reactions,microtask(function(){for(var value=state.value,ok=state.state==FULFILLED,index=0;chain.length>index;){var result,then,exited,reaction=chain[index++],handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain;try{handler?(ok||(state.rejection===UNHANDLED&&onHandleUnhandled(promise,state),state.rejection=HANDLED),!0===handler?result=value:(domain&&domain.enter(),result=handler(value),domain&&(domain.exit(),exited=!0)),result===reaction.promise?reject(TypeError("Promise-chain cycle")):(then=isThenable(result))?then.call(result,resolve,reject):resolve(result)):reject(value)}catch(error){domain&&!exited&&domain.exit(),reject(error)}}state.reactions=[],state.notified=!1,isReject&&!state.rejection&&onUnhandled(promise,state)}))},dispatchEvent=function(name,promise,reason){var event;DISPATCH_EVENT?((event=document.createEvent("Event")).promise=promise,event.reason=reason,event.initEvent(name,!1,!0),global.dispatchEvent(event)):event={promise:promise,reason:reason},(promise=global["on"+name])?promise(event):name===UNHANDLED_REJECTION&&hostReportErrors("Unhandled promise rejection",reason)},isUnhandled=function(state){return state.rejection!==HANDLED&&!state.parent},bind=function(fn,promise,state,unwrap){return function(value){fn(promise,state,value,unwrap)}},internalReject=function(promise,state,value,unwrap){state.done||(state.done=!0,(state=unwrap?unwrap:state).value=value,state.state=REJECTED,notify(promise,state,!0))},internalResolve=function(promise,state,value,unwrap){if(!state.done){state.done=!0,unwrap&&(state=unwrap);try{if(promise===value)throw TypeError("Promise can't be resolved itself");var then=isThenable(value);then?microtask(function(){var wrapper={done:!1};try{then.call(value,bind(internalResolve,promise,wrapper,state),bind(internalReject,promise,wrapper,state))}catch(error){internalReject(promise,wrapper,error,state)}}):(state.value=value,state.state=FULFILLED,notify(promise,state,!1))}catch(error){internalReject(promise,{done:!1},error,state)}}};InternalStateModule&&(PromiseConstructor=function(executor){anInstance(this,PromiseConstructor,PROMISE),aFunction(executor),Internal.call(this);var state=getInternalState(this);try{executor(bind(internalResolve,this,state),bind(internalReject,this,state))}catch(error){internalReject(this,state,error)}},(Internal=function(executor){setInternalState(this,{type:PROMISE,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=redefineAll(PromiseConstructor.prototype,{then:function(onFulfilled,onRejected){var state=getInternalPromiseState(this),reaction=newPromiseCapability(speciesConstructor(this,PromiseConstructor));return reaction.ok="function"!=typeof onFulfilled||onFulfilled,reaction.fail="function"==typeof onRejected&&onRejected,reaction.domain=IS_NODE?process.domain:void 0,state.parent=!0,state.reactions.push(reaction),0!=state.state&&notify(this,state,!1),reaction.promise},catch:function(onRejected){return this.then(void 0,onRejected)}}),OwnPromiseCapability=function(){var promise=new Internal,state=getInternalState(promise);this.promise=promise,this.resolve=bind(internalResolve,promise,state),this.reject=bind(internalReject,promise,state)},newPromiseCapabilityModule.f=newPromiseCapability=function(C){return C===PromiseConstructor||C===PromiseWrapper?new OwnPromiseCapability:newGenericPromiseCapability(C)},IS_PURE||"function"!=typeof NativePromise||(nativeThen=NativePromise.prototype.then,redefine(NativePromise.prototype,"then",function(onFulfilled,onRejected){var that=this;return new PromiseConstructor(function(resolve,reject){nativeThen.call(that,resolve,reject)}).then(onFulfilled,onRejected)}),"function"==typeof $fetch&&$({global:!0,enumerable:!0,forced:!0},{fetch:function(input){return promiseResolve(PromiseConstructor,$fetch.apply(global,arguments))}}))),$({global:!0,wrap:!0,forced:InternalStateModule},{Promise:PromiseConstructor}),setToStringTag(PromiseConstructor,PROMISE,!1,!0),setSpecies(PROMISE),PromiseWrapper=path.Promise,$({target:PROMISE,stat:!0,forced:InternalStateModule},{reject:function(r){var capability=newPromiseCapability(this);return capability.reject.call(void 0,r),capability.promise}}),$({target:PROMISE,stat:!0,forced:IS_PURE||InternalStateModule},{resolve:function(x){return promiseResolve(IS_PURE&&this===PromiseWrapper?PromiseConstructor:this,x)}}),$({target:PROMISE,stat:!0,forced:__w_pdfjs_require__},{all:function(iterable){var C=this,capability=newPromiseCapability(C),resolve=capability.resolve,reject=capability.reject,result=perform(function(){var $promiseResolve=aFunction(C.resolve),values=[],counter=0,remaining=1;iterate(iterable,function(promise){var index=counter++,alreadyCalled=!1;values.push(void 0),remaining++,$promiseResolve.call(C,promise).then(function(value){alreadyCalled||(alreadyCalled=!0,values[index]=value,--remaining)||resolve(values)},reject)}),--remaining||resolve(values)});return result.error&&reject(result.value),capability.promise},race:function(iterable){var C=this,capability=newPromiseCapability(C),reject=capability.reject,result=perform(function(){var $promiseResolve=aFunction(C.resolve);iterate(iterable,function(promise){$promiseResolve.call(C,promise).then(capability.resolve,reject)})});return result.error&&reject(result.value),capability.promise}})},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__=__w_pdfjs_require__(8);module.exports=__w_pdfjs_require__.Promise},function(module,exports,__w_pdfjs_require__){var redefine=__w_pdfjs_require__(26);module.exports=function(target,src,options){for(var key in src)redefine(target,key,src[key],options);return target}},function(module,exports,__w_pdfjs_require__){var getBuiltIn=__w_pdfjs_require__(38),definePropertyModule=__w_pdfjs_require__(24),wellKnownSymbol=__w_pdfjs_require__(51),DESCRIPTORS=__w_pdfjs_require__(10),SPECIES=wellKnownSymbol("species");module.exports=function(CONSTRUCTOR_NAME){var CONSTRUCTOR_NAME=getBuiltIn(CONSTRUCTOR_NAME),defineProperty=definePropertyModule.f;DESCRIPTORS&&CONSTRUCTOR_NAME&&!CONSTRUCTOR_NAME[SPECIES]&&defineProperty(CONSTRUCTOR_NAME,SPECIES,{configurable:!0,get:function(){return this}})}},function(module,exports){module.exports=function(it,Constructor,name){if(it instanceof Constructor)return it;throw TypeError("Incorrect "+(name?name+" ":"")+"invocation")}},function(module,exports,__w_pdfjs_require__){function Result(stopped,result){this.stopped=stopped,this.result=result}var anObject=__w_pdfjs_require__(25),isArrayIteratorMethod=__w_pdfjs_require__(84),toLength=__w_pdfjs_require__(43),bind=__w_pdfjs_require__(55),getIteratorMethod=__w_pdfjs_require__(86),callWithSafeIterationClosing=__w_pdfjs_require__(83);(module.exports=function(iterable,fn,that,AS_ENTRIES,IS_ITERATOR){var iterator,index,length,result,step,boundFunction=bind(fn,that,AS_ENTRIES?2:1);if(IS_ITERATOR)iterator=iterable;else{if("function"!=typeof(fn=getIteratorMethod(iterable)))throw TypeError("Target is not iterable");if(isArrayIteratorMethod(fn)){for(index=0,length=toLength(iterable.length);index<length;index++)if((result=AS_ENTRIES?boundFunction(anObject(step=iterable[index])[0],step[1]):boundFunction(iterable[index]))&&result instanceof Result)return result;return new Result(!1)}iterator=fn.call(iterable)}for(;!(step=iterator.next()).done;)if((result=callWithSafeIterationClosing(iterator,boundFunction,step.value,AS_ENTRIES))&&result instanceof Result)return result;return new Result(!1)}).stop=function(result){return new Result(!0,result)}},function(module,exports,__w_pdfjs_require__){var anObject=__w_pdfjs_require__(25),aFunction=__w_pdfjs_require__(56),SPECIES=__w_pdfjs_require__(51)("species");module.exports=function(O,defaultConstructor){var O=anObject(O).constructor;return void 0===O||null==(O=anObject(O)[SPECIES])?defaultConstructor:aFunction(O)}},function(module,exports,__w_pdfjs_require__){function runner(id){return function(){run(id)}}function listener(event){run(event.data)}function post(id){global.postMessage(id+"",location.protocol+"//"+location.host)}var defer,global=__w_pdfjs_require__(8),fails=__w_pdfjs_require__(11),classof=__w_pdfjs_require__(16),bind=__w_pdfjs_require__(55),html=__w_pdfjs_require__(67),createElement=__w_pdfjs_require__(22),location=global.location,__w_pdfjs_require__=global.setImmediate,clear=global.clearImmediate,process=global.process,MessageChannel=global.MessageChannel,Dispatch=global.Dispatch,counter=0,queue={},run=function(id){var fn;queue.hasOwnProperty(id)&&(fn=queue[id],delete queue[id],fn())};__w_pdfjs_require__&&clear||(__w_pdfjs_require__=function(fn){for(var args=[],i=1;i<arguments.length;)args.push(arguments[i++]);return queue[++counter]=function(){("function"==typeof fn?fn:Function(fn)).apply(void 0,args)},defer(counter),counter},clear=function(id){delete queue[id]},"process"==classof(process)?defer=function(id){process.nextTick(runner(id))}:Dispatch&&Dispatch.now?defer=function(id){Dispatch.now(runner(id))}:MessageChannel?(MessageChannel=(classof=new MessageChannel).port2,classof.port1.onmessage=listener,defer=bind(MessageChannel.postMessage,MessageChannel,1)):!global.addEventListener||"function"!=typeof postMessage||global.importScripts||fails(post)?defer="onreadystatechange"in createElement("script")?function(id){html.appendChild(createElement("script")).onreadystatechange=function(){html.removeChild(this),run(id)}}:function(id){setTimeout(runner(id),0)}:(defer=post,global.addEventListener("message",listener,!1))),module.exports={set:__w_pdfjs_require__,clear:clear}},function(module,exports,__w_pdfjs_require__){var flush,head,last,notify,toggle,node,promise,then,global=__w_pdfjs_require__(8),getOwnPropertyDescriptor=__w_pdfjs_require__(9).f,classof=__w_pdfjs_require__(16),macrotask=__w_pdfjs_require__(112).set,__w_pdfjs_require__=__w_pdfjs_require__(114),MutationObserver=global.MutationObserver||global.WebKitMutationObserver,process=global.process,Promise=global.Promise,IS_NODE="process"==classof(process),classof=getOwnPropertyDescriptor(global,"queueMicrotask"),getOwnPropertyDescriptor=classof&&classof.value;getOwnPropertyDescriptor||(flush=function(){var parent,fn;for(IS_NODE&&(parent=process.domain)&&parent.exit();head;){fn=head.fn,head=head.next;try{fn()}catch(error){throw head?notify():last=void 0,error}}last=void 0,parent&&parent.enter()},notify=IS_NODE?function(){process.nextTick(flush)}:MutationObserver&&!/(iphone|ipod|ipad).*applewebkit/i.test(__w_pdfjs_require__)?(toggle=!0,node=document.createTextNode(""),new MutationObserver(flush).observe(node,{characterData:!0}),function(){node.data=toggle=!toggle}):Promise&&Promise.resolve?(promise=Promise.resolve(void 0),then=promise.then,function(){then.call(promise,flush)}):function(){macrotask.call(global,flush)}),module.exports=getOwnPropertyDescriptor||function(fn){fn={fn:fn,next:void 0};last&&(last.next=fn),head||(head=fn,notify()),last=fn}},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__=__w_pdfjs_require__(38);module.exports=__w_pdfjs_require__("navigator","userAgent")||""},function(module,exports,__w_pdfjs_require__){var anObject=__w_pdfjs_require__(25),isObject=__w_pdfjs_require__(19),newPromiseCapability=__w_pdfjs_require__(116);module.exports=function(C,x){return anObject(C),isObject(x)&&x.constructor===C?x:((0,(C=newPromiseCapability.f(C)).resolve)(x),C.promise)}},function(module,exports,__w_pdfjs_require__){function PromiseCapability(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(void 0!==resolve||void 0!==reject)throw TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject}),this.resolve=aFunction(resolve),this.reject=aFunction(reject)}var aFunction=__w_pdfjs_require__(56);module.exports.f=function(C){return new PromiseCapability(C)}},function(module,exports,__w_pdfjs_require__){var global=__w_pdfjs_require__(8);module.exports=function(a,b){var console=global.console;console&&console.error&&(1===arguments.length?console.error(a):console.error(a,b))}},function(module,exports){module.exports=function(exec){try{return{error:!1,value:exec()}}catch(error){return{error:!0,value:error}}}},function(module,exports,__w_pdfjs_require__){var $=__w_pdfjs_require__(7),aFunction=__w_pdfjs_require__(56),newPromiseCapabilityModule=__w_pdfjs_require__(116),perform=__w_pdfjs_require__(118),iterate=__w_pdfjs_require__(110);$({target:"Promise",stat:!0},{allSettled:function(iterable){var C=this,capability=newPromiseCapabilityModule.f(C),resolve=capability.resolve,reject=capability.reject,result=perform(function(){var promiseResolve=aFunction(C.resolve),values=[],counter=0,remaining=1;iterate(iterable,function(promise){var index=counter++,alreadyCalled=!1;values.push(void 0),remaining++,promiseResolve.call(C,promise).then(function(value){alreadyCalled||(alreadyCalled=!0,values[index]={status:"fulfilled",value:value},--remaining)||resolve(values)},function(e){alreadyCalled||(alreadyCalled=!0,values[index]={status:"rejected",reason:e},--remaining)||resolve(values)})}),--remaining||resolve(values)});return result.error&&reject(result.value),capability.promise}})},function(module,exports,__w_pdfjs_require__){var $=__w_pdfjs_require__(7),IS_PURE=__w_pdfjs_require__(29),NativePromise=__w_pdfjs_require__(106),getBuiltIn=__w_pdfjs_require__(38),speciesConstructor=__w_pdfjs_require__(111),promiseResolve=__w_pdfjs_require__(115),__w_pdfjs_require__=__w_pdfjs_require__(26);$({target:"Promise",proto:!0,real:!0},{finally:function(onFinally){var C=speciesConstructor(this,getBuiltIn("Promise")),isFunction="function"==typeof onFinally;return this.then(isFunction?function(x){return promiseResolve(C,onFinally()).then(function(){return x})}:onFinally,isFunction?function(e){return promiseResolve(C,onFinally()).then(function(){throw e})}:onFinally)}}),IS_PURE||"function"!=typeof NativePromise||NativePromise.prototype.finally||__w_pdfjs_require__(NativePromise.prototype,"finally",getBuiltIn("Promise").prototype.finally)},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(122),__w_pdfjs_require__(127),__w_pdfjs_require__(125);__w_pdfjs_require__=__w_pdfjs_require__(39);module.exports=__w_pdfjs_require__.URL},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(69);function serializeHost(host){var result,index,compress,ignore0;if("number"==typeof host){for(result=[],index=0;index<4;index++)result.unshift(host%256),host=floor(host/256);return result.join(".")}if("object"!=typeof host)return host;for(result="",compress=findLongestZeroSequence(host),index=0;index<8;index++)ignore0&&0===host[index]||(ignore0=ignore0&&!1,compress===index?(result+=index?":":"::",ignore0=!0):(result+=host[index].toString(16),index<7&&(result+=":")));return"["+result+"]"}function cannotHaveUsernamePasswordPort(url){return!url.host||url.cannotBeABaseURL||"file"==url.scheme}function parseURL(url,input,stateOverride,base){var codePoints,char,failure,state=stateOverride||SCHEME_START,pointer=0,buffer="",seenAt=!1,seenBracket=!1,seenPasswordToken=!1;for(stateOverride||(url.scheme="",url.username="",url.password="",url.host=null,url.port=null,url.path=[],url.query=null,url.fragment=null,url.cannotBeABaseURL=!1,input=input.replace(LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE,"")),input=input.replace(TAB_AND_NEW_LINE,""),codePoints=arrayFrom(input);pointer<=codePoints.length;){switch(char=codePoints[pointer],state){case SCHEME_START:if(!char||!ALPHA.test(char)){if(stateOverride)return INVALID_SCHEME;state=NO_SCHEME;continue}buffer+=char.toLowerCase(),state=SCHEME;break;case SCHEME:if(char&&(ALPHANUMERIC.test(char)||"+"==char||"-"==char||"."==char))buffer+=char.toLowerCase();else{if(":"!=char){if(stateOverride)return INVALID_SCHEME;buffer="",state=NO_SCHEME,pointer=0;continue}if(stateOverride&&(isSpecial(url)!=has(specialSchemes,buffer)||"file"==buffer&&(includesCredentials(url)||null!==url.port)||"file"==url.scheme&&!url.host))return;if(url.scheme=buffer,stateOverride)return void(isSpecial(url)&&specialSchemes[url.scheme]==url.port&&(url.port=null));buffer="","file"==url.scheme?state=FILE:isSpecial(url)&&base&&base.scheme==url.scheme?state=SPECIAL_RELATIVE_OR_AUTHORITY:isSpecial(url)?state=SPECIAL_AUTHORITY_SLASHES:"/"==codePoints[pointer+1]?(state=PATH_OR_AUTHORITY,pointer++):(url.cannotBeABaseURL=!0,url.path.push(""),state=CANNOT_BE_A_BASE_URL_PATH)}break;case NO_SCHEME:if(!base||base.cannotBeABaseURL&&"#"!=char)return INVALID_SCHEME;if(base.cannotBeABaseURL&&"#"==char){url.scheme=base.scheme,url.path=base.path.slice(),url.query=base.query,url.fragment="",url.cannotBeABaseURL=!0,state=FRAGMENT;break}state="file"==base.scheme?FILE:RELATIVE;continue;case SPECIAL_RELATIVE_OR_AUTHORITY:if("/"!=char||"/"!=codePoints[pointer+1]){state=RELATIVE;continue}state=SPECIAL_AUTHORITY_IGNORE_SLASHES,pointer++;break;case PATH_OR_AUTHORITY:if("/"==char){state=AUTHORITY;break}state=PATH;continue;case RELATIVE:if(url.scheme=base.scheme,char==EOF)url.username=base.username,url.password=base.password,url.host=base.host,url.port=base.port,url.path=base.path.slice(),url.query=base.query;else if("/"==char||"\\"==char&&isSpecial(url))state=RELATIVE_SLASH;else if("?"==char)url.username=base.username,url.password=base.password,url.host=base.host,url.port=base.port,url.path=base.path.slice(),url.query="",state=QUERY;else{if("#"!=char){url.username=base.username,url.password=base.password,url.host=base.host,url.port=base.port,url.path=base.path.slice(),url.path.pop(),state=PATH;continue}url.username=base.username,url.password=base.password,url.host=base.host,url.port=base.port,url.path=base.path.slice(),url.query=base.query,url.fragment="",state=FRAGMENT}break;case RELATIVE_SLASH:if(!isSpecial(url)||"/"!=char&&"\\"!=char){if("/"!=char){url.username=base.username,url.password=base.password,url.host=base.host,url.port=base.port,state=PATH;continue}state=AUTHORITY}else state=SPECIAL_AUTHORITY_IGNORE_SLASHES;break;case SPECIAL_AUTHORITY_SLASHES:if(state=SPECIAL_AUTHORITY_IGNORE_SLASHES,"/"!=char||"/"!=buffer.charAt(pointer+1))continue;pointer++;break;case SPECIAL_AUTHORITY_IGNORE_SLASHES:if("/"==char||"\\"==char)break;state=AUTHORITY;continue;case AUTHORITY:if("@"==char){seenAt&&(buffer="%40"+buffer);for(var seenAt=!0,bufferCodePoints=arrayFrom(buffer),i=0;i<bufferCodePoints.length;i++){var codePoint=bufferCodePoints[i];":"!=codePoint||seenPasswordToken?(codePoint=percentEncode(codePoint,userinfoPercentEncodeSet),seenPasswordToken?url.password+=codePoint:url.username+=codePoint):seenPasswordToken=!0}buffer=""}else if(char==EOF||"/"==char||"?"==char||"#"==char||"\\"==char&&isSpecial(url)){if(seenAt&&""==buffer)return INVALID_AUTHORITY;pointer-=arrayFrom(buffer).length+1,buffer="",state=HOST}else buffer+=char;break;case HOST:case HOSTNAME:if(stateOverride&&"file"==url.scheme){state=FILE_HOST;continue}if(":"!=char||seenBracket){if(char==EOF||"/"==char||"?"==char||"#"==char||"\\"==char&&isSpecial(url)){if(isSpecial(url)&&""==buffer)return INVALID_HOST;if(stateOverride&&""==buffer&&(includesCredentials(url)||null!==url.port))return;if(failure=parseHost(url,buffer))return failure;if(buffer="",state=PATH_START,stateOverride)return;continue}"["==char?seenBracket=!0:"]"==char&&(seenBracket=!1),buffer+=char}else{if(""==buffer)return INVALID_HOST;if(failure=parseHost(url,buffer))return failure;if(buffer="",state=PORT,stateOverride==HOSTNAME)return}break;case PORT:if(!DIGIT.test(char)){if(char==EOF||"/"==char||"?"==char||"#"==char||"\\"==char&&isSpecial(url)||stateOverride){if(""!=buffer){var port=parseInt(buffer,10);if(65535<port)return INVALID_PORT;url.port=isSpecial(url)&&port===specialSchemes[url.scheme]?null:port,buffer=""}if(stateOverride)return;state=PATH_START;continue}return INVALID_PORT}buffer+=char;break;case FILE:if(url.scheme="file","/"==char||"\\"==char)state=FILE_SLASH;else{if(!base||"file"!=base.scheme){state=PATH;continue}if(char==EOF)url.host=base.host,url.path=base.path.slice(),url.query=base.query;else if("?"==char)url.host=base.host,url.path=base.path.slice(),url.query="",state=QUERY;else{if("#"!=char){startsWithWindowsDriveLetter(codePoints.slice(pointer).join(""))||(url.host=base.host,url.path=base.path.slice(),shortenURLsPath(url)),state=PATH;continue}url.host=base.host,url.path=base.path.slice(),url.query=base.query,url.fragment="",state=FRAGMENT}}break;case FILE_SLASH:if("/"==char||"\\"==char){state=FILE_HOST;break}base&&"file"==base.scheme&&!startsWithWindowsDriveLetter(codePoints.slice(pointer).join(""))&&(isWindowsDriveLetter(base.path[0],!0)?url.path.push(base.path[0]):url.host=base.host),state=PATH;continue;case FILE_HOST:if(char==EOF||"/"==char||"\\"==char||"?"==char||"#"==char){if(!stateOverride&&isWindowsDriveLetter(buffer))state=PATH;else{if(""==buffer){if(url.host="",stateOverride)return}else{if(failure=parseHost(url,buffer))return failure;if("localhost"==url.host&&(url.host=""),stateOverride)return;buffer=""}state=PATH_START}continue}buffer+=char;break;case PATH_START:if(isSpecial(url)){if(state=PATH,"/"!=char&&"\\"!=char)continue}else if(stateOverride||"?"!=char)if(stateOverride||"#"!=char){if(char!=EOF&&(state=PATH,"/"!=char))continue}else url.fragment="",state=FRAGMENT;else url.query="",state=QUERY;break;case PATH:if(char==EOF||"/"==char||"\\"==char&&isSpecial(url)||!stateOverride&&("?"==char||"#"==char)){if(isDoubleDot(buffer)?(shortenURLsPath(url),"/"==char||"\\"==char&&isSpecial(url)||url.path.push("")):isSingleDot(buffer)?"/"==char||"\\"==char&&isSpecial(url)||url.path.push(""):("file"==url.scheme&&!url.path.length&&isWindowsDriveLetter(buffer)&&(url.host&&(url.host=""),buffer=buffer.charAt(0)+":"),url.path.push(buffer)),buffer="","file"==url.scheme&&(char==EOF||"?"==char||"#"==char))for(;1<url.path.length&&""===url.path[0];)url.path.shift();"?"==char?(url.query="",state=QUERY):"#"==char&&(url.fragment="",state=FRAGMENT)}else buffer+=percentEncode(char,pathPercentEncodeSet);break;case CANNOT_BE_A_BASE_URL_PATH:"?"==char?(url.query="",state=QUERY):"#"==char?(url.fragment="",state=FRAGMENT):char!=EOF&&(url.path[0]+=percentEncode(char,C0ControlPercentEncodeSet));break;case QUERY:stateOverride||"#"!=char?char!=EOF&&("'"==char&&isSpecial(url)?url.query+="%27":url.query+="#"==char?"%23":percentEncode(char,C0ControlPercentEncodeSet)):(url.fragment="",state=FRAGMENT);break;case FRAGMENT:char!=EOF&&(url.fragment+=percentEncode(char,fragmentPercentEncodeSet))}pointer++}}function URLConstructor(url){var baseState,failure,that=anInstance(this,URLConstructor,"URL"),base=1<arguments.length?arguments[1]:void 0,url=String(url),state=setInternalState(that,{type:"URL"});if(void 0!==base)if(base instanceof URLConstructor)baseState=getInternalURLState(base);else if(failure=parseURL(baseState={},String(base)))throw TypeError(failure);if(failure=parseURL(state,url,null,baseState))throw TypeError(failure);var searchParams=state.searchParams=new URLSearchParams;(base=getInternalSearchParamsState(searchParams)).updateSearchParams(state.query),base.updateURL=function(){state.query=String(searchParams)||null},DESCRIPTORS||(that.href=serializeURL.call(that),that.origin=getOrigin.call(that),that.protocol=getProtocol.call(that),that.username=getUsername.call(that),that.password=getPassword.call(that),that.host=getHost.call(that),that.hostname=getHostname.call(that),that.port=getPort.call(that),that.pathname=getPathname.call(that),that.search=getSearch.call(that),that.searchParams=getSearchParams.call(that),that.hash=getHash.call(that))}function accessorDescriptor(getter,setter){return{get:getter,set:setter,configurable:!0,enumerable:!0}}var EOF,nativeCreateObjectURL,nativeRevokeObjectURL,$=__w_pdfjs_require__(7),DESCRIPTORS=__w_pdfjs_require__(10),USE_NATIVE_URL=__w_pdfjs_require__(123),global=__w_pdfjs_require__(8),defineProperties=__w_pdfjs_require__(65),redefine=__w_pdfjs_require__(26),anInstance=__w_pdfjs_require__(109),has=__w_pdfjs_require__(20),assign=__w_pdfjs_require__(91),arrayFrom=__w_pdfjs_require__(82),codeAt=__w_pdfjs_require__(70).codeAt,toASCII=__w_pdfjs_require__(124),setToStringTag=__w_pdfjs_require__(77),URLSearchParamsModule=__w_pdfjs_require__(125),__w_pdfjs_require__=__w_pdfjs_require__(31),NativeURL=global.URL,URLSearchParams=URLSearchParamsModule.URLSearchParams,getInternalSearchParamsState=URLSearchParamsModule.getState,setInternalState=__w_pdfjs_require__.set,getInternalURLState=__w_pdfjs_require__.getterFor("URL"),floor=Math.floor,pow=Math.pow,INVALID_AUTHORITY="Invalid authority",INVALID_SCHEME="Invalid scheme",INVALID_HOST="Invalid host",INVALID_PORT="Invalid port",ALPHA=/[A-Za-z]/,ALPHANUMERIC=/[\d+\-.A-Za-z]/,DIGIT=/\d/,HEX_START=/^(0x|0X)/,OCT=/^[0-7]+$/,DEC=/^\d+$/,HEX=/^[\dA-Fa-f]+$/,FORBIDDEN_HOST_CODE_POINT=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,TAB_AND_NEW_LINE=/[\u0009\u000A\u000D]/g,parseHost=function(url,input){var result,codePoints,index;if("["==input.charAt(0))return"]"==input.charAt(input.length-1)&&(result=parseIPv6(input.slice(1,-1)))?void(url.host=result):INVALID_HOST;if(isSpecial(url))return input=toASCII(input),FORBIDDEN_HOST_CODE_POINT.test(input)||null===(result=parseIPv4(input))?INVALID_HOST:void(url.host=result);if(FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT.test(input))return INVALID_HOST;for(result="",codePoints=arrayFrom(input),index=0;index<codePoints.length;index++)result+=percentEncode(codePoints[index],C0ControlPercentEncodeSet);url.host=result},parseIPv4=function(input){var partsLength,numbers,index,part,radix,number,ipv4,parts=input.split(".");if(parts.length&&""==parts[parts.length-1]&&parts.pop(),4<(partsLength=parts.length))return input;for(numbers=[],index=0;index<partsLength;index++){if(""==(part=parts[index]))return input;if(radix=10,1<part.length&&"0"==part.charAt(0)&&(radix=HEX_START.test(part)?16:8,part=part.slice(8==radix?1:2)),""===part)number=0;else{if(!(10==radix?DEC:8==radix?OCT:HEX).test(part))return input;number=parseInt(part,radix)}numbers.push(number)}for(index=0;index<partsLength;index++)if(number=numbers[index],index==partsLength-1){if(number>=pow(256,5-partsLength))return null}else if(255<number)return null;for(ipv4=numbers.pop(),index=0;index<numbers.length;index++)ipv4+=numbers[index]*pow(256,3-index);return ipv4},parseIPv6=function(input){function char(){return input.charAt(pointer)}var value,length,numbersSeen,ipv4Piece,number,swaps,swap,address=[0,0,0,0,0,0,0,0],pieceIndex=0,compress=null,pointer=0;if(":"==char()){if(":"!=input.charAt(1))return;pointer+=2,compress=++pieceIndex}for(;char();){if(8==pieceIndex)return;if(":"==char()){if(null!==compress)return;pointer++,compress=++pieceIndex}else{for(value=length=0;length<4&&HEX.test(char());)value=16*value+parseInt(char(),16),pointer++,length++;if("."==char()){if(0==length)return;if(pointer-=length,6<pieceIndex)return;for(numbersSeen=0;char();){if(ipv4Piece=null,0<numbersSeen){if(!("."==char()&&numbersSeen<4))return;pointer++}if(!DIGIT.test(char()))return;for(;DIGIT.test(char());){if(number=parseInt(char(),10),null===ipv4Piece)ipv4Piece=number;else{if(0==ipv4Piece)return;ipv4Piece=10*ipv4Piece+number}if(255<ipv4Piece)return;pointer++}address[pieceIndex]=256*address[pieceIndex]+ipv4Piece,2!=++numbersSeen&&4!=numbersSeen||pieceIndex++}if(4!=numbersSeen)return;break}if(":"==char()){if(pointer++,!char())return}else if(char())return;address[pieceIndex++]=value}}if(null!==compress)for(swaps=pieceIndex-compress,pieceIndex=7;0!=pieceIndex&&0<swaps;)swap=address[pieceIndex],address[pieceIndex--]=address[compress+swaps-1],address[compress+--swaps]=swap;else if(8!=pieceIndex)return;return address},findLongestZeroSequence=function(ipv6){for(var maxIndex=null,maxLength=1,currStart=null,currLength=0,index=0;index<8;index++)0!==ipv6[index]?(maxLength<currLength&&(maxIndex=currStart,maxLength=currLength),currStart=null,currLength=0):(null===currStart&&(currStart=index),++currLength);return maxLength<currLength&&(maxIndex=currStart,maxLength=currLength),maxIndex},C0ControlPercentEncodeSet={},fragmentPercentEncodeSet=assign({},C0ControlPercentEncodeSet,{" ":1,'"':1,"<":1,">":1,"`":1}),pathPercentEncodeSet=assign({},fragmentPercentEncodeSet,{"#":1,"?":1,"{":1,"}":1}),userinfoPercentEncodeSet=assign({},pathPercentEncodeSet,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),percentEncode=function(char,set){var code=codeAt(char,0);return 32<code&&code<127&&!has(set,char)?char:encodeURIComponent(char)},specialSchemes={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},isSpecial=function(url){return has(specialSchemes,url.scheme)},includesCredentials=function(url){return""!=url.username||""!=url.password},isWindowsDriveLetter=function(string,normalized){return 2==string.length&&ALPHA.test(string.charAt(0))&&(":"==(string=string.charAt(1))||!normalized&&"|"==string)},startsWithWindowsDriveLetter=function(string){return 1<string.length&&isWindowsDriveLetter(string.slice(0,2))&&(2==string.length||"/"===(string=string.charAt(2))||"\\"===string||"?"===string||"#"===string)},shortenURLsPath=function(url){var path=url.path,pathSize=path.length;!pathSize||"file"==url.scheme&&1==pathSize&&isWindowsDriveLetter(path[0],!0)||path.pop()},isSingleDot=function(segment){return"."===segment||"%2e"===segment.toLowerCase()},isDoubleDot=function(segment){return".."===(segment=segment.toLowerCase())||"%2e."===segment||".%2e"===segment||"%2e%2e"===segment},SCHEME_START={},SCHEME={},NO_SCHEME={},SPECIAL_RELATIVE_OR_AUTHORITY={},PATH_OR_AUTHORITY={},RELATIVE={},RELATIVE_SLASH={},SPECIAL_AUTHORITY_SLASHES={},SPECIAL_AUTHORITY_IGNORE_SLASHES={},AUTHORITY={},HOST={},HOSTNAME={},PORT={},FILE={},FILE_SLASH={},FILE_HOST={},PATH_START={},PATH={},CANNOT_BE_A_BASE_URL_PATH={},QUERY={},FRAGMENT={},global=URLConstructor.prototype,serializeURL=function(){var url=getInternalURLState(this),scheme=url.scheme,username=url.username,password=url.password,host=url.host,port=url.port,path=url.path,query=url.query,fragment=url.fragment,output=scheme+":";return null!==host?(output+="//",includesCredentials(url)&&(output+=username+(password?":"+password:"")+"@"),output+=serializeHost(host),null!==port&&(output+=":"+port)):"file"==scheme&&(output+="//"),output+=url.cannotBeABaseURL?path[0]:path.length?"/"+path.join("/"):"",null!==query&&(output+="?"+query),null!==fragment&&(output+="#"+fragment),output},getOrigin=function(){var url=getInternalURLState(this),scheme=url.scheme,port=url.port;if("blob"==scheme)try{return new URL(scheme.path[0]).origin}catch(error){return"null"}return"file"!=scheme&&isSpecial(url)?scheme+"://"+serializeHost(url.host)+(null!==port?":"+port:""):"null"},getProtocol=function(){return getInternalURLState(this).scheme+":"},getUsername=function(){return getInternalURLState(this).username},getPassword=function(){return getInternalURLState(this).password},getHost=function(){var url=getInternalURLState(this),host=url.host,url=url.port;return null===host?"":null===url?serializeHost(host):serializeHost(host)+":"+url},getHostname=function(){var host=getInternalURLState(this).host;return null===host?"":serializeHost(host)},getPort=function(){var port=getInternalURLState(this).port;return null===port?"":String(port)},getPathname=function(){var url=getInternalURLState(this),path=url.path;return url.cannotBeABaseURL?path[0]:path.length?"/"+path.join("/"):""},getSearch=function(){var query=getInternalURLState(this).query;return query?"?"+query:""},getSearchParams=function(){return getInternalURLState(this).searchParams},getHash=function(){var fragment=getInternalURLState(this).fragment;return fragment?"#"+fragment:""};DESCRIPTORS&&defineProperties(global,{href:accessorDescriptor(serializeURL,function(href){var url=getInternalURLState(this),href=String(href),href=parseURL(url,href);if(href)throw TypeError(href);getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query)}),origin:accessorDescriptor(getOrigin),protocol:accessorDescriptor(getProtocol,function(protocol){var url=getInternalURLState(this);parseURL(url,String(protocol)+":",SCHEME_START)}),username:accessorDescriptor(getUsername,function(username){var url=getInternalURLState(this),codePoints=arrayFrom(String(username));if(!cannotHaveUsernamePasswordPort(url)){url.username="";for(var i=0;i<codePoints.length;i++)url.username+=percentEncode(codePoints[i],userinfoPercentEncodeSet)}}),password:accessorDescriptor(getPassword,function(password){var url=getInternalURLState(this),codePoints=arrayFrom(String(password));if(!cannotHaveUsernamePasswordPort(url)){url.password="";for(var i=0;i<codePoints.length;i++)url.password+=percentEncode(codePoints[i],userinfoPercentEncodeSet)}}),host:accessorDescriptor(getHost,function(host){var url=getInternalURLState(this);url.cannotBeABaseURL||parseURL(url,String(host),HOST)}),hostname:accessorDescriptor(getHostname,function(hostname){var url=getInternalURLState(this);url.cannotBeABaseURL||parseURL(url,String(hostname),HOSTNAME)}),port:accessorDescriptor(getPort,function(port){var url=getInternalURLState(this);cannotHaveUsernamePasswordPort(url)||(""==(port=String(port))?url.port=null:parseURL(url,port,PORT))}),pathname:accessorDescriptor(getPathname,function(pathname){var url=getInternalURLState(this);url.cannotBeABaseURL||(url.path=[],parseURL(url,pathname+"",PATH_START))}),search:accessorDescriptor(getSearch,function(search){var url=getInternalURLState(this);""==(search=String(search))?url.query=null:("?"==search.charAt(0)&&(search=search.slice(1)),url.query="",parseURL(url,search,QUERY)),getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query)}),searchParams:accessorDescriptor(getSearchParams),hash:accessorDescriptor(getHash,function(hash){var url=getInternalURLState(this);""==(hash=String(hash))?url.fragment=null:("#"==hash.charAt(0)&&(hash=hash.slice(1)),url.fragment="",parseURL(url,hash,FRAGMENT))})}),redefine(global,"toJSON",function(){return serializeURL.call(this)},{enumerable:!0}),redefine(global,"toString",function(){return serializeURL.call(this)},{enumerable:!0}),NativeURL&&(nativeCreateObjectURL=NativeURL.createObjectURL,nativeRevokeObjectURL=NativeURL.revokeObjectURL,nativeCreateObjectURL&&redefine(URLConstructor,"createObjectURL",function(blob){return nativeCreateObjectURL.apply(NativeURL,arguments)}),nativeRevokeObjectURL)&&redefine(URLConstructor,"revokeObjectURL",function(url){return nativeRevokeObjectURL.apply(NativeURL,arguments)}),setToStringTag(URLConstructor,"URL"),$({global:!0,forced:!USE_NATIVE_URL,sham:!DESCRIPTORS},{URL:URLConstructor})},function(module,exports,__w_pdfjs_require__){var fails=__w_pdfjs_require__(11),wellKnownSymbol=__w_pdfjs_require__(51),IS_PURE=__w_pdfjs_require__(29),ITERATOR=wellKnownSymbol("iterator");module.exports=!fails(function(){var url=new URL("b?e=1","http://a"),searchParams=url.searchParams;return url.pathname="c%20d",IS_PURE&&!url.toJSON||!searchParams.sort||"http://a/c%20d?e=1"!==url.href||"1"!==searchParams.get("e")||"a=1"!==String(new URLSearchParams("?a=1"))||!searchParams[ITERATOR]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash})},function(module,exports,__w_pdfjs_require__){function digitToBasic(digit){return digit+22+75*(digit<26)}function encode(input){var currentValue,output=[],inputLength=(input=(string=>{for(var output=[],counter=0,length=string.length;counter<length;){var extra,value=string.charCodeAt(counter++);55296<=value&&value<=56319&&counter<length?56320==(64512&(extra=string.charCodeAt(counter++)))?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--):output.push(value)}return output})(input)).length,n=128,delta=0,bias=72;for(i=0;i<input.length;i++)(currentValue=input[i])<128&&output.push(stringFromCharCode(currentValue));var basicLength=output.length,handledCPCount=basicLength;for(basicLength&&output.push("-");handledCPCount<inputLength;){for(var m=2147483647,i=0;i<input.length;i++)n<=(currentValue=input[i])&&currentValue<m&&(m=currentValue);var handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((2147483647-delta)/handledCPCountPlusOne))throw RangeError(OVERFLOW_ERROR);for(delta+=(m-n)*handledCPCountPlusOne,n=m,i=0;i<input.length;i++){if((currentValue=input[i])<n&&2147483647<++delta)throw RangeError(OVERFLOW_ERROR);if(currentValue==n){for(var q=delta,k=base;;k+=base){var t=k<=bias?1:bias+tMax<=k?tMax:k-bias;if(q<t)break;var qMinusT=q-t,baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT))),q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q))),bias=((delta,numPoints,firstTime)=>{var k=0;for(delta=firstTime?floor(delta/damp):delta>>1,delta+=floor(delta/numPoints);baseMinusTMin*tMax>>1<delta;k+=base)delta=floor(delta/baseMinusTMin);return floor(k+(baseMinusTMin+1)*delta/(delta+skew))})(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}}++delta,++n}return output.join("")}var base=36,tMax=26,skew=38,damp=700,regexNonASCII=/[^\0-\u007E]/,regexSeparators=/[.\u3002\uFF0E\uFF61]/g,OVERFLOW_ERROR="Overflow: input needs wider integers to process",baseMinusTMin=base-1,floor=Math.floor,stringFromCharCode=String.fromCharCode;module.exports=function(input){for(var label,encoded=[],labels=input.toLowerCase().replace(regexSeparators,".").split("."),i=0;i<labels.length;i++)label=labels[i],encoded.push(regexNonASCII.test(label)?"xn--"+encode(label):label);return encoded.join(".")}},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(104);function replacer(match){return replace[match]}function serialize(it){return encodeURIComponent(it).replace(find,replacer)}function updateSearchParams(query){this.entries.length=0,parseSearchParams(this.entries,query)}function validateArgumentsLength(passed,required){if(passed<required)throw TypeError("Not enough arguments")}function URLSearchParamsConstructor(){anInstance(this,URLSearchParamsConstructor,"URLSearchParams");var iteratorMethod,iterator,step,first,second,key,init=0<arguments.length?arguments[0]:void 0,entries=[];if(setInternalState(this,{type:"URLSearchParams",entries:entries,updateURL:function(){},updateSearchParams:updateSearchParams}),void 0!==init)if(isObject(init))if("function"==typeof(iteratorMethod=getIteratorMethod(init)))for(iterator=iteratorMethod.call(init);!(step=iterator.next()).done;){if((first=(step=getIterator(anObject(step.value))).next()).done||(second=step.next()).done||!step.next().done)throw TypeError("Expected sequence with length 2");entries.push({key:first.value+"",value:second.value+""})}else for(key in init)hasOwn(init,key)&&entries.push({key:key,value:init[key]+""});else parseSearchParams(entries,"string"==typeof init?"?"===init.charAt(0)?init.slice(1):init:init+"")}var $=__w_pdfjs_require__(7),USE_NATIVE_URL=__w_pdfjs_require__(123),redefine=__w_pdfjs_require__(26),redefineAll=__w_pdfjs_require__(107),setToStringTag=__w_pdfjs_require__(77),createIteratorConstructor=__w_pdfjs_require__(72),InternalStateModule=__w_pdfjs_require__(31),anInstance=__w_pdfjs_require__(109),hasOwn=__w_pdfjs_require__(20),bind=__w_pdfjs_require__(55),anObject=__w_pdfjs_require__(25),isObject=__w_pdfjs_require__(19),getIterator=__w_pdfjs_require__(126),getIteratorMethod=__w_pdfjs_require__(86),__w_pdfjs_require__=__w_pdfjs_require__(51)("iterator"),setInternalState=InternalStateModule.set,getInternalParamsState=InternalStateModule.getterFor("URLSearchParams"),getInternalIteratorState=InternalStateModule.getterFor("URLSearchParamsIterator"),plus=/\+/g,sequences=Array(4),percentSequence=function(bytes){return sequences[bytes-1]||(sequences[bytes-1]=RegExp("((?:%[\\da-f]{2}){"+bytes+"})","gi"))},percentDecode=function(sequence){try{return decodeURIComponent(sequence)}catch(error){return sequence}},deserialize=function(it){var result=it.replace(plus," "),bytes=4;try{return decodeURIComponent(result)}catch(error){for(;bytes;)result=result.replace(percentSequence(bytes--),percentDecode);return result}},find=/[!'()~]|%20/g,replace={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},parseSearchParams=function(result,query){if(query)for(var attribute,attributes=query.split("&"),index=0;index<attributes.length;)(attribute=attributes[index++]).length&&(attribute=attribute.split("="),result.push({key:deserialize(attribute.shift()),value:deserialize(attribute.join("="))}))},URLSearchParamsIterator=createIteratorConstructor(function(params,kind){setInternalState(this,{type:"URLSearchParamsIterator",iterator:getIterator(getInternalParamsState(params).entries),kind:kind})},"Iterator",function(){var state=getInternalIteratorState(this),kind=state.kind,state=state.iterator.next(),entry=state.value;return state.done||(state.value="keys"===kind?entry.key:"values"===kind?entry.value:[entry.key,entry.value]),state}),InternalStateModule=URLSearchParamsConstructor.prototype;redefineAll(InternalStateModule,{append:function(name,value){validateArgumentsLength(arguments.length,2);var state=getInternalParamsState(this);state.entries.push({key:name+"",value:value+""}),state.updateURL()},delete:function(name){validateArgumentsLength(arguments.length,1);for(var state=getInternalParamsState(this),entries=state.entries,key=name+"",index=0;index<entries.length;)entries[index].key===key?entries.splice(index,1):index++;state.updateURL()},get:function(name){validateArgumentsLength(arguments.length,1);for(var entries=getInternalParamsState(this).entries,key=name+"",index=0;index<entries.length;index++)if(entries[index].key===key)return entries[index].value;return null},getAll:function(name){validateArgumentsLength(arguments.length,1);for(var entries=getInternalParamsState(this).entries,key=name+"",result=[],index=0;index<entries.length;index++)entries[index].key===key&&result.push(entries[index].value);return result},has:function(name){validateArgumentsLength(arguments.length,1);for(var entries=getInternalParamsState(this).entries,key=name+"",index=0;index<entries.length;)if(entries[index++].key===key)return!0;return!1},set:function(name,value){validateArgumentsLength(arguments.length,1);for(var entry,state=getInternalParamsState(this),entries=state.entries,found=!1,key=name+"",val=value+"",index=0;index<entries.length;index++)(entry=entries[index]).key===key&&(found?entries.splice(index--,1):(found=!0,entry.value=val));found||entries.push({key:key,value:val}),state.updateURL()},sort:function(){for(var entry,entriesIndex,state=getInternalParamsState(this),entries=state.entries,slice=entries.slice(),sliceIndex=entries.length=0;sliceIndex<slice.length;sliceIndex++){for(entry=slice[sliceIndex],entriesIndex=0;entriesIndex<sliceIndex;entriesIndex++)if(entries[entriesIndex].key>entry.key){entries.splice(entriesIndex,0,entry);break}entriesIndex===sliceIndex&&entries.push(entry)}state.updateURL()},forEach:function(callback){for(var entry,entries=getInternalParamsState(this).entries,boundFunction=bind(callback,1<arguments.length?arguments[1]:void 0,3),index=0;index<entries.length;)boundFunction((entry=entries[index++]).value,entry.key,this)},keys:function(){return new URLSearchParamsIterator(this,"keys")},values:function(){return new URLSearchParamsIterator(this,"values")},entries:function(){return new URLSearchParamsIterator(this,"entries")}},{enumerable:!0}),redefine(InternalStateModule,__w_pdfjs_require__,InternalStateModule.entries),redefine(InternalStateModule,"toString",function(){for(var entry,entries=getInternalParamsState(this).entries,result=[],index=0;index<entries.length;)entry=entries[index++],result.push(serialize(entry.key)+"="+serialize(entry.value));return result.join("&")},{enumerable:!0}),setToStringTag(URLSearchParamsConstructor,"URLSearchParams"),$({global:!0,forced:!USE_NATIVE_URL},{URLSearchParams:URLSearchParamsConstructor}),module.exports={URLSearchParams:URLSearchParamsConstructor,getState:getInternalParamsState}},function(module,exports,__w_pdfjs_require__){var anObject=__w_pdfjs_require__(25),getIteratorMethod=__w_pdfjs_require__(86);module.exports=function(it){var iteratorMethod=getIteratorMethod(it);if("function"!=typeof iteratorMethod)throw TypeError(String(it)+" is not iterable");return anObject(iteratorMethod.call(it))}},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(7)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(100),__w_pdfjs_require__(129),__w_pdfjs_require__(102);__w_pdfjs_require__=__w_pdfjs_require__(39);module.exports=__w_pdfjs_require__.WeakMap},function(module,exports,__w_pdfjs_require__){function wrapper(get){return function(){return get(this,arguments.length?arguments[0]:void 0)}}var InternalWeakMap,nativeDelete,nativeHas,nativeGet,nativeSet,global=__w_pdfjs_require__(8),redefineAll=__w_pdfjs_require__(107),InternalMetadataModule=__w_pdfjs_require__(130),collection=__w_pdfjs_require__(132),collectionWeak=__w_pdfjs_require__(134),isObject=__w_pdfjs_require__(19),enforceIternalState=__w_pdfjs_require__(31).enforce,__w_pdfjs_require__=__w_pdfjs_require__(32),global=!global.ActiveXObject&&"ActiveXObject"in global,isExtensible=Object.isExtensible,module=module.exports=collection("WeakMap",wrapper,collectionWeak,!0,!0);__w_pdfjs_require__&&global&&(InternalWeakMap=collectionWeak.getConstructor(wrapper,"WeakMap",!0),InternalMetadataModule.REQUIRED=!0,collection=module.prototype,nativeDelete=collection.delete,nativeHas=collection.has,nativeGet=collection.get,nativeSet=collection.set,redefineAll(collection,{delete:function(key){var state;return isObject(key)&&!isExtensible(key)?((state=enforceIternalState(this)).frozen||(state.frozen=new InternalWeakMap),nativeDelete.call(this,key)||state.frozen.delete(key)):nativeDelete.call(this,key)},has:function(key){var state;return isObject(key)&&!isExtensible(key)?((state=enforceIternalState(this)).frozen||(state.frozen=new InternalWeakMap),nativeHas.call(this,key)||state.frozen.has(key)):nativeHas.call(this,key)},get:function(key){var state;return!isObject(key)||isExtensible(key)||((state=enforceIternalState(this)).frozen||(state.frozen=new InternalWeakMap),nativeHas.call(this,key))?nativeGet.call(this,key):state.frozen.get(key)},set:function(key,value){var state;return!isObject(key)||isExtensible(key)||((state=enforceIternalState(this)).frozen||(state.frozen=new InternalWeakMap),nativeHas.call(this,key))?nativeSet.call(this,key,value):state.frozen.set(key,value),this}}))},function(module,exports,__w_pdfjs_require__){function setMetadata(it){defineProperty(it,METADATA,{value:{objectID:"O"+ ++id,weakData:{}}})}var hiddenKeys=__w_pdfjs_require__(35),isObject=__w_pdfjs_require__(19),has=__w_pdfjs_require__(20),defineProperty=__w_pdfjs_require__(24).f,uid=__w_pdfjs_require__(34),FREEZING=__w_pdfjs_require__(131),METADATA=uid("meta"),id=0,isExtensible=Object.isExtensible||function(){return!0},meta=module.exports={REQUIRED:!1,fastKey:function(it,create){if(!isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!has(it,METADATA)){if(!isExtensible(it))return"F";if(!create)return"E";setMetadata(it)}return it[METADATA].objectID},getWeakData:function(it,create){if(!has(it,METADATA)){if(!isExtensible(it))return!0;if(!create)return!1;setMetadata(it)}return it[METADATA].weakData},onFreeze:function(it){return FREEZING&&meta.REQUIRED&&isExtensible(it)&&!has(it,METADATA)&&setMetadata(it),it}};hiddenKeys[METADATA]=!0},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__=__w_pdfjs_require__(11);module.exports=!__w_pdfjs_require__(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(module,exports,__w_pdfjs_require__){var $=__w_pdfjs_require__(7),global=__w_pdfjs_require__(8),isForced=__w_pdfjs_require__(48),redefine=__w_pdfjs_require__(26),InternalMetadataModule=__w_pdfjs_require__(130),iterate=__w_pdfjs_require__(110),anInstance=__w_pdfjs_require__(109),isObject=__w_pdfjs_require__(19),fails=__w_pdfjs_require__(11),checkCorrectnessOfIteration=__w_pdfjs_require__(88),setToStringTag=__w_pdfjs_require__(77),inheritIfRequired=__w_pdfjs_require__(133);module.exports=function(CONSTRUCTOR_NAME,wrapper,common,IS_MAP,IS_WEAK){function fixMethod(KEY){var nativeMethod=NativePrototype[KEY];redefine(NativePrototype,KEY,"add"==KEY?function(value){return nativeMethod.call(this,0===value?0:value),this}:"delete"==KEY?function(key){return!(IS_WEAK&&!isObject(key))&&nativeMethod.call(this,0===key?0:key)}:"get"==KEY?function(key){return IS_WEAK&&!isObject(key)?void 0:nativeMethod.call(this,0===key?0:key)}:"has"==KEY?function(key){return!(IS_WEAK&&!isObject(key))&&nativeMethod.call(this,0===key?0:key)}:function(key,value){return nativeMethod.call(this,0===key?0:key,value),this})}var instance,HASNT_CHAINING,THROWS_ON_PRIMITIVES,ACCEPT_ITERABLES,BUGGY_ZERO,NativeConstructor=global[CONSTRUCTOR_NAME],NativePrototype=NativeConstructor&&NativeConstructor.prototype,Constructor=NativeConstructor,ADDER=IS_MAP?"set":"add",exported={};return isForced(CONSTRUCTOR_NAME,"function"!=typeof NativeConstructor||!(IS_WEAK||NativePrototype.forEach&&!fails(function(){(new NativeConstructor).entries().next()})))?(Constructor=common.getConstructor(wrapper,CONSTRUCTOR_NAME,IS_MAP,ADDER),InternalMetadataModule.REQUIRED=!0):isForced(CONSTRUCTOR_NAME,!0)&&(HASNT_CHAINING=(instance=new Constructor)[ADDER](IS_WEAK?{}:-0,1)!=instance,THROWS_ON_PRIMITIVES=fails(function(){instance.has(1)}),ACCEPT_ITERABLES=checkCorrectnessOfIteration(function(iterable){new NativeConstructor(iterable)}),BUGGY_ZERO=!IS_WEAK&&fails(function(){for(var $instance=new NativeConstructor,index=5;index--;)$instance[ADDER](index,index);return!$instance.has(-0)}),ACCEPT_ITERABLES||(((Constructor=wrapper(function(dummy,iterable){anInstance(dummy,Constructor,CONSTRUCTOR_NAME);dummy=inheritIfRequired(new NativeConstructor,dummy,Constructor);return null!=iterable&&iterate(iterable,dummy[ADDER],dummy,IS_MAP),dummy})).prototype=NativePrototype).constructor=Constructor),(THROWS_ON_PRIMITIVES||BUGGY_ZERO)&&(fixMethod("delete"),fixMethod("has"),IS_MAP)&&fixMethod("get"),(BUGGY_ZERO||HASNT_CHAINING)&&fixMethod(ADDER),IS_WEAK)&&NativePrototype.clear&&delete NativePrototype.clear,$({global:!0,forced:(exported[CONSTRUCTOR_NAME]=Constructor)!=NativeConstructor},exported),setToStringTag(Constructor,CONSTRUCTOR_NAME),IS_WEAK||common.setStrong(Constructor,CONSTRUCTOR_NAME,IS_MAP),Constructor}},function(module,exports,__w_pdfjs_require__){var isObject=__w_pdfjs_require__(19),setPrototypeOf=__w_pdfjs_require__(79);module.exports=function($this,dummy,Wrapper){return setPrototypeOf&&"function"==typeof(dummy=dummy.constructor)&&dummy!==Wrapper&&isObject(dummy=dummy.prototype)&&dummy!==Wrapper.prototype&&setPrototypeOf($this,dummy),$this}},function(module,exports,__w_pdfjs_require__){function uncaughtFrozenStore(store){return store.frozen||(store.frozen=new UncaughtFrozenStore)}function UncaughtFrozenStore(){this.entries=[]}function findUncaughtFrozen(store,key){return find(store.entries,function(it){return it[0]===key})}var redefineAll=__w_pdfjs_require__(107),getWeakData=__w_pdfjs_require__(130).getWeakData,anObject=__w_pdfjs_require__(25),isObject=__w_pdfjs_require__(19),anInstance=__w_pdfjs_require__(109),iterate=__w_pdfjs_require__(110),ArrayIterationModule=__w_pdfjs_require__(135),$has=__w_pdfjs_require__(20),__w_pdfjs_require__=__w_pdfjs_require__(31),setInternalState=__w_pdfjs_require__.set,internalStateGetterFor=__w_pdfjs_require__.getterFor,find=ArrayIterationModule.find,findIndex=ArrayIterationModule.findIndex,id=0;UncaughtFrozenStore.prototype={get:function(key){key=findUncaughtFrozen(this,key);if(key)return key[1]},has:function(key){return!!findUncaughtFrozen(this,key)},set:function(key,value){var entry=findUncaughtFrozen(this,key);entry?entry[1]=value:this.entries.push([key,value])},delete:function(key){var index=findIndex(this.entries,function(it){return it[0]===key});return~index&&this.entries.splice(index,1),!!~index}},module.exports={getConstructor:function(wrapper,CONSTRUCTOR_NAME,IS_MAP,ADDER){function define(that,key,value){var state=getInternalState(that),data=getWeakData(anObject(key),!0);return!0===data?uncaughtFrozenStore(state).set(key,value):data[state.id]=value,that}var C=wrapper(function(that,iterable){anInstance(that,C,CONSTRUCTOR_NAME),setInternalState(that,{type:CONSTRUCTOR_NAME,id:id++,frozen:void 0}),null!=iterable&&iterate(iterable,that[ADDER],that,IS_MAP)}),getInternalState=internalStateGetterFor(CONSTRUCTOR_NAME);return redefineAll(C.prototype,{delete:function(key){var data,state=getInternalState(this);return!!isObject(key)&&(!0===(data=getWeakData(key))?uncaughtFrozenStore(state).delete(key):data&&$has(data,state.id)&&delete data[state.id])},has:function(key){var data,state=getInternalState(this);return!!isObject(key)&&(!0===(data=getWeakData(key))?uncaughtFrozenStore(state).has(key):data&&$has(data,state.id))}}),redefineAll(C.prototype,IS_MAP?{get:function(key){var data,state=getInternalState(this);if(isObject(key))return!0===(data=getWeakData(key))?uncaughtFrozenStore(state).get(key):data?data[state.id]:void 0},set:function(key,value){return define(this,key,value)}}:{add:function(value){return define(this,value,!0)}}),C}}},function(module,exports,__w_pdfjs_require__){function createMethod(TYPE){var IS_MAP=1==TYPE,IS_FILTER=2==TYPE,IS_SOME=3==TYPE,IS_EVERY=4==TYPE,IS_FIND_INDEX=6==TYPE,NO_HOLES=5==TYPE||IS_FIND_INDEX;return function($this,callbackfn,that,specificCreate){for(var value,result,O=toObject($this),self=IndexedObject(O),boundFunction=bind(callbackfn,that,3),length=toLength(self.length),index=0,callbackfn=specificCreate||arraySpeciesCreate,target=IS_MAP?callbackfn($this,length):IS_FILTER?callbackfn($this,0):void 0;index<length;index++)if((NO_HOLES||index in self)&&(result=boundFunction(value=self[index],index,O),TYPE))if(IS_MAP)target[index]=result;else if(result)switch(TYPE){case 3:return!0;case 5:return value;case 6:return index;case 2:push.call(target,value)}else if(IS_EVERY)return!1;return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:target}}var bind=__w_pdfjs_require__(55),IndexedObject=__w_pdfjs_require__(15),toObject=__w_pdfjs_require__(75),toLength=__w_pdfjs_require__(43),arraySpeciesCreate=__w_pdfjs_require__(136),push=[].push;module.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6)}},function(module,exports,__w_pdfjs_require__){var isObject=__w_pdfjs_require__(19),isArray=__w_pdfjs_require__(137),SPECIES=__w_pdfjs_require__(51)("species");module.exports=function(originalArray,length){var C;return new(void 0===(C=isArray(originalArray)&&("function"==typeof(C=originalArray.constructor)&&(C===Array||isArray(C.prototype))||isObject(C)&&null===(C=C[SPECIES]))?void 0:C)?Array:C)(0===length?0:length)}},function(module,exports,__w_pdfjs_require__){var classof=__w_pdfjs_require__(16);module.exports=Array.isArray||function(arg){return"Array"==classof(arg)}},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(100),__w_pdfjs_require__(139),__w_pdfjs_require__(102);__w_pdfjs_require__=__w_pdfjs_require__(39);module.exports=__w_pdfjs_require__.WeakSet},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(132)("WeakSet",function(get){return function(){return get(this,arguments.length?arguments[0]:void 0)}},__w_pdfjs_require__(134),!1,!0)},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(141);__w_pdfjs_require__=__w_pdfjs_require__(54);module.exports=__w_pdfjs_require__("String","codePointAt")},function(module,exports,__w_pdfjs_require__){var $=__w_pdfjs_require__(7),codeAt=__w_pdfjs_require__(70).codeAt;$({target:"String",proto:!0},{codePointAt:function(pos){return codeAt(this,pos)}})},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(143);__w_pdfjs_require__=__w_pdfjs_require__(39);module.exports=__w_pdfjs_require__.String.fromCodePoint},function(module,exports,__w_pdfjs_require__){var $=__w_pdfjs_require__(7),toAbsoluteIndex=__w_pdfjs_require__(45),fromCharCode=String.fromCharCode,__w_pdfjs_require__=String.fromCodePoint;$({target:"String",stat:!0,forced:!!__w_pdfjs_require__&&1!=__w_pdfjs_require__.length},{fromCodePoint:function(x){for(var code,elements=[],length=arguments.length,i=0;i<length;){if(code=+arguments[i++],toAbsoluteIndex(code,1114111)!==code)throw RangeError(code+" is not a valid code point");elements.push(code<65536?fromCharCode(code):fromCharCode(55296+((code-=65536)>>10),code%1024+56320))}return elements.join("")}})},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(145),__w_pdfjs_require__(100),__w_pdfjs_require__(147),__w_pdfjs_require__(151),__w_pdfjs_require__(152),__w_pdfjs_require__(153),__w_pdfjs_require__(154),__w_pdfjs_require__(155),__w_pdfjs_require__(156),__w_pdfjs_require__(157),__w_pdfjs_require__(158),__w_pdfjs_require__(159),__w_pdfjs_require__(160),__w_pdfjs_require__(161),__w_pdfjs_require__(162),__w_pdfjs_require__(163),__w_pdfjs_require__(164),__w_pdfjs_require__(165),__w_pdfjs_require__(166);__w_pdfjs_require__=__w_pdfjs_require__(39);module.exports=__w_pdfjs_require__.Symbol},function(module,exports,__w_pdfjs_require__){var $=__w_pdfjs_require__(7),fails=__w_pdfjs_require__(11),isArray=__w_pdfjs_require__(137),isObject=__w_pdfjs_require__(19),toObject=__w_pdfjs_require__(75),toLength=__w_pdfjs_require__(43),createProperty=__w_pdfjs_require__(85),arraySpeciesCreate=__w_pdfjs_require__(136),arrayMethodHasSpeciesSupport=__w_pdfjs_require__(146),IS_CONCAT_SPREADABLE=__w_pdfjs_require__(51)("isConcatSpreadable"),__w_pdfjs_require__=!fails(function(){var array=[];return array[IS_CONCAT_SPREADABLE]=!1,array.concat()[0]!==array}),fails=arrayMethodHasSpeciesSupport("concat");$({target:"Array",proto:!0,forced:!__w_pdfjs_require__||!fails},{concat:function(arg){for(var k,len,E,O=toObject(this),A=arraySpeciesCreate(O,0),n=0,i=-1,length=arguments.length;i<length;i++)if((O=>{var spreadable;return!!isObject(O)&&(void 0!==(spreadable=O[IS_CONCAT_SPREADABLE])?!!spreadable:isArray(O))})(E=-1===i?O:arguments[i])){if(9007199254740991<n+(len=toLength(E.length)))throw TypeError("Maximum allowed index exceeded");for(k=0;k<len;k++,n++)k in E&&createProperty(A,n,E[k])}else{if(9007199254740991<=n)throw TypeError("Maximum allowed index exceeded");createProperty(A,n++,E)}return A.length=n,A}})},function(module,exports,__w_pdfjs_require__){var fails=__w_pdfjs_require__(11),SPECIES=__w_pdfjs_require__(51)("species");module.exports=function(METHOD_NAME){return!fails(function(){var array=[];return(array.constructor={})[SPECIES]=function(){return{foo:1}},1!==array[METHOD_NAME](Boolean).foo})}},function(module,exports,__w_pdfjs_require__){function wrap(tag,description){var symbol=AllSymbols[tag]=nativeObjectCreate($Symbol[PROTOTYPE]);return setInternalState(symbol,{type:SYMBOL,tag:tag,description:description}),DESCRIPTORS||(symbol.description=description),symbol}function $defineProperties(O,Properties){anObject(O);var properties=toIndexedObject(Properties),Properties=objectKeys(properties).concat($getOwnPropertySymbols(properties));return $forEach(Properties,function(key){DESCRIPTORS&&!$propertyIsEnumerable.call(properties,key)||$defineProperty(O,key,properties[key])}),O}function $getOwnPropertyDescriptor(O,P){var descriptor,O=toIndexedObject(O),P=toPrimitive(P,!0);if(O!==ObjectPrototype||!has(AllSymbols,P)||has(ObjectPrototypeSymbols,P))return!(descriptor=nativeGetOwnPropertyDescriptor(O,P))||!has(AllSymbols,P)||has(O,HIDDEN)&&O[HIDDEN][P]||(descriptor.enumerable=!0),descriptor}function $getOwnPropertyNames(O){var O=nativeGetOwnPropertyNames(toIndexedObject(O)),result=[];return $forEach(O,function(key){has(AllSymbols,key)||has(hiddenKeys,key)||result.push(key)}),result}var $=__w_pdfjs_require__(7),global=__w_pdfjs_require__(8),IS_PURE=__w_pdfjs_require__(29),DESCRIPTORS=__w_pdfjs_require__(10),NATIVE_SYMBOL=__w_pdfjs_require__(52),fails=__w_pdfjs_require__(11),has=__w_pdfjs_require__(20),isArray=__w_pdfjs_require__(137),isObject=__w_pdfjs_require__(19),anObject=__w_pdfjs_require__(25),toObject=__w_pdfjs_require__(75),toIndexedObject=__w_pdfjs_require__(14),toPrimitive=__w_pdfjs_require__(18),createPropertyDescriptor=__w_pdfjs_require__(13),nativeObjectCreate=__w_pdfjs_require__(64),objectKeys=__w_pdfjs_require__(66),getOwnPropertyNamesModule=__w_pdfjs_require__(40),getOwnPropertyNamesExternal=__w_pdfjs_require__(148),getOwnPropertySymbolsModule=__w_pdfjs_require__(47),getOwnPropertyDescriptorModule=__w_pdfjs_require__(9),definePropertyModule=__w_pdfjs_require__(24),propertyIsEnumerableModule=__w_pdfjs_require__(12),hide=__w_pdfjs_require__(23),redefine=__w_pdfjs_require__(26),shared=__w_pdfjs_require__(27),sharedKey=__w_pdfjs_require__(33),hiddenKeys=__w_pdfjs_require__(35),uid=__w_pdfjs_require__(34),wellKnownSymbol=__w_pdfjs_require__(51),wrappedWellKnownSymbolModule=__w_pdfjs_require__(149),defineWellKnownSymbol=__w_pdfjs_require__(150),setToStringTag=__w_pdfjs_require__(77),InternalStateModule=__w_pdfjs_require__(31),$forEach=__w_pdfjs_require__(135).forEach,HIDDEN=sharedKey("hidden"),SYMBOL="Symbol",PROTOTYPE="prototype",__w_pdfjs_require__=wellKnownSymbol("toPrimitive"),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor(SYMBOL),ObjectPrototype=Object[PROTOTYPE],$Symbol=global.Symbol,JSON=global.JSON,nativeJSONStringify=JSON&&JSON.stringify,nativeGetOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,nativeDefineProperty=definePropertyModule.f,nativeGetOwnPropertyNames=getOwnPropertyNamesExternal.f,nativePropertyIsEnumerable=propertyIsEnumerableModule.f,AllSymbols=shared("symbols"),ObjectPrototypeSymbols=shared("op-symbols"),StringToSymbolRegistry=shared("string-to-symbol-registry"),SymbolToStringRegistry=shared("symbol-to-string-registry"),sharedKey=shared("wks"),InternalStateModule=global.QObject,USE_SETTER=!InternalStateModule||!InternalStateModule[PROTOTYPE]||!InternalStateModule[PROTOTYPE].findChild,setSymbolDescriptor=DESCRIPTORS&&fails(function(){return 7!=nativeObjectCreate(nativeDefineProperty({},"a",{get:function(){return nativeDefineProperty(this,"a",{value:7}).a}})).a})?function(O,P,Attributes){var ObjectPrototypeDescriptor=nativeGetOwnPropertyDescriptor(ObjectPrototype,P);ObjectPrototypeDescriptor&&delete ObjectPrototype[P],nativeDefineProperty(O,P,Attributes),ObjectPrototypeDescriptor&&O!==ObjectPrototype&&nativeDefineProperty(ObjectPrototype,P,ObjectPrototypeDescriptor)}:nativeDefineProperty,isSymbol=NATIVE_SYMBOL&&"symbol"==typeof $Symbol.iterator?function(it){return"symbol"==typeof it}:function(it){return Object(it)instanceof $Symbol},$defineProperty=function(O,P,Attributes){O===ObjectPrototype&&$defineProperty(ObjectPrototypeSymbols,P,Attributes),anObject(O);P=toPrimitive(P,!0);return anObject(Attributes),(has(AllSymbols,P)?(Attributes.enumerable?(has(O,HIDDEN)&&O[HIDDEN][P]&&(O[HIDDEN][P]=!1),Attributes=nativeObjectCreate(Attributes,{enumerable:createPropertyDescriptor(0,!1)})):(has(O,HIDDEN)||nativeDefineProperty(O,HIDDEN,createPropertyDescriptor(1,{})),O[HIDDEN][P]=!0),setSymbolDescriptor):nativeDefineProperty)(O,P,Attributes)},$propertyIsEnumerable=function(V){var V=toPrimitive(V,!0),enumerable=nativePropertyIsEnumerable.call(this,V);return!(this===ObjectPrototype&&has(AllSymbols,V)&&!has(ObjectPrototypeSymbols,V))&&(!(enumerable||!has(this,V)||!has(AllSymbols,V)||has(this,HIDDEN)&&this[HIDDEN][V])||enumerable)},$getOwnPropertySymbols=function(O){var IS_OBJECT_PROTOTYPE=O===ObjectPrototype,O=nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE?ObjectPrototypeSymbols:toIndexedObject(O)),result=[];return $forEach(O,function(key){!has(AllSymbols,key)||IS_OBJECT_PROTOTYPE&&!has(ObjectPrototype,key)||result.push(AllSymbols[key])}),result};NATIVE_SYMBOL||(redefine(($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor");var description=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,tag=uid(description),setter=function(value){this===ObjectPrototype&&setter.call(ObjectPrototypeSymbols,value),has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDescriptor(this,tag,createPropertyDescriptor(1,value))};return DESCRIPTORS&&USE_SETTER&&setSymbolDescriptor(ObjectPrototype,tag,{configurable:!0,set:setter}),wrap(tag,description)})[PROTOTYPE],"toString",function(){return getInternalState(this).tag}),propertyIsEnumerableModule.f=$propertyIsEnumerable,definePropertyModule.f=$defineProperty,getOwnPropertyDescriptorModule.f=$getOwnPropertyDescriptor,getOwnPropertyNamesModule.f=getOwnPropertyNamesExternal.f=$getOwnPropertyNames,getOwnPropertySymbolsModule.f=$getOwnPropertySymbols,DESCRIPTORS&&(nativeDefineProperty($Symbol[PROTOTYPE],"description",{configurable:!0,get:function(){return getInternalState(this).description}}),IS_PURE||redefine(ObjectPrototype,"propertyIsEnumerable",$propertyIsEnumerable,{unsafe:!0})),wrappedWellKnownSymbolModule.f=function(name){return wrap(wellKnownSymbol(name),name)}),$({global:!0,wrap:!0,forced:!NATIVE_SYMBOL,sham:!NATIVE_SYMBOL},{Symbol:$Symbol}),$forEach(objectKeys(sharedKey),function(name){defineWellKnownSymbol(name)}),$({target:SYMBOL,stat:!0,forced:!NATIVE_SYMBOL},{for:function(key){var symbol,key=String(key);return has(StringToSymbolRegistry,key)?StringToSymbolRegistry[key]:(symbol=$Symbol(key),StringToSymbolRegistry[key]=symbol,SymbolToStringRegistry[symbol]=key,symbol)},keyFor:function(sym){if(!isSymbol(sym))throw TypeError(sym+" is not a symbol");if(has(SymbolToStringRegistry,sym))return SymbolToStringRegistry[sym]},useSetter:function(){USE_SETTER=!0},useSimple:function(){USE_SETTER=!1}}),$({target:"Object",stat:!0,forced:!NATIVE_SYMBOL,sham:!DESCRIPTORS},{create:function(O,Properties){return void 0===Properties?nativeObjectCreate(O):$defineProperties(nativeObjectCreate(O),Properties)},defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor}),$({target:"Object",stat:!0,forced:!NATIVE_SYMBOL},{getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$({target:"Object",stat:!0,forced:fails(function(){getOwnPropertySymbolsModule.f(1)})},{getOwnPropertySymbols:function(it){return getOwnPropertySymbolsModule.f(toObject(it))}}),JSON&&$({target:"JSON",stat:!0,forced:!NATIVE_SYMBOL||fails(function(){var symbol=$Symbol();return"[null]"!=nativeJSONStringify([symbol])||"{}"!=nativeJSONStringify({a:symbol})||"{}"!=nativeJSONStringify(Object(symbol))})},{stringify:function(it){for(var replacer,$replacer,args=[it],index=1;index<arguments.length;)args.push(arguments[index++]);if($replacer=replacer=args[1],(isObject(replacer)||void 0!==it)&&!isSymbol(it))return isArray(replacer)||(replacer=function(key,value){if("function"==typeof $replacer&&(value=$replacer.call(this,key,value)),!isSymbol(value))return value}),args[1]=replacer,nativeJSONStringify.apply(JSON,args)}}),$Symbol[PROTOTYPE][__w_pdfjs_require__]||hide($Symbol[PROTOTYPE],__w_pdfjs_require__,$Symbol[PROTOTYPE].valueOf),setToStringTag($Symbol,SYMBOL),hiddenKeys[HIDDEN]=!0},function(module,exports,__w_pdfjs_require__){var toIndexedObject=__w_pdfjs_require__(14),nativeGetOwnPropertyNames=__w_pdfjs_require__(40).f,toString={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];module.exports.f=function(it){return windowNames&&"[object Window]"==toString.call(it)?(it=>{try{return nativeGetOwnPropertyNames(it)}catch(error){return windowNames.slice()}})(it):nativeGetOwnPropertyNames(toIndexedObject(it))}},function(module,exports,__w_pdfjs_require__){exports.f=__w_pdfjs_require__(51)},function(module,exports,__w_pdfjs_require__){var path=__w_pdfjs_require__(39),has=__w_pdfjs_require__(20),wrappedWellKnownSymbolModule=__w_pdfjs_require__(149),defineProperty=__w_pdfjs_require__(24).f;module.exports=function(NAME){var Symbol=path.Symbol||(path.Symbol={});has(Symbol,NAME)||defineProperty(Symbol,NAME,{value:wrappedWellKnownSymbolModule.f(NAME)})}},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("asyncIterator")},function(module,exports,__w_pdfjs_require__){var EmptyStringDescriptionStore,SymbolWrapper,symbolToString,native,regexp,$=__w_pdfjs_require__(7),DESCRIPTORS=__w_pdfjs_require__(10),global=__w_pdfjs_require__(8),has=__w_pdfjs_require__(20),isObject=__w_pdfjs_require__(19),defineProperty=__w_pdfjs_require__(24).f,__w_pdfjs_require__=__w_pdfjs_require__(36),NativeSymbol=global.Symbol;!DESCRIPTORS||"function"!=typeof NativeSymbol||"description"in NativeSymbol.prototype&&void 0===NativeSymbol().description||(EmptyStringDescriptionStore={},__w_pdfjs_require__(SymbolWrapper=function(){var description=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),result=this instanceof SymbolWrapper?new NativeSymbol(description):void 0===description?NativeSymbol():NativeSymbol(description);return""===description&&(EmptyStringDescriptionStore[result]=!0),result},NativeSymbol),(global=SymbolWrapper.prototype=NativeSymbol.prototype).constructor=SymbolWrapper,symbolToString=global.toString,native="Symbol(test)"==String(NativeSymbol("test")),regexp=/^Symbol\((.*)\)[^)]+$/,defineProperty(global,"description",{configurable:!0,get:function(){var symbol=isObject(this)?this.valueOf():this,string=symbolToString.call(symbol);return has(EmptyStringDescriptionStore,symbol)?"":""===(symbol=native?string.slice(7,-1):string.replace(regexp,"$1"))?void 0:symbol}}),$({global:!0,forced:!0},{Symbol:SymbolWrapper}))},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("hasInstance")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("isConcatSpreadable")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("iterator")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("match")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("matchAll")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("replace")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("search")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("species")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("split")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("toPrimitive")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("toStringTag")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("unscopables")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(77)(Math,"Math",!0)},function(module,exports,__w_pdfjs_require__){var global=__w_pdfjs_require__(8);__w_pdfjs_require__(77)(global.JSON,"JSON",!0)},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(168);__w_pdfjs_require__=__w_pdfjs_require__(54);module.exports=__w_pdfjs_require__("String","padStart")},function(module,exports,__w_pdfjs_require__){var $=__w_pdfjs_require__(7),$padStart=__w_pdfjs_require__(169).start;$({target:"String",proto:!0,forced:__w_pdfjs_require__(171)},{padStart:function(maxLength){return $padStart(this,maxLength,1<arguments.length?arguments[1]:void 0)}})},function(module,exports,__w_pdfjs_require__){function createMethod(IS_END){return function($this,maxLength,fillString){var $this=String(requireObjectCoercible($this)),stringLength=$this.length,fillString=void 0===fillString?" ":String(fillString),maxLength=toLength(maxLength);return maxLength<=stringLength||""==fillString?$this:((stringLength=repeat.call(fillString,ceil((maxLength=maxLength-stringLength)/fillString.length))).length>maxLength&&(stringLength=stringLength.slice(0,maxLength)),IS_END?$this+stringLength:stringLength+$this)}}var toLength=__w_pdfjs_require__(43),repeat=__w_pdfjs_require__(170),requireObjectCoercible=__w_pdfjs_require__(17),ceil=Math.ceil;module.exports={start:createMethod(!1),end:createMethod(!0)}},function(module,exports,__w_pdfjs_require__){var toInteger=__w_pdfjs_require__(44),requireObjectCoercible=__w_pdfjs_require__(17);module.exports="".repeat||function(count){var str=String(requireObjectCoercible(this)),result="",n=toInteger(count);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;0<n;(n>>>=1)&&(str+=str))1&n&&(result+=str);return result}},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__=__w_pdfjs_require__(114);module.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(__w_pdfjs_require__)},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(173);__w_pdfjs_require__=__w_pdfjs_require__(54);module.exports=__w_pdfjs_require__("String","padEnd")},function(module,exports,__w_pdfjs_require__){var $=__w_pdfjs_require__(7),$padEnd=__w_pdfjs_require__(169).end;$({target:"String",proto:!0,forced:__w_pdfjs_require__(171)},{padEnd:function(maxLength){return $padEnd(this,maxLength,1<arguments.length?arguments[1]:void 0)}})},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(175);__w_pdfjs_require__=__w_pdfjs_require__(39);module.exports=__w_pdfjs_require__.Object.values},function(module,exports,__w_pdfjs_require__){var $=__w_pdfjs_require__(7),$values=__w_pdfjs_require__(176).values;$({target:"Object",stat:!0},{values:function(O){return $values(O)}})},function(module,exports,__w_pdfjs_require__){function createMethod(TO_ENTRIES){return function(it){for(var key,O=toIndexedObject(it),keys=objectKeys(O),length=keys.length,i=0,result=[];i<length;)key=keys[i++],DESCRIPTORS&&!propertyIsEnumerable.call(O,key)||result.push(TO_ENTRIES?[key,O[key]]:O[key]);return result}}var DESCRIPTORS=__w_pdfjs_require__(10),objectKeys=__w_pdfjs_require__(66),toIndexedObject=__w_pdfjs_require__(14),propertyIsEnumerable=__w_pdfjs_require__(12).f;module.exports={entries:createMethod(!0),values:createMethod(!1)}},function(module,exports,__w_pdfjs_require__){var isReadableStreamSupported=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(controller){controller.close()}}),isReadableStreamSupported=!0}catch(e){}exports.ReadableStream=isReadableStreamSupported?ReadableStream:__w_pdfjs_require__(178).ReadableStream},function(__webpack_module__,__webpack_exports__,__w_pdfjs_require__){__w_pdfjs_require__.r(__webpack_exports__),__w_pdfjs_require__.d(__webpack_exports__,"ByteLengthQueuingStrategy",function(){return ByteLengthQueuingStrategy}),__w_pdfjs_require__.d(__webpack_exports__,"CountQueuingStrategy",function(){return CountQueuingStrategy}),__w_pdfjs_require__.d(__webpack_exports__,"ReadableStream",function(){return ReadableStream}),__w_pdfjs_require__.d(__webpack_exports__,"TransformStream",function(){return TransformStream}),__w_pdfjs_require__.d(__webpack_exports__,"WritableStream",function(){return WritableStream});__w_pdfjs_require__="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(description){return"Symbol("+description+")"};function noop(){}var NumberIsNaN=Number.isNaN||function(x){return x!=x};function typeIsObject(x){return"object"==typeof x&&null!==x||"function"==typeof x}function IsFiniteNonNegativeNumber(v){return!1!==(v=>"number"==typeof v&&!(NumberIsNaN(v)||v<0))(v)&&v!==1/0}function Call(F,V,args){if("function"!=typeof F)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(F,V,args)}function CreateAlgorithmFromUnderlyingMethod(underlyingObject,methodName,algoArgCount,extraArgs){var method=underlyingObject[methodName];if(void 0!==method){if("function"!=typeof method)throw new TypeError(method+" is not a method");switch(algoArgCount){case 0:return function(){return PromiseCall(method,underlyingObject,extraArgs)};case 1:return function(arg){arg=[arg].concat(extraArgs);return PromiseCall(method,underlyingObject,arg)}}}return function(){return Promise.resolve()}}function InvokeOrNoop(O,P,args){P=O[P];if(void 0!==P)return Call(P,O,args)}function PromiseCall(F,V,args){try{return Promise.resolve(Call(F,V,args))}catch(value){return Promise.reject(value)}}function IsDetachedBuffer(){return!1}function ValidateAndNormalizeHighWaterMark(highWaterMark){if(highWaterMark=Number(highWaterMark),NumberIsNaN(highWaterMark)||highWaterMark<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return highWaterMark}function MakeSizeAlgorithmFromSizeFunction(size){if(void 0===size)return function(){return 1};if("function"!=typeof size)throw new TypeError("size property of a queuing strategy must be a function");return function(chunk){return size(chunk)}}var SimpleQueue=(()=>{function SimpleQueue(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(SimpleQueue.prototype,"length",{get:function(){return this._size},enumerable:!0,configurable:!0}),SimpleQueue.prototype.push=function(element){var oldBack=this._back,newBack=oldBack;16383===oldBack._elements.length&&(newBack={_elements:[],_next:void 0}),oldBack._elements.push(element),newBack!==oldBack&&(this._back=newBack,oldBack._next=newBack),++this._size},SimpleQueue.prototype.shift=function(){var oldFront=this._front,newFront=oldFront,oldCursor=this._cursor,newCursor=oldCursor+1,elements=oldFront._elements,element=elements[oldCursor];return 16384===newCursor&&(newFront=oldFront._next,newCursor=0),--this._size,this._cursor=newCursor,oldFront!==newFront&&(this._front=newFront),elements[oldCursor]=void 0,element},SimpleQueue.prototype.forEach=function(callback){for(var i=this._cursor,node=this._front,elements=node._elements;!(i===elements.length&&void 0===node._next||i===elements.length&&(i=0)===(elements=(node=node._next)._elements).length);)callback(elements[i]),++i},SimpleQueue.prototype.peek=function(){var front=this._front,cursor=this._cursor;return front._elements[cursor]},SimpleQueue})();function ReadableStreamCreateReadResult(value,done,forAuthorCode){var prototype=null,forAuthorCode=(!0===forAuthorCode&&(prototype=Object.prototype),Object.create(prototype));return forAuthorCode.value=value,forAuthorCode.done=done,forAuthorCode}function ReadableStreamReaderGenericInitialize(reader,stream){reader._forAuthorCode=!0,(reader._ownerReadableStream=stream)._reader=reader,"readable"===stream._state?defaultReaderClosedPromiseInitialize(reader):"closed"===stream._state?(reader=>{defaultReaderClosedPromiseInitialize(reader),defaultReaderClosedPromiseResolve(reader)})(reader):defaultReaderClosedPromiseInitializeAsRejected(reader,stream._storedError)}function ReadableStreamReaderGenericCancel(reader,reason){return ReadableStreamCancel(reader._ownerReadableStream,reason)}function ReadableStreamReaderGenericRelease(reader){("readable"===reader._ownerReadableStream._state?defaultReaderClosedPromiseReject:(reader,reason)=>{defaultReaderClosedPromiseInitializeAsRejected(reader,reason)})(reader,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),reader._ownerReadableStream._reader=void 0,reader._ownerReadableStream=void 0}function readerLockException(name){return new TypeError("Cannot "+name+" a stream using a released reader")}function defaultReaderClosedPromiseInitialize(reader){reader._closedPromise=new Promise(function(resolve,reject){reader._closedPromise_resolve=resolve,reader._closedPromise_reject=reject})}function defaultReaderClosedPromiseInitializeAsRejected(reader,reason){defaultReaderClosedPromiseInitialize(reader),defaultReaderClosedPromiseReject(reader,reason)}function defaultReaderClosedPromiseReject(reader,reason){reader._closedPromise.catch(noop),reader._closedPromise_reject(reason),reader._closedPromise_resolve=void 0,reader._closedPromise_reject=void 0}function defaultReaderClosedPromiseResolve(reader){reader._closedPromise_resolve(void 0),reader._closedPromise_resolve=void 0,reader._closedPromise_reject=void 0}var CancelSteps=__w_pdfjs_require__("[[CancelSteps]]"),PullSteps=__w_pdfjs_require__("[[PullSteps]]");function AcquireReadableStreamDefaultReader(stream,forAuthorCode){void 0===forAuthorCode&&(forAuthorCode=!1);stream=new ReadableStreamDefaultReader(stream);return stream._forAuthorCode=forAuthorCode,stream}function ReadableStreamAddReadRequest(stream){return new Promise(function(resolve,reject){stream._reader._readRequests.push({_resolve:resolve,_reject:reject})})}function ReadableStreamFulfillReadRequest(stream,chunk,done){stream=stream._reader;stream._readRequests.shift()._resolve(ReadableStreamCreateReadResult(chunk,done,stream._forAuthorCode))}function ReadableStreamHasDefaultReader(stream){stream=stream._reader;return void 0!==stream&&!!IsReadableStreamDefaultReader(stream)}var AsyncIteratorPrototype,ReadableStreamDefaultReader=(()=>{function ReadableStreamDefaultReader(stream){if(!1===IsReadableStream(stream))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===IsReadableStreamLocked(stream))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ReadableStreamReaderGenericInitialize(this,stream),this._readRequests=new SimpleQueue}return Object.defineProperty(ReadableStreamDefaultReader.prototype,"closed",{get:function(){return IsReadableStreamDefaultReader(this)?this._closedPromise:Promise.reject(defaultReaderBrandCheckException("closed"))},enumerable:!0,configurable:!0}),ReadableStreamDefaultReader.prototype.cancel=function(reason){return IsReadableStreamDefaultReader(this)?void 0===this._ownerReadableStream?Promise.reject(readerLockException("cancel")):ReadableStreamReaderGenericCancel(this,reason):Promise.reject(defaultReaderBrandCheckException("cancel"))},ReadableStreamDefaultReader.prototype.read=function(){return IsReadableStreamDefaultReader(this)?void 0===this._ownerReadableStream?Promise.reject(readerLockException("read from")):ReadableStreamDefaultReaderRead(this):Promise.reject(defaultReaderBrandCheckException("read"))},ReadableStreamDefaultReader.prototype.releaseLock=function(){if(!IsReadableStreamDefaultReader(this))throw defaultReaderBrandCheckException("releaseLock");if(void 0!==this._ownerReadableStream){if(0<this._readRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ReadableStreamReaderGenericRelease(this)}},ReadableStreamDefaultReader})();function IsReadableStreamDefaultReader(x){return typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_readRequests")}function ReadableStreamDefaultReaderRead(reader){var stream=reader._ownerReadableStream;return stream._disturbed=!0,"closed"===stream._state?Promise.resolve(ReadableStreamCreateReadResult(void 0,!0,reader._forAuthorCode)):"errored"===stream._state?Promise.reject(stream._storedError):stream._readableStreamController[PullSteps]()}function defaultReaderBrandCheckException(name){return new TypeError("ReadableStreamDefaultReader.prototype."+name+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof __w_pdfjs_require__.asyncIterator&&((__webpack_exports__={})[__w_pdfjs_require__.asyncIterator]=function(){return this},AsyncIteratorPrototype=__webpack_exports__,Object.defineProperty(AsyncIteratorPrototype,__w_pdfjs_require__.asyncIterator,{enumerable:!1}));var ReadableStreamAsyncIteratorPrototype={next:function(){var reader;return!1===IsReadableStreamAsyncIterator(this)?Promise.reject(streamAsyncIteratorBrandCheckException("next")):void 0===(reader=this._asyncIteratorReader)._ownerReadableStream?Promise.reject(readerLockException("iterate")):ReadableStreamDefaultReaderRead(reader).then(function(result){var done=result.done;return done&&ReadableStreamReaderGenericRelease(reader),ReadableStreamCreateReadResult(result.value,done,!0)})},return:function(value){var reader,result;return!1===IsReadableStreamAsyncIterator(this)?Promise.reject(streamAsyncIteratorBrandCheckException("next")):void 0===(reader=this._asyncIteratorReader)._ownerReadableStream?Promise.reject(readerLockException("finish iterating")):0<reader._readRequests.length?Promise.reject(new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled")):!1===this._preventCancel?(result=ReadableStreamReaderGenericCancel(reader,value),ReadableStreamReaderGenericRelease(reader),result.then(function(){return ReadableStreamCreateReadResult(value,!0,!0)})):(ReadableStreamReaderGenericRelease(reader),Promise.resolve(ReadableStreamCreateReadResult(value,!0,!0)))}};function IsReadableStreamAsyncIterator(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_asyncIteratorReader")}function streamAsyncIteratorBrandCheckException(name){return new TypeError("ReadableStreamAsyncIterator."+name+" can only be used on a ReadableSteamAsyncIterator")}void 0!==AsyncIteratorPrototype&&Object.setPrototypeOf(ReadableStreamAsyncIteratorPrototype,AsyncIteratorPrototype),Object.defineProperty(ReadableStreamAsyncIteratorPrototype,"next",{enumerable:!1}),Object.defineProperty(ReadableStreamAsyncIteratorPrototype,"return",{enumerable:!1});var rethrowAssertionErrorRejection=noop;function DequeueValue(container){var pair=container._queue.shift();return container._queueTotalSize-=pair.size,container._queueTotalSize<0&&(container._queueTotalSize=0),pair.value}function EnqueueValueWithSize(container,value,size){if(!IsFiniteNonNegativeNumber(size=Number(size)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");container._queue.push({value:value,size:size}),container._queueTotalSize+=size}function ResetQueue(container){container._queue=new SimpleQueue,container._queueTotalSize=0}var AbortSteps=__w_pdfjs_require__("[[AbortSteps]]"),ErrorSteps=__w_pdfjs_require__("[[ErrorSteps]]"),WritableStream=(()=>{function WritableStream(underlyingSink,strategy){void 0===underlyingSink&&(underlyingSink={}),void 0===strategy&&(strategy={}),InitializeWritableStream(this);var size=strategy.size,strategy=strategy.highWaterMark;if(void 0!==underlyingSink.type)throw new RangeError("Invalid type is specified");size=MakeSizeAlgorithmFromSizeFunction(size);((stream,underlyingSink,highWaterMark,sizeAlgorithm)=>{var controller=Object.create(WritableStreamDefaultController.prototype),writeAlgorithm=CreateAlgorithmFromUnderlyingMethod(underlyingSink,"write",1,[controller]),closeAlgorithm=CreateAlgorithmFromUnderlyingMethod(underlyingSink,"close",0,[]),abortAlgorithm=CreateAlgorithmFromUnderlyingMethod(underlyingSink,"abort",1,[]);SetUpWritableStreamDefaultController(stream,controller,function(){return InvokeOrNoop(underlyingSink,"start",[controller])},writeAlgorithm,closeAlgorithm,abortAlgorithm,highWaterMark,sizeAlgorithm)})(this,underlyingSink,strategy=ValidateAndNormalizeHighWaterMark(strategy=void 0===strategy?1:strategy),size)}return Object.defineProperty(WritableStream.prototype,"locked",{get:function(){if(!1===IsWritableStream(this))throw streamBrandCheckException("locked");return IsWritableStreamLocked(this)},enumerable:!0,configurable:!0}),WritableStream.prototype.abort=function(reason){return!1===IsWritableStream(this)?Promise.reject(streamBrandCheckException("abort")):!0===IsWritableStreamLocked(this)?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):WritableStreamAbort(this,reason)},WritableStream.prototype.getWriter=function(){if(!1===IsWritableStream(this))throw streamBrandCheckException("getWriter");return new WritableStreamDefaultWriter(this)},WritableStream})();function AcquireWritableStreamDefaultWriter(stream){return new WritableStreamDefaultWriter(stream)}function InitializeWritableStream(stream){stream._state="writable",stream._storedError=void 0,stream._writer=void 0,stream._writableStreamController=void 0,stream._writeRequests=new SimpleQueue,stream._inFlightWriteRequest=void 0,stream._closeRequest=void 0,stream._inFlightCloseRequest=void 0,stream._pendingAbortRequest=void 0,stream._backpressure=!1}function IsWritableStream(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_writableStreamController")}function IsWritableStreamLocked(stream){return void 0!==stream._writer}function WritableStreamAbort(stream,reason){var wasAlreadyErroring,state=stream._state;return"closed"===state||"errored"===state?Promise.resolve(void 0):void 0!==stream._pendingAbortRequest?stream._pendingAbortRequest._promise:(wasAlreadyErroring=!1,"erroring"===state&&(wasAlreadyErroring=!0,reason=void 0),state=new Promise(function(resolve,reject){stream._pendingAbortRequest={_promise:void 0,_resolve:resolve,_reject:reject,_reason:reason,_wasAlreadyErroring:wasAlreadyErroring}}),stream._pendingAbortRequest._promise=state,!1===wasAlreadyErroring&&WritableStreamStartErroring(stream,reason),state)}function WritableStreamDealWithRejection(stream,error){"writable"===stream._state?WritableStreamStartErroring(stream,error):WritableStreamFinishErroring(stream)}function WritableStreamStartErroring(stream,reason){var controller=stream._writableStreamController,writer=(stream._state="erroring",stream._storedError=reason,stream._writer);void 0!==writer&&WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer,reason),!1===(stream=>void 0!==stream._inFlightWriteRequest||void 0!==stream._inFlightCloseRequest)(stream)&&!0===controller._started&&WritableStreamFinishErroring(stream)}function WritableStreamFinishErroring(stream){stream._state="errored",stream._writableStreamController[ErrorSteps]();var abortRequest,storedError=stream._storedError;stream._writeRequests.forEach(function(writeRequest){writeRequest._reject(storedError)}),stream._writeRequests=new SimpleQueue,void 0===stream._pendingAbortRequest?WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream):(abortRequest=stream._pendingAbortRequest,!(stream._pendingAbortRequest=void 0)===abortRequest._wasAlreadyErroring?(abortRequest._reject(storedError),WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream)):stream._writableStreamController[AbortSteps](abortRequest._reason).then(function(){abortRequest._resolve(),WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream)},function(reason){abortRequest._reject(reason),WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream)}))}function WritableStreamCloseQueuedOrInFlight(stream){return void 0!==stream._closeRequest||void 0!==stream._inFlightCloseRequest}function WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream){void 0!==stream._closeRequest&&(stream._closeRequest._reject(stream._storedError),stream._closeRequest=void 0);var writer=stream._writer;void 0!==writer&&defaultWriterClosedPromiseReject(writer,stream._storedError)}function WritableStreamUpdateBackpressure(stream,backpressure){var writer=stream._writer;void 0!==writer&&backpressure!==stream._backpressure&&(!0===backpressure?writer=>{defaultWriterReadyPromiseInitialize(writer)}:defaultWriterReadyPromiseResolve)(writer),stream._backpressure=backpressure}var WritableStreamDefaultWriter=(()=>{function WritableStreamDefaultWriter(stream){if(!1===IsWritableStream(stream))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(void 0!==stream._writer==!0)throw new TypeError("This stream has already been locked for exclusive writing by another writer");(this._ownerWritableStream=stream)._writer=this;var state=stream._state;"writable"===state?((!1===WritableStreamCloseQueuedOrInFlight(stream)&&!0===stream._backpressure?defaultWriterReadyPromiseInitialize:defaultWriterReadyPromiseInitializeAsResolved)(this),defaultWriterClosedPromiseInitialize(this)):"erroring"===state?(defaultWriterReadyPromiseInitializeAsRejected(this,stream._storedError),defaultWriterClosedPromiseInitialize(this)):"closed"===state?(defaultWriterReadyPromiseInitializeAsResolved(this),defaultWriterClosedPromiseInitialize(state=this),defaultWriterClosedPromiseResolve(state)):(defaultWriterReadyPromiseInitializeAsRejected(this,state=stream._storedError),defaultWriterClosedPromiseInitializeAsRejected(this,state))}return Object.defineProperty(WritableStreamDefaultWriter.prototype,"closed",{get:function(){return!1===IsWritableStreamDefaultWriter(this)?Promise.reject(defaultWriterBrandCheckException("closed")):this._closedPromise},enumerable:!0,configurable:!0}),Object.defineProperty(WritableStreamDefaultWriter.prototype,"desiredSize",{get:function(){if(!1===IsWritableStreamDefaultWriter(this))throw defaultWriterBrandCheckException("desiredSize");if(void 0===this._ownerWritableStream)throw defaultWriterLockException("desiredSize");return writer=(writer=this)._ownerWritableStream,"errored"!==(state=writer._state)&&"erroring"!==state?"closed"!==state?WritableStreamDefaultControllerGetDesiredSize(writer._writableStreamController):0:null;var writer,state},enumerable:!0,configurable:!0}),Object.defineProperty(WritableStreamDefaultWriter.prototype,"ready",{get:function(){return!1===IsWritableStreamDefaultWriter(this)?Promise.reject(defaultWriterBrandCheckException("ready")):this._readyPromise},enumerable:!0,configurable:!0}),WritableStreamDefaultWriter.prototype.abort=function(reason){return!1===IsWritableStreamDefaultWriter(this)?Promise.reject(defaultWriterBrandCheckException("abort")):void 0===this._ownerWritableStream?Promise.reject(defaultWriterLockException("abort")):((writer,reason)=>WritableStreamAbort(writer._ownerWritableStream,reason))(this,reason)},WritableStreamDefaultWriter.prototype.close=function(){var stream;return!1===IsWritableStreamDefaultWriter(this)?Promise.reject(defaultWriterBrandCheckException("close")):void 0===(stream=this._ownerWritableStream)?Promise.reject(defaultWriterLockException("close")):!0===WritableStreamCloseQueuedOrInFlight(stream)?Promise.reject(new TypeError("cannot close an already-closing stream")):WritableStreamDefaultWriterClose(this)},WritableStreamDefaultWriter.prototype.releaseLock=function(){if(!1===IsWritableStreamDefaultWriter(this))throw defaultWriterBrandCheckException("releaseLock");void 0!==this._ownerWritableStream&&WritableStreamDefaultWriterRelease(this)},WritableStreamDefaultWriter.prototype.write=function(chunk){return!1===IsWritableStreamDefaultWriter(this)?Promise.reject(defaultWriterBrandCheckException("write")):void 0===this._ownerWritableStream?Promise.reject(defaultWriterLockException("write to")):WritableStreamDefaultWriterWrite(this,chunk)},WritableStreamDefaultWriter})();function IsWritableStreamDefaultWriter(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_ownerWritableStream")}function WritableStreamDefaultWriterClose(writer){var promise,stream=writer._ownerWritableStream,state=stream._state;return"closed"===state||"errored"===state?Promise.reject(new TypeError("The stream (in "+state+" state) is not in the writable state and cannot be closed")):(promise=new Promise(function(resolve,reject){stream._closeRequest={_resolve:resolve,_reject:reject}}),!0===stream._backpressure&&"writable"===state&&defaultWriterReadyPromiseResolve(writer),EnqueueValueWithSize(state=stream._writableStreamController,"close",0),WritableStreamDefaultControllerAdvanceQueueIfNeeded(state),promise)}function WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer,error){("pending"===writer._closedPromiseState?defaultWriterClosedPromiseReject:(writer,reason)=>{defaultWriterClosedPromiseInitializeAsRejected(writer,reason)})(writer,error)}function WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer,error){("pending"===writer._readyPromiseState?defaultWriterReadyPromiseReject:(writer,reason)=>{defaultWriterReadyPromiseInitializeAsRejected(writer,reason)})(writer,error)}function WritableStreamDefaultWriterRelease(writer){var stream=writer._ownerWritableStream,releasedError=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer,releasedError),WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer,releasedError),stream._writer=void 0,writer._ownerWritableStream=void 0}function WritableStreamDefaultWriterWrite(writer,chunk){var stream=writer._ownerWritableStream,controller=stream._writableStreamController,chunkSize=((controller,chunk)=>{try{return controller._strategySizeAlgorithm(chunk)}catch(chunkSizeE){return WritableStreamDefaultControllerErrorIfNeeded(controller,chunkSizeE),1}})(controller,chunk);return stream!==writer._ownerWritableStream?Promise.reject(defaultWriterLockException("write to")):"errored"===(writer=stream._state)?Promise.reject(stream._storedError):!0===WritableStreamCloseQueuedOrInFlight(stream)||"closed"===writer?Promise.reject(new TypeError("The stream is closing or closed and cannot be written to")):"erroring"===writer?Promise.reject(stream._storedError):(writer=(stream=>new Promise(function(resolve,reject){stream._writeRequests.push({_resolve:resolve,_reject:reject})}))(stream),((controller,chunk,chunkSize)=>{chunk={chunk:chunk};try{EnqueueValueWithSize(controller,chunk,chunkSize)}catch(enqueueE){return WritableStreamDefaultControllerErrorIfNeeded(controller,enqueueE)}!1===WritableStreamCloseQueuedOrInFlight(chunk=controller._controlledWritableStream)&&"writable"===chunk._state&&(chunkSize=WritableStreamDefaultControllerGetBackpressure(controller),WritableStreamUpdateBackpressure(chunk,chunkSize)),WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller)})(controller,chunk,chunkSize),writer)}var WritableStreamDefaultController=(()=>{function WritableStreamDefaultController(){throw new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}return WritableStreamDefaultController.prototype.error=function(e){if(!1==(!!typeIsObject(x=this)&&!!Object.prototype.hasOwnProperty.call(x,"_controlledWritableStream")))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");var x;"writable"===this._controlledWritableStream._state&&WritableStreamDefaultControllerError(this,e)},WritableStreamDefaultController.prototype[AbortSteps]=function(reason){reason=this._abortAlgorithm(reason);return WritableStreamDefaultControllerClearAlgorithms(this),reason},WritableStreamDefaultController.prototype[ErrorSteps]=function(){ResetQueue(this)},WritableStreamDefaultController})();function SetUpWritableStreamDefaultController(stream,controller,startAlgorithm,writeAlgorithm,closeAlgorithm,abortAlgorithm,highWaterMark,sizeAlgorithm){((controller._controlledWritableStream=stream)._writableStreamController=controller)._queue=void 0,controller._queueTotalSize=void 0,ResetQueue(controller),controller._started=!1,controller._strategySizeAlgorithm=sizeAlgorithm,controller._strategyHWM=highWaterMark,controller._writeAlgorithm=writeAlgorithm,controller._closeAlgorithm=closeAlgorithm,controller._abortAlgorithm=abortAlgorithm;sizeAlgorithm=WritableStreamDefaultControllerGetBackpressure(controller),WritableStreamUpdateBackpressure(stream,sizeAlgorithm),highWaterMark=startAlgorithm();Promise.resolve(highWaterMark).then(function(){controller._started=!0,WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller)},function(r){controller._started=!0,WritableStreamDealWithRejection(stream,r)}).catch(rethrowAssertionErrorRejection)}function WritableStreamDefaultControllerClearAlgorithms(controller){controller._writeAlgorithm=void 0,controller._closeAlgorithm=void 0,controller._abortAlgorithm=void 0,controller._strategySizeAlgorithm=void 0}function WritableStreamDefaultControllerGetDesiredSize(controller){return controller._strategyHWM-controller._queueTotalSize}function WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller){var stream=controller._controlledWritableStream;!1!==controller._started&&void 0===stream._inFlightWriteRequest&&("erroring"===stream._state?WritableStreamFinishErroring(stream):0!==controller._queue.length&&("close"===(stream=controller._queue.peek().value)?(controller=>{var stream=controller._controlledWritableStream,sinkClosePromise=((stream=>{stream._inFlightCloseRequest=stream._closeRequest,stream._closeRequest=void 0})(stream),DequeueValue(controller),controller._closeAlgorithm());WritableStreamDefaultControllerClearAlgorithms(controller),sinkClosePromise.then(function(){(stream=>{stream._inFlightCloseRequest._resolve(void 0),stream._inFlightCloseRequest=void 0,"erroring"===stream._state&&(stream._storedError=void 0)!==stream._pendingAbortRequest&&(stream._pendingAbortRequest._resolve(),stream._pendingAbortRequest=void 0),stream._state="closed",void 0!==(stream=stream._writer)&&defaultWriterClosedPromiseResolve(stream)})(stream)},function(reason){((stream,error)=>{stream._inFlightCloseRequest._reject(error),(stream._inFlightCloseRequest=void 0)!==stream._pendingAbortRequest&&(stream._pendingAbortRequest._reject(error),stream._pendingAbortRequest=void 0),WritableStreamDealWithRejection(stream,error)})(stream,reason)}).catch(rethrowAssertionErrorRejection)})(controller):((controller,chunk)=>{var stream=controller._controlledWritableStream;(stream=>{stream._inFlightWriteRequest=stream._writeRequests.shift()})(stream),controller._writeAlgorithm(chunk).then(function(){(stream=>{stream._inFlightWriteRequest._resolve(void 0),stream._inFlightWriteRequest=void 0})(stream);var state=stream._state;DequeueValue(controller),!1===WritableStreamCloseQueuedOrInFlight(stream)&&"writable"===state&&(state=WritableStreamDefaultControllerGetBackpressure(controller),WritableStreamUpdateBackpressure(stream,state)),WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller)},function(reason){"writable"===stream._state&&WritableStreamDefaultControllerClearAlgorithms(controller),((stream,error)=>{stream._inFlightWriteRequest._reject(error),stream._inFlightWriteRequest=void 0,WritableStreamDealWithRejection(stream,error)})(stream,reason)}).catch(rethrowAssertionErrorRejection)})(controller,stream.chunk)))}function WritableStreamDefaultControllerErrorIfNeeded(controller,error){"writable"===controller._controlledWritableStream._state&&WritableStreamDefaultControllerError(controller,error)}function WritableStreamDefaultControllerGetBackpressure(controller){return WritableStreamDefaultControllerGetDesiredSize(controller)<=0}function WritableStreamDefaultControllerError(controller,error){var stream=controller._controlledWritableStream;WritableStreamDefaultControllerClearAlgorithms(controller),WritableStreamStartErroring(stream,error)}function streamBrandCheckException(name){return new TypeError("WritableStream.prototype."+name+" can only be used on a WritableStream")}function defaultWriterBrandCheckException(name){return new TypeError("WritableStreamDefaultWriter.prototype."+name+" can only be used on a WritableStreamDefaultWriter")}function defaultWriterLockException(name){return new TypeError("Cannot "+name+" a stream using a released writer")}function defaultWriterClosedPromiseInitialize(writer){writer._closedPromise=new Promise(function(resolve,reject){writer._closedPromise_resolve=resolve,writer._closedPromise_reject=reject,writer._closedPromiseState="pending"})}function defaultWriterClosedPromiseInitializeAsRejected(writer,reason){defaultWriterClosedPromiseInitialize(writer),defaultWriterClosedPromiseReject(writer,reason)}function defaultWriterClosedPromiseReject(writer,reason){writer._closedPromise.catch(noop),writer._closedPromise_reject(reason),writer._closedPromise_resolve=void 0,writer._closedPromise_reject=void 0,writer._closedPromiseState="rejected"}function defaultWriterClosedPromiseResolve(writer){writer._closedPromise_resolve(void 0),writer._closedPromise_resolve=void 0,writer._closedPromise_reject=void 0,writer._closedPromiseState="resolved"}function defaultWriterReadyPromiseInitialize(writer){writer._readyPromise=new Promise(function(resolve,reject){writer._readyPromise_resolve=resolve,writer._readyPromise_reject=reject}),writer._readyPromiseState="pending"}function defaultWriterReadyPromiseInitializeAsRejected(writer,reason){defaultWriterReadyPromiseInitialize(writer),defaultWriterReadyPromiseReject(writer,reason)}function defaultWriterReadyPromiseInitializeAsResolved(writer){defaultWriterReadyPromiseInitialize(writer),defaultWriterReadyPromiseResolve(writer)}function defaultWriterReadyPromiseReject(writer,reason){writer._readyPromise.catch(noop),writer._readyPromise_reject(reason),writer._readyPromise_resolve=void 0,writer._readyPromise_reject=void 0,writer._readyPromiseState="rejected"}function defaultWriterReadyPromiseResolve(writer){writer._readyPromise_resolve(void 0),writer._readyPromise_resolve=void 0,writer._readyPromise_reject=void 0,writer._readyPromiseState="fulfilled"}function ReadableStreamPipeTo(source,dest,preventClose,preventAbort,preventCancel,signal){var reader=AcquireReadableStreamDefaultReader(source),writer=AcquireWritableStreamDefaultWriter(dest),shuttingDown=!1,currentWrite=Promise.resolve();return new Promise(function(resolve,reject){var abortAlgorithm,promise,action,destClosed_1;if(void 0!==signal){if(abortAlgorithm=function(){var error=new DOMException("Aborted","AbortError"),actions=[];!1===preventAbort&&actions.push(function(){return"writable"===dest._state?WritableStreamAbort(dest,error):Promise.resolve()}),!1===preventCancel&&actions.push(function(){return"readable"===source._state?ReadableStreamCancel(source,error):Promise.resolve()}),shutdownWithAction(function(){return Promise.all(actions.map(function(action){return action()}))},!0,error)},!0===signal.aborted)return void abortAlgorithm();signal.addEventListener("abort",abortAlgorithm)}function waitForWritesToFinish(){var oldCurrentWrite=currentWrite;return currentWrite.then(function(){return oldCurrentWrite!==currentWrite?waitForWritesToFinish():void 0})}function isOrBecomesErrored(stream,promise,action){"errored"===stream._state?action(stream._storedError):promise.catch(action).catch(rethrowAssertionErrorRejection)}function shutdownWithAction(action,originalIsError,originalError){function doTheRest(){action().then(function(){return finalize(originalIsError,originalError)},function(newError){return finalize(!0,newError)}).catch(rethrowAssertionErrorRejection)}!0!==shuttingDown&&(shuttingDown=!0,"writable"===dest._state&&!1===WritableStreamCloseQueuedOrInFlight(dest)?waitForWritesToFinish().then(doTheRest):doTheRest())}function shutdown(isError,error){!0!==shuttingDown&&(shuttingDown=!0,"writable"===dest._state&&!1===WritableStreamCloseQueuedOrInFlight(dest)?waitForWritesToFinish().then(function(){return finalize(isError,error)}).catch(rethrowAssertionErrorRejection):finalize(isError,error))}function finalize(isError,error){WritableStreamDefaultWriterRelease(writer),ReadableStreamReaderGenericRelease(reader),void 0!==signal&&signal.removeEventListener("abort",abortAlgorithm),isError?reject(error):resolve(void 0)}isOrBecomesErrored(source,reader._closedPromise,function(storedError){!1===preventAbort?shutdownWithAction(function(){return WritableStreamAbort(dest,storedError)},!0,storedError):shutdown(!0,storedError)}),isOrBecomesErrored(dest,writer._closedPromise,function(storedError){!1===preventCancel?shutdownWithAction(function(){return ReadableStreamCancel(source,storedError)},!0,storedError):shutdown(!0,storedError)}),promise=reader._closedPromise,action=function(){!1===preventClose?shutdownWithAction(function(){return(writer=>{var stream=writer._ownerWritableStream,state=stream._state;return!0===WritableStreamCloseQueuedOrInFlight(stream)||"closed"===state?Promise.resolve():"errored"===state?Promise.reject(stream._storedError):WritableStreamDefaultWriterClose(writer)})(writer)}):shutdown()},"closed"===source._state?action():promise.then(action).catch(rethrowAssertionErrorRejection),!0!==WritableStreamCloseQueuedOrInFlight(dest)&&"closed"!==dest._state||(destClosed_1=new TypeError("the destination writable stream closed before all data could be piped to it"),!1===preventCancel?shutdownWithAction(function(){return ReadableStreamCancel(source,destClosed_1)},!0,destClosed_1):shutdown(!0,destClosed_1)),new Promise(function(resolveLoop,rejectLoop){!function next(done){done?resolveLoop():(!0!==shuttingDown?writer._readyPromise.then(function(){return ReadableStreamDefaultReaderRead(reader).then(function(_a){var value=_a.value;return!0===_a.done||(currentWrite=WritableStreamDefaultWriterWrite(writer,value).catch(noop),!1)})}):Promise.resolve(!0)).then(next,rejectLoop)}(!1)}).catch(rethrowAssertionErrorRejection)})}var ReadableStreamDefaultController=(()=>{function ReadableStreamDefaultController(){throw new TypeError}return Object.defineProperty(ReadableStreamDefaultController.prototype,"desiredSize",{get:function(){if(!1===IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException("desiredSize");return ReadableStreamDefaultControllerGetDesiredSize(this)},enumerable:!0,configurable:!0}),ReadableStreamDefaultController.prototype.close=function(){if(!1===IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException("close");if(!1===ReadableStreamDefaultControllerCanCloseOrEnqueue(this))throw new TypeError("The stream is not in a state that permits close");ReadableStreamDefaultControllerClose(this)},ReadableStreamDefaultController.prototype.enqueue=function(chunk){if(!1===IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException("enqueue");if(!1===ReadableStreamDefaultControllerCanCloseOrEnqueue(this))throw new TypeError("The stream is not in a state that permits enqueue");return ReadableStreamDefaultControllerEnqueue(this,chunk)},ReadableStreamDefaultController.prototype.error=function(e){if(!1===IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException("error");ReadableStreamDefaultControllerError(this,e)},ReadableStreamDefaultController.prototype[CancelSteps]=function(reason){ResetQueue(this);reason=this._cancelAlgorithm(reason);return ReadableStreamDefaultControllerClearAlgorithms(this),reason},ReadableStreamDefaultController.prototype[PullSteps]=function(){var chunk,stream=this._controlledReadableStream;return 0<this._queue.length?(chunk=DequeueValue(this),!0===this._closeRequested&&0===this._queue.length?(ReadableStreamDefaultControllerClearAlgorithms(this),ReadableStreamClose(stream)):ReadableStreamDefaultControllerCallPullIfNeeded(this),Promise.resolve(ReadableStreamCreateReadResult(chunk,!1,stream._reader._forAuthorCode))):(chunk=ReadableStreamAddReadRequest(stream),ReadableStreamDefaultControllerCallPullIfNeeded(this),chunk)},ReadableStreamDefaultController})();function IsReadableStreamDefaultController(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_controlledReadableStream")}function ReadableStreamDefaultControllerCallPullIfNeeded(controller){!1!==ReadableStreamDefaultControllerShouldCallPull(controller)&&(!0===controller._pulling?controller._pullAgain=!0:(controller._pulling=!0,controller._pullAlgorithm().then(function(){!(controller._pulling=!1)===controller._pullAgain&&(controller._pullAgain=!1,ReadableStreamDefaultControllerCallPullIfNeeded(controller))},function(e){ReadableStreamDefaultControllerError(controller,e)}).catch(rethrowAssertionErrorRejection)))}function ReadableStreamDefaultControllerShouldCallPull(controller){var stream=controller._controlledReadableStream;return!1!==ReadableStreamDefaultControllerCanCloseOrEnqueue(controller)&&!1!==controller._started&&(!0===IsReadableStreamLocked(stream)&&0<stream._reader._readRequests.length||0<ReadableStreamDefaultControllerGetDesiredSize(controller))}function ReadableStreamDefaultControllerClearAlgorithms(controller){controller._pullAlgorithm=void 0,controller._cancelAlgorithm=void 0,controller._strategySizeAlgorithm=void 0}function ReadableStreamDefaultControllerClose(controller){var stream=controller._controlledReadableStream;controller._closeRequested=!0,0===controller._queue.length&&(ReadableStreamDefaultControllerClearAlgorithms(controller),ReadableStreamClose(stream))}function ReadableStreamDefaultControllerEnqueue(controller,chunk){var stream=controller._controlledReadableStream;if(!0===IsReadableStreamLocked(stream)&&0<stream._reader._readRequests.length)ReadableStreamFulfillReadRequest(stream,chunk,!1);else{stream=void 0;try{stream=controller._strategySizeAlgorithm(chunk)}catch(chunkSizeE){throw ReadableStreamDefaultControllerError(controller,chunkSizeE),chunkSizeE}try{EnqueueValueWithSize(controller,chunk,stream)}catch(enqueueE){throw ReadableStreamDefaultControllerError(controller,enqueueE),enqueueE}}ReadableStreamDefaultControllerCallPullIfNeeded(controller)}function ReadableStreamDefaultControllerError(controller,e){var stream=controller._controlledReadableStream;"readable"===stream._state&&(ResetQueue(controller),ReadableStreamDefaultControllerClearAlgorithms(controller),ReadableStreamError(stream,e))}function ReadableStreamDefaultControllerGetDesiredSize(controller){var state=controller._controlledReadableStream._state;return"errored"===state?null:"closed"===state?0:controller._strategyHWM-controller._queueTotalSize}function ReadableStreamDefaultControllerCanCloseOrEnqueue(controller){var state=controller._controlledReadableStream._state;return!1===controller._closeRequested&&"readable"===state}function SetUpReadableStreamDefaultController(stream,controller,startAlgorithm,pullAlgorithm,cancelAlgorithm,highWaterMark,sizeAlgorithm){controller._controlledReadableStream=stream,controller._queue=void 0,controller._queueTotalSize=void 0,ResetQueue(controller),controller._started=!1,controller._closeRequested=!1,controller._pullAgain=!1,controller._pulling=!1,controller._strategySizeAlgorithm=sizeAlgorithm,controller._strategyHWM=highWaterMark,controller._pullAlgorithm=pullAlgorithm,controller._cancelAlgorithm=cancelAlgorithm,stream._readableStreamController=controller;sizeAlgorithm=startAlgorithm();Promise.resolve(sizeAlgorithm).then(function(){controller._started=!0,ReadableStreamDefaultControllerCallPullIfNeeded(controller)},function(r){ReadableStreamDefaultControllerError(controller,r)}).catch(rethrowAssertionErrorRejection)}function defaultControllerBrandCheckException(name){return new TypeError("ReadableStreamDefaultController.prototype."+name+" can only be used on a ReadableStreamDefaultController")}function ReadableStreamTee(stream){var reason1,reason2,branch1,branch2,resolveCancelPromise,reader=AcquireReadableStreamDefaultReader(stream),reading=!1,canceled1=!1,canceled2=!1,cancelPromise=new Promise(function(resolve){resolveCancelPromise=resolve});function pullAlgorithm(){return!0!==reading&&(reading=!0,ReadableStreamDefaultReaderRead(reader).then(function(result){var value2;!(reading=!1)===result.done?(!1===canceled1&&ReadableStreamDefaultControllerClose(branch1._readableStreamController),!1===canceled2&&ReadableStreamDefaultControllerClose(branch2._readableStreamController)):(value2=result=result.value,!1===canceled1&&ReadableStreamDefaultControllerEnqueue(branch1._readableStreamController,result),!1===canceled2&&ReadableStreamDefaultControllerEnqueue(branch2._readableStreamController,value2))}).catch(rethrowAssertionErrorRejection)),Promise.resolve()}function startAlgorithm(){}return branch1=CreateReadableStream(startAlgorithm,pullAlgorithm,function(reason){return reason1=reason,(canceled1=!0)===canceled2&&(reason=[reason1,reason2].slice(),reason=ReadableStreamCancel(stream,reason),resolveCancelPromise(reason)),cancelPromise}),branch2=CreateReadableStream(startAlgorithm,pullAlgorithm,function(reason){return reason2=reason,(canceled2=!0)===canceled1&&(reason=[reason1,reason2].slice(),reason=ReadableStreamCancel(stream,reason),resolveCancelPromise(reason)),cancelPromise}),reader._closedPromise.catch(function(r){ReadableStreamDefaultControllerError(branch1._readableStreamController,r),ReadableStreamDefaultControllerError(branch2._readableStreamController,r)}),[branch1,branch2]}var NumberIsInteger=Number.isInteger||function(value){return"number"==typeof value&&isFinite(value)&&Math.floor(value)===value},ReadableStreamBYOBRequest=(()=>{function ReadableStreamBYOBRequest(){throw new TypeError("ReadableStreamBYOBRequest cannot be used directly")}return Object.defineProperty(ReadableStreamBYOBRequest.prototype,"view",{get:function(){if(!1===IsReadableStreamBYOBRequest(this))throw byobRequestBrandCheckException("view");return this._view},enumerable:!0,configurable:!0}),ReadableStreamBYOBRequest.prototype.respond=function(bytesWritten){if(!1===IsReadableStreamBYOBRequest(this))throw byobRequestBrandCheckException("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");IsDetachedBuffer(this._view.buffer),((controller,bytesWritten)=>{if(!1===IsFiniteNonNegativeNumber(bytesWritten=Number(bytesWritten)))throw new RangeError("bytesWritten must be a finite");ReadableByteStreamControllerRespondInternal(controller,bytesWritten)})(this._associatedReadableByteStreamController,bytesWritten)},ReadableStreamBYOBRequest.prototype.respondWithNewView=function(view){if(!1===IsReadableStreamBYOBRequest(this))throw byobRequestBrandCheckException("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(view))throw new TypeError("You can only respond with array buffer views");IsDetachedBuffer(view.buffer),((controller,view)=>{var firstDescriptor=controller._pendingPullIntos.peek();if(firstDescriptor.byteOffset+firstDescriptor.bytesFilled!==view.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(firstDescriptor.byteLength!==view.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");firstDescriptor.buffer=view.buffer,ReadableByteStreamControllerRespondInternal(controller,view.byteLength)})(this._associatedReadableByteStreamController,view)},ReadableStreamBYOBRequest})(),ReadableByteStreamController=(()=>{function ReadableByteStreamController(){throw new TypeError("ReadableByteStreamController constructor cannot be used directly")}return Object.defineProperty(ReadableByteStreamController.prototype,"byobRequest",{get:function(){if(!1===IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("byobRequest");var firstDescriptor,byobRequest;return void 0===this._byobRequest&&0<this._pendingPullIntos.length&&(firstDescriptor=this._pendingPullIntos.peek(),firstDescriptor=new Uint8Array(firstDescriptor.buffer,firstDescriptor.byteOffset+firstDescriptor.bytesFilled,firstDescriptor.byteLength-firstDescriptor.bytesFilled),((request,controller,view)=>{request._associatedReadableByteStreamController=controller,request._view=view})(byobRequest=Object.create(ReadableStreamBYOBRequest.prototype),this,firstDescriptor),this._byobRequest=byobRequest),this._byobRequest},enumerable:!0,configurable:!0}),Object.defineProperty(ReadableByteStreamController.prototype,"desiredSize",{get:function(){if(!1===IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("desiredSize");return ReadableByteStreamControllerGetDesiredSize(this)},enumerable:!0,configurable:!0}),ReadableByteStreamController.prototype.close=function(){if(!1===IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var state=this._controlledReadableByteStream._state;if("readable"!==state)throw new TypeError("The stream (in "+state+" state) is not in the readable state and cannot be closed");var e,state=this,stream=state._controlledReadableByteStream;if(0<state._queueTotalSize)state._closeRequested=!0;else{if(0<state._pendingPullIntos.length)if(0<state._pendingPullIntos.peek().bytesFilled)throw e=new TypeError("Insufficient bytes to fill elements in the given buffer"),ReadableByteStreamControllerError(state,e),e;ReadableByteStreamControllerClearAlgorithms(state),ReadableStreamClose(stream)}},ReadableByteStreamController.prototype.enqueue=function(chunk){if(!1===IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var state=this._controlledReadableByteStream._state;if("readable"!==state)throw new TypeError("The stream (in "+state+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(chunk))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");IsDetachedBuffer(chunk.buffer),((controller,chunk)=>{var transferredView,stream=controller._controlledReadableByteStream,buffer=chunk.buffer,byteOffset=chunk.byteOffset,chunk=chunk.byteLength;!0===ReadableStreamHasDefaultReader(stream)?0===stream._reader._readRequests.length?ReadableByteStreamControllerEnqueueChunkToQueue(controller,buffer,byteOffset,chunk):(transferredView=new Uint8Array(buffer,byteOffset,chunk),ReadableStreamFulfillReadRequest(stream,transferredView,!1)):!0===ReadableStreamHasBYOBReader(stream)?(ReadableByteStreamControllerEnqueueChunkToQueue(controller,buffer,byteOffset,chunk),ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller)):ReadableByteStreamControllerEnqueueChunkToQueue(controller,buffer,byteOffset,chunk),ReadableByteStreamControllerCallPullIfNeeded(controller)})(this,chunk)},ReadableByteStreamController.prototype.error=function(e){if(!1===IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("error");ReadableByteStreamControllerError(this,e)},ReadableByteStreamController.prototype[CancelSteps]=function(reason){0<this._pendingPullIntos.length&&(this._pendingPullIntos.peek().bytesFilled=0),ResetQueue(this);reason=this._cancelAlgorithm(reason);return ReadableByteStreamControllerClearAlgorithms(this),reason},ReadableByteStreamController.prototype[PullSteps]=function(){var stream=this._controlledReadableByteStream;if(0<this._queueTotalSize){var entry=this._queue.shift(),view=(this._queueTotalSize-=entry.byteLength,ReadableByteStreamControllerHandleQueueDrain(this),void 0);try{view=new Uint8Array(entry.buffer,entry.byteOffset,entry.byteLength)}catch(viewE){return Promise.reject(viewE)}return Promise.resolve(ReadableStreamCreateReadResult(view,!1,stream._reader._forAuthorCode))}entry=this._autoAllocateChunkSize;if(void 0!==entry){view=void 0;try{view=new ArrayBuffer(entry)}catch(bufferE){return Promise.reject(bufferE)}view={buffer:view,byteOffset:0,byteLength:entry,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(view)}entry=ReadableStreamAddReadRequest(stream);return ReadableByteStreamControllerCallPullIfNeeded(this),entry},ReadableByteStreamController})();function IsReadableByteStreamController(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_controlledReadableByteStream")}function IsReadableStreamBYOBRequest(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_associatedReadableByteStreamController")}function ReadableByteStreamControllerCallPullIfNeeded(controller){!1!==(controller=>{var stream=controller._controlledReadableByteStream;if("readable"===stream._state&&!0!==controller._closeRequested&&!1!==controller._started){if(!0===ReadableStreamHasDefaultReader(stream)&&0<stream._reader._readRequests.length)return!0;if(!0===ReadableStreamHasBYOBReader(stream)&&0<stream._reader._readIntoRequests.length)return!0;if(0<ReadableByteStreamControllerGetDesiredSize(controller))return!0}return!1})(controller)&&(!0===controller._pulling?controller._pullAgain=!0:(controller._pulling=!0,controller._pullAlgorithm().then(function(){!(controller._pulling=!1)===controller._pullAgain&&(controller._pullAgain=!1,ReadableByteStreamControllerCallPullIfNeeded(controller))},function(e){ReadableByteStreamControllerError(controller,e)}).catch(rethrowAssertionErrorRejection)))}function ReadableByteStreamControllerCommitPullIntoDescriptor(stream,pullIntoDescriptor){var done=!1,filledView=("closed"===stream._state&&(done=!0),ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor));("default"===pullIntoDescriptor.readerType?ReadableStreamFulfillReadRequest:(stream,chunk,done)=>{(stream=stream._reader)._readIntoRequests.shift()._resolve(ReadableStreamCreateReadResult(chunk,done,stream._forAuthorCode))})(stream,filledView,done)}function ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor){var bytesFilled=pullIntoDescriptor.bytesFilled;return new pullIntoDescriptor.ctor(pullIntoDescriptor.buffer,pullIntoDescriptor.byteOffset,bytesFilled/pullIntoDescriptor.elementSize)}function ReadableByteStreamControllerEnqueueChunkToQueue(controller,buffer,byteOffset,byteLength){controller._queue.push({buffer:buffer,byteOffset:byteOffset,byteLength:byteLength}),controller._queueTotalSize+=byteLength}function ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller,pullIntoDescriptor){for(var dest,src,srcOffset,n,elementSize=pullIntoDescriptor.elementSize,currentAlignedBytes=pullIntoDescriptor.bytesFilled-pullIntoDescriptor.bytesFilled%elementSize,maxBytesToCopy=Math.min(controller._queueTotalSize,pullIntoDescriptor.byteLength-pullIntoDescriptor.bytesFilled),maxBytesFilled=pullIntoDescriptor.bytesFilled+maxBytesToCopy,maxBytesFilled=maxBytesFilled-maxBytesFilled%elementSize,totalBytesToCopyRemaining=maxBytesToCopy,elementSize=!1,queue=(currentAlignedBytes<maxBytesFilled&&(totalBytesToCopyRemaining=maxBytesFilled-pullIntoDescriptor.bytesFilled,elementSize=!0),controller._queue);0<totalBytesToCopyRemaining;){var headOfQueue=queue.peek(),bytesToCopy=Math.min(totalBytesToCopyRemaining,headOfQueue.byteLength),destStart=pullIntoDescriptor.byteOffset+pullIntoDescriptor.bytesFilled;dest=pullIntoDescriptor.buffer,destStart=destStart,src=headOfQueue.buffer,srcOffset=headOfQueue.byteOffset,n=bytesToCopy,new Uint8Array(dest).set(new Uint8Array(src,srcOffset,n),destStart),headOfQueue.byteLength===bytesToCopy?queue.shift():(headOfQueue.byteOffset+=bytesToCopy,headOfQueue.byteLength-=bytesToCopy),controller._queueTotalSize-=bytesToCopy,ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller,bytesToCopy,pullIntoDescriptor),totalBytesToCopyRemaining-=bytesToCopy}return elementSize}function ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller,size,pullIntoDescriptor){ReadableByteStreamControllerInvalidateBYOBRequest(controller),pullIntoDescriptor.bytesFilled+=size}function ReadableByteStreamControllerHandleQueueDrain(controller){0===controller._queueTotalSize&&!0===controller._closeRequested?(ReadableByteStreamControllerClearAlgorithms(controller),ReadableStreamClose(controller._controlledReadableByteStream)):ReadableByteStreamControllerCallPullIfNeeded(controller)}function ReadableByteStreamControllerInvalidateBYOBRequest(controller){void 0!==controller._byobRequest&&(controller._byobRequest._associatedReadableByteStreamController=void 0,controller._byobRequest._view=void 0,controller._byobRequest=void 0)}function ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller){for(;0<controller._pendingPullIntos.length;){if(0===controller._queueTotalSize)return;var pullIntoDescriptor=controller._pendingPullIntos.peek();!0===ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller,pullIntoDescriptor)&&(ReadableByteStreamControllerShiftPendingPullInto(controller),ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableByteStream,pullIntoDescriptor))}}function ReadableByteStreamControllerRespondInternal(controller,bytesWritten){var firstDescriptor=controller._pendingPullIntos.peek();if("closed"===controller._controlledReadableByteStream._state){if(0!==bytesWritten)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");((controller,firstDescriptor)=>{firstDescriptor.buffer=firstDescriptor.buffer;var stream=controller._controlledReadableByteStream;if(!0===ReadableStreamHasBYOBReader(stream))for(;0<stream._reader._readIntoRequests.length;)ReadableByteStreamControllerCommitPullIntoDescriptor(stream,ReadableByteStreamControllerShiftPendingPullInto(controller))})(controller,firstDescriptor)}else((controller,bytesWritten,pullIntoDescriptor)=>{if(pullIntoDescriptor.bytesFilled+bytesWritten>pullIntoDescriptor.byteLength)throw new RangeError("bytesWritten out of range");var end;ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller,bytesWritten,pullIntoDescriptor),pullIntoDescriptor.bytesFilled<pullIntoDescriptor.elementSize||(ReadableByteStreamControllerShiftPendingPullInto(controller),0<(bytesWritten=pullIntoDescriptor.bytesFilled%pullIntoDescriptor.elementSize)&&(end=pullIntoDescriptor.byteOffset+pullIntoDescriptor.bytesFilled,ReadableByteStreamControllerEnqueueChunkToQueue(controller,end=pullIntoDescriptor.buffer.slice(end-bytesWritten,end),0,end.byteLength)),pullIntoDescriptor.buffer=pullIntoDescriptor.buffer,pullIntoDescriptor.bytesFilled-=bytesWritten,ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableByteStream,pullIntoDescriptor),ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller))})(controller,bytesWritten,firstDescriptor);ReadableByteStreamControllerCallPullIfNeeded(controller)}function ReadableByteStreamControllerShiftPendingPullInto(controller){var descriptor=controller._pendingPullIntos.shift();return ReadableByteStreamControllerInvalidateBYOBRequest(controller),descriptor}function ReadableByteStreamControllerClearAlgorithms(controller){controller._pullAlgorithm=void 0,controller._cancelAlgorithm=void 0}function ReadableByteStreamControllerError(controller,e){var stream=controller._controlledReadableByteStream;"readable"===stream._state&&((controller=>{ReadableByteStreamControllerInvalidateBYOBRequest(controller),controller._pendingPullIntos=new SimpleQueue})(controller),ResetQueue(controller),ReadableByteStreamControllerClearAlgorithms(controller),ReadableStreamError(stream,e))}function ReadableByteStreamControllerGetDesiredSize(controller){var state=controller._controlledReadableByteStream._state;return"errored"===state?null:"closed"===state?0:controller._strategyHWM-controller._queueTotalSize}function SetUpReadableByteStreamControllerFromUnderlyingSource(stream,underlyingByteSource,highWaterMark){var controller=Object.create(ReadableByteStreamController.prototype);var pullAlgorithm=CreateAlgorithmFromUnderlyingMethod(underlyingByteSource,"pull",0,[controller]),cancelAlgorithm=CreateAlgorithmFromUnderlyingMethod(underlyingByteSource,"cancel",1,[]),autoAllocateChunkSize=underlyingByteSource.autoAllocateChunkSize;if(void 0!==autoAllocateChunkSize&&(autoAllocateChunkSize=Number(autoAllocateChunkSize),!1===NumberIsInteger(autoAllocateChunkSize)||autoAllocateChunkSize<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");((stream,controller,startAlgorithm,pullAlgorithm,cancelAlgorithm,highWaterMark,autoAllocateChunkSize)=>{controller._controlledReadableByteStream=stream,controller._pullAgain=!1,controller._pulling=!1,controller._byobRequest=void 0,controller._queue=controller._queueTotalSize=void 0,ResetQueue(controller),controller._closeRequested=!1,controller._started=!1,controller._strategyHWM=ValidateAndNormalizeHighWaterMark(highWaterMark),controller._pullAlgorithm=pullAlgorithm,controller._cancelAlgorithm=cancelAlgorithm,controller._autoAllocateChunkSize=autoAllocateChunkSize,controller._pendingPullIntos=new SimpleQueue,stream._readableStreamController=controller,highWaterMark=startAlgorithm(),Promise.resolve(highWaterMark).then(function(){controller._started=!0,ReadableByteStreamControllerCallPullIfNeeded(controller)},function(r){ReadableByteStreamControllerError(controller,r)}).catch(rethrowAssertionErrorRejection)})(stream,controller,function(){return InvokeOrNoop(underlyingByteSource,"start",[controller])},pullAlgorithm,cancelAlgorithm,highWaterMark,autoAllocateChunkSize)}function byobRequestBrandCheckException(name){return new TypeError("ReadableStreamBYOBRequest.prototype."+name+" can only be used on a ReadableStreamBYOBRequest")}function byteStreamControllerBrandCheckException(name){return new TypeError("ReadableByteStreamController.prototype."+name+" can only be used on a ReadableByteStreamController")}function ReadableStreamAddReadIntoRequest(stream){return new Promise(function(resolve,reject){stream._reader._readIntoRequests.push({_resolve:resolve,_reject:reject})})}function ReadableStreamHasBYOBReader(stream){stream=stream._reader;return void 0!==stream&&!!IsReadableStreamBYOBReader(stream)}var ReadableStreamBYOBReader=(()=>{function ReadableStreamBYOBReader(stream){if(!IsReadableStream(stream))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===IsReadableByteStreamController(stream._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(IsReadableStreamLocked(stream))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ReadableStreamReaderGenericInitialize(this,stream),this._readIntoRequests=new SimpleQueue}return Object.defineProperty(ReadableStreamBYOBReader.prototype,"closed",{get:function(){return IsReadableStreamBYOBReader(this)?this._closedPromise:Promise.reject(byobReaderBrandCheckException("closed"))},enumerable:!0,configurable:!0}),ReadableStreamBYOBReader.prototype.cancel=function(reason){return IsReadableStreamBYOBReader(this)?void 0===this._ownerReadableStream?Promise.reject(readerLockException("cancel")):ReadableStreamReaderGenericCancel(this,reason):Promise.reject(byobReaderBrandCheckException("cancel"))},ReadableStreamBYOBReader.prototype.read=function(view){return IsReadableStreamBYOBReader(this)?void 0===this._ownerReadableStream?Promise.reject(readerLockException("read from")):ArrayBuffer.isView(view)?(IsDetachedBuffer(view.buffer),0===view.byteLength?Promise.reject(new TypeError("view must have non-zero byteLength")):((reader,view)=>((reader=reader._ownerReadableStream)._disturbed=!0,"errored"!==reader._state?((controller,view)=>{var stream=controller._controlledReadableByteStream,elementSize=1,ctor=(view.constructor!==DataView&&(elementSize=view.constructor.BYTES_PER_ELEMENT),view.constructor),view={buffer:view.buffer,byteOffset:view.byteOffset,byteLength:view.byteLength,bytesFilled:0,elementSize:elementSize,ctor:ctor,readerType:"byob"};if(0<controller._pendingPullIntos.length)return controller._pendingPullIntos.push(view),ReadableStreamAddReadIntoRequest(stream);if("closed"===stream._state)return elementSize=new ctor(view.buffer,view.byteOffset,0),Promise.resolve(ReadableStreamCreateReadResult(elementSize,!0,stream._reader._forAuthorCode));if(0<controller._queueTotalSize){if(!0===ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller,view))return ctor=ReadableByteStreamControllerConvertPullIntoDescriptor(view),ReadableByteStreamControllerHandleQueueDrain(controller),Promise.resolve(ReadableStreamCreateReadResult(ctor,!1,stream._reader._forAuthorCode));if(!0===controller._closeRequested)return ReadableByteStreamControllerError(controller,elementSize=new TypeError("Insufficient bytes to fill elements in the given buffer")),Promise.reject(elementSize)}return controller._pendingPullIntos.push(view),ctor=ReadableStreamAddReadIntoRequest(stream),ReadableByteStreamControllerCallPullIfNeeded(controller),ctor})(reader._readableStreamController,view):Promise.reject(reader._storedError)))(this,view)):Promise.reject(new TypeError("view must be an array buffer view")):Promise.reject(byobReaderBrandCheckException("read"))},ReadableStreamBYOBReader.prototype.releaseLock=function(){if(!IsReadableStreamBYOBReader(this))throw byobReaderBrandCheckException("releaseLock");if(void 0!==this._ownerReadableStream){if(0<this._readIntoRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ReadableStreamReaderGenericRelease(this)}},ReadableStreamBYOBReader})();function IsReadableStreamBYOBReader(x){return typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_readIntoRequests")}function byobReaderBrandCheckException(name){return new TypeError("ReadableStreamBYOBReader.prototype."+name+" can only be used on a ReadableStreamBYOBReader")}var ReadableStream=(()=>{function ReadableStream(underlyingSource,strategy){void 0===underlyingSource&&(underlyingSource={}),void 0===strategy&&(strategy={}),InitializeReadableStream(this);var size=strategy.size,strategy=strategy.highWaterMark,type=underlyingSource.type;if("bytes"===String(type)){if(void 0!==size)throw new RangeError("The strategy for a byte stream cannot have a size function");SetUpReadableByteStreamControllerFromUnderlyingSource(this,underlyingSource,strategy=ValidateAndNormalizeHighWaterMark(strategy=void 0===strategy?0:strategy))}else{if(void 0!==type)throw new RangeError("Invalid type is specified");type=MakeSizeAlgorithmFromSizeFunction(size);((stream,underlyingSource,highWaterMark,sizeAlgorithm)=>{var controller=Object.create(ReadableStreamDefaultController.prototype),pullAlgorithm=CreateAlgorithmFromUnderlyingMethod(underlyingSource,"pull",0,[controller]),cancelAlgorithm=CreateAlgorithmFromUnderlyingMethod(underlyingSource,"cancel",1,[]);SetUpReadableStreamDefaultController(stream,controller,function(){return InvokeOrNoop(underlyingSource,"start",[controller])},pullAlgorithm,cancelAlgorithm,highWaterMark,sizeAlgorithm)})(this,underlyingSource,strategy=ValidateAndNormalizeHighWaterMark(strategy=void 0===strategy?1:strategy),type)}}return Object.defineProperty(ReadableStream.prototype,"locked",{get:function(){if(!1===IsReadableStream(this))throw streamBrandCheckException$1("locked");return IsReadableStreamLocked(this)},enumerable:!0,configurable:!0}),ReadableStream.prototype.cancel=function(reason){return!1===IsReadableStream(this)?Promise.reject(streamBrandCheckException$1("cancel")):!0===IsReadableStreamLocked(this)?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):ReadableStreamCancel(this,reason)},ReadableStream.prototype.getReader=function(_a){var stream,_a=(void 0===_a?{}:_a).mode;if(!1===IsReadableStream(this))throw streamBrandCheckException$1("getReader");if(void 0===_a)return AcquireReadableStreamDefaultReader(this,!0);if("byob"===String(_a))return void 0===(_a=!0)&&(_a=!1),(stream=new ReadableStreamBYOBReader(stream=this))._forAuthorCode=_a,stream;throw new RangeError("Invalid mode is specified")},ReadableStream.prototype.pipeThrough=function(_a,_b){var writable=_a.writable,_a=_a.readable,_b=void 0===_b?{}:_b,preventClose=_b.preventClose,preventAbort=_b.preventAbort,preventCancel=_b.preventCancel,_b=_b.signal;if(!1===IsReadableStream(this))throw streamBrandCheckException$1("pipeThrough");if(!1===IsWritableStream(writable))throw new TypeError("writable argument to pipeThrough must be a WritableStream");if(!1===IsReadableStream(_a))throw new TypeError("readable argument to pipeThrough must be a ReadableStream");if(preventClose=Boolean(preventClose),preventAbort=Boolean(preventAbort),preventCancel=Boolean(preventCancel),void 0!==_b&&!isAbortSignal(_b))throw new TypeError("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===IsReadableStreamLocked(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(void 0!==writable._writer==!0)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return ReadableStreamPipeTo(this,writable,preventClose,preventAbort,preventCancel,_b).catch(noop),_a},ReadableStream.prototype.pipeTo=function(dest,_a){var _a=void 0===_a?{}:_a,preventClose=_a.preventClose,preventAbort=_a.preventAbort,preventCancel=_a.preventCancel,_a=_a.signal;return!1===IsReadableStream(this)?Promise.reject(streamBrandCheckException$1("pipeTo")):!1===IsWritableStream(dest)?Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(preventClose=Boolean(preventClose),preventAbort=Boolean(preventAbort),preventCancel=Boolean(preventCancel),void 0===_a||isAbortSignal(_a)?!0===IsReadableStreamLocked(this)?Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):void 0!==dest._writer==!0?Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ReadableStreamPipeTo(this,dest,preventClose,preventAbort,preventCancel,_a):Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},ReadableStream.prototype.tee=function(){if(!1===IsReadableStream(this))throw streamBrandCheckException$1("tee");return ReadableStreamTee(this).slice()},ReadableStream.prototype.getIterator=function(_a){_a=(void 0===_a?{}:_a).preventCancel,_a=void 0!==_a&&_a;if(!1===IsReadableStream(this))throw streamBrandCheckException$1("getIterator");return((stream,preventCancel)=>{void 0===preventCancel&&(preventCancel=!1);var stream=AcquireReadableStreamDefaultReader(stream),iterator=Object.create(ReadableStreamAsyncIteratorPrototype);return iterator._asyncIteratorReader=stream,iterator._preventCancel=Boolean(preventCancel),iterator})(this,_a)},ReadableStream})();function CreateReadableStream(startAlgorithm,pullAlgorithm,cancelAlgorithm,highWaterMark,sizeAlgorithm){void 0===highWaterMark&&(highWaterMark=1),void 0===sizeAlgorithm&&(sizeAlgorithm=function(){return 1});var stream=Object.create(ReadableStream.prototype);return InitializeReadableStream(stream),SetUpReadableStreamDefaultController(stream,Object.create(ReadableStreamDefaultController.prototype),startAlgorithm,pullAlgorithm,cancelAlgorithm,highWaterMark,sizeAlgorithm),stream}function InitializeReadableStream(stream){stream._state="readable",stream._reader=void 0,stream._storedError=void 0,stream._disturbed=!1}function IsReadableStream(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_readableStreamController")}function IsReadableStreamLocked(stream){return void 0!==stream._reader}function ReadableStreamCancel(stream,reason){return stream._disturbed=!0,"closed"===stream._state?Promise.resolve(void 0):"errored"===stream._state?Promise.reject(stream._storedError):(ReadableStreamClose(stream),stream._readableStreamController[CancelSteps](reason).then(function(){}))}function ReadableStreamClose(stream){stream._state="closed";var reader=stream._reader;void 0!==reader&&(IsReadableStreamDefaultReader(reader)&&(reader._readRequests.forEach(function(readRequest){readRequest._resolve(ReadableStreamCreateReadResult(void 0,!0,reader._forAuthorCode))}),reader._readRequests=new SimpleQueue),defaultReaderClosedPromiseResolve(reader))}function ReadableStreamError(stream,e){stream._state="errored",stream._storedError=e;stream=stream._reader;void 0!==stream&&(IsReadableStreamDefaultReader(stream)?(stream._readRequests.forEach(function(readRequest){readRequest._reject(e)}),stream._readRequests=new SimpleQueue):(stream._readIntoRequests.forEach(function(readIntoRequest){readIntoRequest._reject(e)}),stream._readIntoRequests=new SimpleQueue),defaultReaderClosedPromiseReject(stream,e))}function isAbortSignal(value){if("object"==typeof value&&null!==value){var aborted=Object.getOwnPropertyDescriptor(AbortSignal.prototype,"aborted").get;try{return aborted.call(value),1}catch(e){}}}function streamBrandCheckException$1(name){return new TypeError("ReadableStream.prototype."+name+" can only be used on a ReadableStream")}"symbol"==typeof __w_pdfjs_require__.asyncIterator&&Object.defineProperty(ReadableStream.prototype,__w_pdfjs_require__.asyncIterator,{value:ReadableStream.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var ByteLengthQueuingStrategy=(()=>{function ByteLengthQueuingStrategy(_a){_a=_a.highWaterMark;this.highWaterMark=_a}return ByteLengthQueuingStrategy.prototype.size=function(chunk){return chunk.byteLength},ByteLengthQueuingStrategy})(),CountQueuingStrategy=(()=>{function CountQueuingStrategy(_a){_a=_a.highWaterMark;this.highWaterMark=_a}return CountQueuingStrategy.prototype.size=function(){return 1},CountQueuingStrategy})(),TransformStream=(()=>{function TransformStream(transformer,writableStrategy,readableStrategy){var writableSizeFunction=(writableStrategy=void 0===writableStrategy?{}:writableStrategy).size,writableStrategy=writableStrategy.highWaterMark,readableSizeFunction=(readableStrategy=void 0===readableStrategy?{}:readableStrategy).size,readableStrategy=readableStrategy.highWaterMark;if(void 0!==(transformer=void 0===transformer?{}:transformer).writableType)throw new RangeError("Invalid writable type specified");writableSizeFunction=MakeSizeAlgorithmFromSizeFunction(writableSizeFunction),writableStrategy=ValidateAndNormalizeHighWaterMark(writableStrategy=void 0===writableStrategy?1:writableStrategy);if(void 0!==transformer.readableType)throw new RangeError("Invalid readable type specified");var startPromise_resolve,readableSizeFunction=MakeSizeAlgorithmFromSizeFunction(readableSizeFunction),readableStrategy=ValidateAndNormalizeHighWaterMark(readableStrategy=void 0===readableStrategy?0:readableStrategy),writableStrategy=(((stream,startPromise,writableHighWaterMark,writableSizeAlgorithm,readableHighWaterMark,readableSizeAlgorithm)=>{function startAlgorithm(){return startPromise}stream._writable=((startAlgorithm,writeAlgorithm,closeAlgorithm,abortAlgorithm,highWaterMark,sizeAlgorithm)=>{void 0===highWaterMark&&(highWaterMark=1),void 0===sizeAlgorithm&&(sizeAlgorithm=function(){return 1});var stream=Object.create(WritableStream.prototype);return InitializeWritableStream(stream),SetUpWritableStreamDefaultController(stream,Object.create(WritableStreamDefaultController.prototype),startAlgorithm,writeAlgorithm,closeAlgorithm,abortAlgorithm,highWaterMark,sizeAlgorithm),stream})(startAlgorithm,function(chunk){return((stream,chunk)=>{var controller=stream._transformStreamController;return!0!==stream._backpressure?TransformStreamDefaultControllerPerformTransform(controller,chunk):stream._backpressureChangePromise.then(function(){var writable=stream._writable;if("erroring"===writable._state)throw writable._storedError;return TransformStreamDefaultControllerPerformTransform(controller,chunk)})})(stream,chunk)},function(){return(stream=>{var readable=stream._readable,controller=stream._transformStreamController,flushPromise=controller._flushAlgorithm();return TransformStreamDefaultControllerClearAlgorithms(controller),flushPromise.then(function(){if("errored"===readable._state)throw readable._storedError;var readableController=readable._readableStreamController;!0===ReadableStreamDefaultControllerCanCloseOrEnqueue(readableController)&&ReadableStreamDefaultControllerClose(readableController)}).catch(function(r){throw TransformStreamError(stream,r),readable._storedError})})(stream)},function(reason){return((stream,reason)=>(TransformStreamError(stream,reason),Promise.resolve()))(stream,reason)},writableHighWaterMark,writableSizeAlgorithm),stream._readable=CreateReadableStream(startAlgorithm,function(){return(stream=>(TransformStreamSetBackpressure(stream,!1),stream._backpressureChangePromise))(stream)},function(reason){return TransformStreamErrorWritableAndUnblockWrite(stream,reason),Promise.resolve()},readableHighWaterMark,readableSizeAlgorithm),stream._backpressure=void 0,stream._backpressureChangePromise=void 0,stream._backpressureChangePromise_resolve=void 0,TransformStreamSetBackpressure(stream,!0),stream._transformStreamController=void 0})(this,new Promise(function(resolve){startPromise_resolve=resolve}),writableStrategy,writableSizeFunction,readableStrategy,readableSizeFunction),((stream,transformer)=>{var controller=Object.create(TransformStreamDefaultController.prototype),transformAlgorithm=function(chunk){try{return TransformStreamDefaultControllerEnqueue(controller,chunk),Promise.resolve()}catch(transformResultE){return Promise.reject(transformResultE)}},transformMethod=transformer.transform;if(void 0!==transformMethod){if("function"!=typeof transformMethod)throw new TypeError("transform is not a method");transformAlgorithm=function(chunk){return PromiseCall(transformMethod,transformer,[chunk,controller])}}var flushAlgorithm=CreateAlgorithmFromUnderlyingMethod(transformer,"flush",0,[controller]);((stream,controller,transformAlgorithm,flushAlgorithm)=>{((controller._controlledTransformStream=stream)._transformStreamController=controller)._transformAlgorithm=transformAlgorithm,controller._flushAlgorithm=flushAlgorithm})(stream,controller,transformAlgorithm,flushAlgorithm)})(this,transformer),InvokeOrNoop(transformer,"start",[this._transformStreamController]));startPromise_resolve(writableStrategy)}return Object.defineProperty(TransformStream.prototype,"readable",{get:function(){if(!1===IsTransformStream(this))throw streamBrandCheckException$2("readable");return this._readable},enumerable:!0,configurable:!0}),Object.defineProperty(TransformStream.prototype,"writable",{get:function(){if(!1===IsTransformStream(this))throw streamBrandCheckException$2("writable");return this._writable},enumerable:!0,configurable:!0}),TransformStream})();function IsTransformStream(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_transformStreamController")}function TransformStreamError(stream,e){ReadableStreamDefaultControllerError(stream._readable._readableStreamController,e),TransformStreamErrorWritableAndUnblockWrite(stream,e)}function TransformStreamErrorWritableAndUnblockWrite(stream,e){TransformStreamDefaultControllerClearAlgorithms(stream._transformStreamController),WritableStreamDefaultControllerErrorIfNeeded(stream._writable._writableStreamController,e),!0===stream._backpressure&&TransformStreamSetBackpressure(stream,!1)}function TransformStreamSetBackpressure(stream,backpressure){void 0!==stream._backpressureChangePromise&&stream._backpressureChangePromise_resolve(),stream._backpressureChangePromise=new Promise(function(resolve){stream._backpressureChangePromise_resolve=resolve}),stream._backpressure=backpressure}var TransformStreamDefaultController=(()=>{function TransformStreamDefaultController(){throw new TypeError("TransformStreamDefaultController instances cannot be created directly")}return Object.defineProperty(TransformStreamDefaultController.prototype,"desiredSize",{get:function(){if(!1===IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException$1("desiredSize");return ReadableStreamDefaultControllerGetDesiredSize(this._controlledTransformStream._readable._readableStreamController)},enumerable:!0,configurable:!0}),TransformStreamDefaultController.prototype.enqueue=function(chunk){if(!1===IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException$1("enqueue");TransformStreamDefaultControllerEnqueue(this,chunk)},TransformStreamDefaultController.prototype.error=function(reason){if(!1===IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException$1("error");TransformStreamError(this._controlledTransformStream,reason)},TransformStreamDefaultController.prototype.terminate=function(){if(!1===IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException$1("terminate");var controller=this,readableController=(controller=controller._controlledTransformStream)._readable._readableStreamController;!0===ReadableStreamDefaultControllerCanCloseOrEnqueue(readableController)&&ReadableStreamDefaultControllerClose(readableController),readableController=new TypeError("TransformStream terminated"),TransformStreamErrorWritableAndUnblockWrite(controller,readableController)},TransformStreamDefaultController})();function IsTransformStreamDefaultController(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_controlledTransformStream")}function TransformStreamDefaultControllerClearAlgorithms(controller){controller._transformAlgorithm=void 0,controller._flushAlgorithm=void 0}function TransformStreamDefaultControllerEnqueue(controller,chunk){var controller=controller._controlledTransformStream,readableController=controller._readable._readableStreamController;if(!1===ReadableStreamDefaultControllerCanCloseOrEnqueue(readableController))throw new TypeError("Readable side is not in a state that permits enqueue");try{ReadableStreamDefaultControllerEnqueue(readableController,chunk)}catch(e){throw TransformStreamErrorWritableAndUnblockWrite(controller,e),controller._readable._storedError}(controller=>!0!==ReadableStreamDefaultControllerShouldCallPull(controller))(readableController)!==controller._backpressure&&TransformStreamSetBackpressure(controller,!0)}function TransformStreamDefaultControllerPerformTransform(controller,chunk){return controller._transformAlgorithm(chunk).catch(function(r){throw TransformStreamError(controller._controlledTransformStream,r),r})}function defaultControllerBrandCheckException$1(name){return new TypeError("TransformStreamDefaultController.prototype."+name+" can only be used on a TransformStreamDefaultController")}function streamBrandCheckException$2(name){return new TypeError("TransformStream.prototype."+name+" can only be used on a TransformStream")}},function(module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=function(src){var source,task=new PDFDocumentLoadingTask;if("string"==typeof src)source={url:src};else if((0,_util.isArrayBuffer)(src))source={data:src};else if(src instanceof PDFDataRangeTransport)source={range:src};else{if("object"!==_typeof(src))throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!src.url&&!src.data&&!src.range)throw new Error("Invalid parameter object: need either .data, .range or .url");source=src}var key,params=Object.create(null),rangeTransport=null,worker=null;for(key in source)if("url"===key&&"undefined"!=typeof window)params[key]=new URL(source[key],window.location).href;else if("range"===key)rangeTransport=source[key];else if("worker"===key)worker=source[key];else if("data"!==key||source[key]instanceof Uint8Array)params[key]=source[key];else{var pdfBytes=source[key];if("string"==typeof pdfBytes)params[key]=(0,_util.stringToBytes)(pdfBytes);else{if(("object"!==_typeof(pdfBytes)||null===pdfBytes||isNaN(pdfBytes.length))&&!(0,_util.isArrayBuffer)(pdfBytes))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");params[key]=new Uint8Array(pdfBytes)}}params.rangeChunkSize=params.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,params.CMapReaderFactory=params.CMapReaderFactory||_display_utils.DOMCMapReaderFactory,params.ignoreErrors=!0!==params.stopAtErrors,params.pdfBug=!0===params.pdfBug;src=Object.values(_util.NativeImageDecoding);void 0!==params.nativeImageDecoderSupport&&src.includes(params.nativeImageDecoderSupport)||(params.nativeImageDecoderSupport=_api_compatibility.apiCompatibilityParams.nativeImageDecoderSupport||_util.NativeImageDecoding.DECODE);Number.isInteger(params.maxImageSize)||(params.maxImageSize=-1);"boolean"!=typeof params.isEvalSupported&&(params.isEvalSupported=!0);"boolean"!=typeof params.disableFontFace&&(params.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1);"boolean"!=typeof params.disableRange&&(params.disableRange=!1);"boolean"!=typeof params.disableStream&&(params.disableStream=!1);"boolean"!=typeof params.disableAutoFetch&&(params.disableAutoFetch=!1);"boolean"!=typeof params.disableCreateObjectURL&&(params.disableCreateObjectURL=_api_compatibility.apiCompatibilityParams.disableCreateObjectURL||!1);(0,_util.setVerbosityLevel)(params.verbosity),worker||(src={verbosity:params.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort},worker=src.port?PDFWorker.fromPort(src):new PDFWorker(src),task._worker=worker);var docId=task.docId;return worker.promise.then(function(){if(task.destroyed)throw new Error("Loading aborted");return((worker,source,pdfDataRangeTransport,docId)=>worker.destroyed?Promise.reject(new Error("Worker was destroyed")):(pdfDataRangeTransport&&(source.length=pdfDataRangeTransport.length,source.initialData=pdfDataRangeTransport.initialData,source.progressiveDone=pdfDataRangeTransport.progressiveDone),worker.messageHandler.sendWithPromise("GetDocRequest",{docId:docId,apiVersion:"2.3.200",source:{data:source.data,url:source.url,password:source.password,disableAutoFetch:source.disableAutoFetch,rangeChunkSize:source.rangeChunkSize,length:source.length},maxImageSize:source.maxImageSize,disableFontFace:source.disableFontFace,disableCreateObjectURL:source.disableCreateObjectURL,postMessageTransfers:worker.postMessageTransfers,docBaseUrl:source.docBaseUrl,nativeImageDecoderSupport:source.nativeImageDecoderSupport,ignoreErrors:source.ignoreErrors,isEvalSupported:source.isEvalSupported}).then(function(workerId){if(worker.destroyed)throw new Error("Worker was destroyed");return workerId})))(worker,params,rangeTransport,docId).then(function(workerId){if(task.destroyed)throw new Error("Loading aborted");rangeTransport?networkStream=new _transport_stream.PDFDataTransportStream({length:params.length,initialData:params.initialData,progressiveDone:params.progressiveDone,disableRange:params.disableRange,disableStream:params.disableStream},rangeTransport):params.data||(networkStream=createPDFNetworkStream({url:params.url,length:params.length,httpHeaders:params.httpHeaders,withCredentials:params.withCredentials,rangeChunkSize:params.rangeChunkSize,disableRange:params.disableRange,disableStream:params.disableStream}));var workerId=new _message_handler.MessageHandler(docId,workerId,worker.port),networkStream=(workerId.postMessageTransfers=worker.postMessageTransfers,new WorkerTransport(workerId,task,networkStream,params));task._transport=networkStream,workerId.send("Ready",null)})}).catch(task._capability.reject),task},exports.setPDFNetworkStreamFactory=function(pdfNetworkStreamFactory){createPDFNetworkStream=pdfNetworkStreamFactory},exports.build=exports.version=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFWorker=exports.PDFDataRangeTransport=exports.LoopbackPort=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(180)),_util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(183),_font_loader=__w_pdfjs_require__(184),_api_compatibility=__w_pdfjs_require__(185),_canvas=__w_pdfjs_require__(186),_global_scope=_interopRequireDefault(__w_pdfjs_require__(3)),_worker_options=__w_pdfjs_require__(188),_message_handler=__w_pdfjs_require__(189),_metadata=__w_pdfjs_require__(190),_transport_stream=__w_pdfjs_require__(192),_webgl=__w_pdfjs_require__(193);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _slicedToArray(arr,i){return(arr=>{if(Array.isArray(arr))return arr})(arr)||((arr,i)=>{if(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}})(arr,i)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function _toConsumableArray(arr){return(arr=>{if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}})(arr)||(iter=>{if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)})(arr)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps)}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var fallbackWorkerSrc,createPDFNetworkStream,DEFAULT_RANGE_CHUNK_SIZE=65536,isWorkerDisabled=!1,__w_pdfjs_require__=!1,dynamicLoaderSupported=("undefined"==typeof window?(isWorkerDisabled=!0,void 0===require.ensure&&(require.ensure=require("node-ensure")),__w_pdfjs_require__=!0):"undefined"!=typeof require&&"function"==typeof require.ensure&&(__w_pdfjs_require__=!0),"undefined"!=typeof requirejs&&requirejs.toUrl&&(fallbackWorkerSrc=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js")),"undefined"!=typeof requirejs&&requirejs.load),fakeWorkerFilesLoader=__w_pdfjs_require__?function(){return new Promise(function(resolve,reject){require.ensure([],function(){try{var worker=require("./pdf.worker.js");resolve(worker.WorkerMessageHandler)}catch(ex){reject(ex)}},reject,"pdfjsWorker")})}:dynamicLoaderSupported?function(){return new Promise(function(resolve,reject){requirejs(["pdfjs-dist/build/pdf.worker"],function(worker){try{resolve(worker.WorkerMessageHandler)}catch(ex){reject(ex)}},reject)})}:null;!fallbackWorkerSrc&&"object"===("undefined"==typeof document?"undefined":_typeof(document))&&"currentScript"in document&&(__w_pdfjs_require__=document.currentScript&&document.currentScript.src)&&(fallbackWorkerSrc=__w_pdfjs_require__.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"));nextDocumentId=0;var nextDocumentId,fakeWorkerFilesLoadedCapability,pdfWorkerPorts,nextFakeWorkerId,PDFDocumentLoadingTask=(()=>{function PDFDocumentLoadingTask(){_classCallCheck(this,PDFDocumentLoadingTask),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+nextDocumentId++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(PDFDocumentLoadingTask,[{key:"destroy",value:function(){var _this=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then(function(){_this._transport=null,_this._worker&&(_this._worker.destroy(),_this._worker=null)})}},{key:"then",value:function(onFulfilled,onRejected){return(0,_display_utils.deprecated)("PDFDocumentLoadingTask.then method, use the `promise` getter instead."),this.promise.then.apply(this.promise,arguments)}},{key:"promise",get:function(){return this._capability.promise}}]),PDFDocumentLoadingTask})(),PDFDataRangeTransport=(()=>{function PDFDataRangeTransport(length,initialData){var progressiveDone=2<arguments.length&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,PDFDataRangeTransport),this.length=length,this.initialData=initialData,this.progressiveDone=progressiveDone,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(PDFDataRangeTransport,[{key:"addRangeListener",value:function(listener){this._rangeListeners.push(listener)}},{key:"addProgressListener",value:function(listener){this._progressListeners.push(listener)}},{key:"addProgressiveReadListener",value:function(listener){this._progressiveReadListeners.push(listener)}},{key:"addProgressiveDoneListener",value:function(listener){this._progressiveDoneListeners.push(listener)}},{key:"onDataRange",value:function(begin,chunk){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this._rangeListeners[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)(0,_step.value)(begin,chunk)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}},{key:"onDataProgress",value:function(loaded,total){var _this2=this;this._readyCapability.promise.then(function(){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=_this2._progressListeners[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0)(0,_step2.value)(loaded,total)}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}})}},{key:"onDataProgressiveRead",value:function(chunk){var _this3=this;this._readyCapability.promise.then(function(){var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=_this3._progressiveReadListeners[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0)(0,_step3.value)(chunk)}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}})}},{key:"onDataProgressiveDone",value:function(){var _this4=this;this._readyCapability.promise.then(function(){var _iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=_this4._progressiveDoneListeners[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0)(0,_step4.value)()}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{_iteratorNormalCompletion4||null==_iterator4.return||_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(begin,end){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),PDFDataRangeTransport})(),PDFDocumentProxy=(exports.PDFDataRangeTransport=PDFDataRangeTransport,(()=>{function PDFDocumentProxy(pdfInfo,transport){_classCallCheck(this,PDFDocumentProxy),this._pdfInfo=pdfInfo,this._transport=transport}return _createClass(PDFDocumentProxy,[{key:"getPage",value:function(pageNumber){return this._transport.getPage(pageNumber)}},{key:"getPageIndex",value:function(ref){return this._transport.getPageIndex(ref)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(id){return this._transport.getDestination(id)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenActionDestination",value:function(){return this._transport.getOpenActionDestination()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){this._transport.startCleanup()}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}}]),PDFDocumentProxy})()),PDFPageProxy=(exports.PDFDocumentProxy=PDFDocumentProxy,(()=>{function PDFPageProxy(pageIndex,pageInfo,transport){var pdfBug=3<arguments.length&&void 0!==arguments[3]&&arguments[3];_classCallCheck(this,PDFPageProxy),this.pageIndex=pageIndex,this._pageInfo=pageInfo,this._transport=transport,this._stats=pdfBug?new _display_utils.StatTimer:_display_utils.DummyStatTimer,this._pdfBug=pdfBug,this.commonObjs=transport.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}return _createClass(PDFPageProxy,[{key:"getViewport",value:function(){var _ref=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},scale=_ref.scale,_ref$rotation=_ref.rotation,_ref$rotation=void 0===_ref$rotation?this.rotate:_ref$rotation,_ref=_ref.dontFlip,_ref=void 0!==_ref&&_ref;return(1<arguments.length||"number"==typeof arguments[0])&&((0,_display_utils.deprecated)("getViewport is called with obsolete arguments."),scale=arguments[0],_ref$rotation="number"==typeof arguments[1]?arguments[1]:this.rotate,_ref="boolean"==typeof arguments[2]&&arguments[2]),new _display_utils.PageViewport({viewBox:this.view,scale:scale,rotation:_ref$rotation,dontFlip:_ref})}},{key:"getAnnotations",value:function(){var _ref2$intent=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).intent,_ref2$intent=void 0===_ref2$intent?null:_ref2$intent;return this.annotationsPromise&&this.annotationsIntent===_ref2$intent||(this.annotationsPromise=this._transport.getAnnotations(this.pageIndex,_ref2$intent),this.annotationsIntent=_ref2$intent),this.annotationsPromise}},{key:"render",value:function(_ref3){function complete(error){var i=intentState.renderTasks.indexOf(internalRenderTask);0<=i&&intentState.renderTasks.splice(i,1),!_this5.cleanupAfterRender&&"print"!==renderingIntent||(_this5.pendingCleanup=!0),_this5._tryCleanup(),error?(internalRenderTask.capability.reject(error),_this5._abortOperatorList({intentState:intentState,reason:error})):internalRenderTask.capability.resolve(),stats.timeEnd("Rendering"),stats.timeEnd("Overall")}var _this5=this,canvasContext=_ref3.canvasContext,viewport=_ref3.viewport,_ref3$intent=_ref3.intent,_ref3$intent=void 0===_ref3$intent?"display":_ref3$intent,_ref3$enableWebGL=_ref3.enableWebGL,_ref3$enableWebGL=void 0!==_ref3$enableWebGL&&_ref3$enableWebGL,_ref3$renderInteracti=_ref3.renderInteractiveForms,_ref3$renderInteracti=void 0!==_ref3$renderInteracti&&_ref3$renderInteracti,_ref3$transform=_ref3.transform,_ref3$transform=void 0===_ref3$transform?null:_ref3$transform,_ref3$imageLayer=_ref3.imageLayer,_ref3$imageLayer=void 0===_ref3$imageLayer?null:_ref3$imageLayer,_ref3$canvasFactory=_ref3.canvasFactory,_ref3$canvasFactory=void 0===_ref3$canvasFactory?null:_ref3$canvasFactory,_ref3=_ref3.background,_ref3=void 0===_ref3?null:_ref3,stats=this._stats,renderingIntent=(stats.time("Overall"),"print"===_ref3$intent?"print":"display"),intentState=(this.pendingCleanup=!1,this.intentStates[renderingIntent]||(this.intentStates[renderingIntent]=Object.create(null)),this.intentStates[renderingIntent]),_ref3$intent=(intentState.streamReaderCancelTimeout&&(clearTimeout(intentState.streamReaderCancelTimeout),intentState.streamReaderCancelTimeout=null),_ref3$canvasFactory||new _display_utils.DOMCanvasFactory),_ref3$canvasFactory=new _webgl.WebGLContext({enable:_ref3$enableWebGL}),internalRenderTask=(intentState.displayReadyCapability||(intentState.displayReadyCapability=(0,_util.createPromiseCapability)(),intentState.operatorList={fnArray:[],argsArray:[],lastChunk:!1},stats.time("Page Request"),this._pumpOperatorList({pageIndex:this.pageNumber-1,intent:renderingIntent,renderInteractiveForms:!0===_ref3$renderInteracti})),new InternalRenderTask({callback:complete,params:{canvasContext:canvasContext,viewport:viewport,transform:_ref3$transform,imageLayer:_ref3$imageLayer,background:_ref3},objs:this.objs,commonObjs:this.commonObjs,operatorList:intentState.operatorList,pageNumber:this.pageNumber,canvasFactory:_ref3$intent,webGLContext:_ref3$canvasFactory,useRequestAnimationFrame:"print"!==renderingIntent,pdfBug:this._pdfBug})),_ref3$enableWebGL=(intentState.renderTasks||(intentState.renderTasks=[]),intentState.renderTasks.push(internalRenderTask),internalRenderTask.task);return intentState.displayReadyCapability.promise.then(function(transparency){_this5.pendingCleanup?complete():(stats.time("Rendering"),internalRenderTask.initializeGraphics(transparency),internalRenderTask.operatorListChanged())}).catch(complete),_ref3$enableWebGL}},{key:"getOperatorList",value:function(){this.intentStates.oplist||(this.intentStates.oplist=Object.create(null));var opListTask,intentState=this.intentStates.oplist;return intentState.opListReadCapability||(opListTask={operatorListChanged:function(){var i;intentState.operatorList.lastChunk&&(intentState.opListReadCapability.resolve(intentState.operatorList),0<=(i=intentState.renderTasks.indexOf(opListTask)))&&intentState.renderTasks.splice(i,1)}},intentState.opListReadCapability=(0,_util.createPromiseCapability)(),intentState.renderTasks=[],intentState.renderTasks.push(opListTask),intentState.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this.pageIndex,intent:"oplist"})),intentState.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var _ref4=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},_ref4$normalizeWhites=_ref4.normalizeWhitespace,_ref4=_ref4.disableCombineTextItems;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:!0===(void 0!==_ref4$normalizeWhites&&_ref4$normalizeWhites),combineTextItems:!0!==(void 0!==_ref4&&_ref4)},{highWaterMark:100,size:function(textContent){return textContent.items.length}})}},{key:"getTextContent",value:function(){var readableStream=this.streamTextContent(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});return new Promise(function(resolve,reject){var reader=readableStream.getReader(),textContent={items:[],styles:Object.create(null)};!function pump(){reader.read().then(function(_ref5){var value=_ref5.value;_ref5.done?resolve(textContent):(Object.assign(textContent.styles,value.styles),(_ref5=textContent.items).push.apply(_ref5,_toConsumableArray(value.items)),pump())},reject)}()})}},{key:"_destroy",value:function(){var _this6=this,waitOn=(this.destroyed=!0,this._transport.pageCache[this.pageIndex]=null,[]);return Object.keys(this.intentStates).forEach(function(intent){var intentState=_this6.intentStates[intent];_this6._abortOperatorList({intentState:intentState,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==intent&&intentState.renderTasks.forEach(function(renderTask){var renderCompleted=renderTask.capability.promise.catch(function(){});waitOn.push(renderCompleted),renderTask.cancel()})}),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(waitOn)}},{key:"cleanup",value:function(){var resetStats=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.pendingCleanup=!0,this._tryCleanup(resetStats)}},{key:"_tryCleanup",value:function(){var _this7=this,resetStats=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.pendingCleanup&&!Object.keys(this.intentStates).some(function(intent){intent=_this7.intentStates[intent];return 0!==intent.renderTasks.length||!intent.operatorList.lastChunk})&&(Object.keys(this.intentStates).forEach(function(intent){delete _this7.intentStates[intent]}),this.objs.clear(),this.annotationsPromise=null,resetStats&&this._stats instanceof _display_utils.StatTimer&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1)}},{key:"_startRenderPage",value:function(transparency,intent){intent=this.intentStates[intent];intent&&(this._stats.timeEnd("Page Request"),intent.displayReadyCapability)&&intent.displayReadyCapability.resolve(transparency)}},{key:"_renderPageChunk",value:function(operatorListChunk,intentState){for(var i=0,ii=operatorListChunk.length;i<ii;i++)intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]),intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);intentState.operatorList.lastChunk=operatorListChunk.lastChunk;for(var _i=0;_i<intentState.renderTasks.length;_i++)intentState.renderTasks[_i].operatorListChanged();operatorListChunk.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(args){var _this8=this;(0,_util.assert)(args.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var reader=this._transport.messageHandler.sendWithStream("GetOperatorList",args).getReader(),intentState=this.intentStates[args.intent];intentState.streamReader=reader,function pump(){reader.read().then(function(_ref6){var value=_ref6.value;_ref6.done?intentState.streamReader=null:_this8._transport.destroyed||(_this8._renderPageChunk(value,intentState),pump())},function(reason){if(intentState.streamReader=null,!_this8._transport.destroyed){if(intentState.operatorList){intentState.operatorList.lastChunk=!0;for(var i=0;i<intentState.renderTasks.length;i++)intentState.renderTasks[i].operatorListChanged();_this8._tryCleanup()}if(intentState.displayReadyCapability)intentState.displayReadyCapability.reject(reason);else{if(!intentState.opListReadCapability)throw reason;intentState.opListReadCapability.reject(reason)}}})}()}},{key:"_abortOperatorList",value:function(_ref7){var _this9=this,intentState=_ref7.intentState,reason=_ref7.reason,_ref7=_ref7.force,_ref7=void 0!==_ref7&&_ref7;if((0,_util.assert)(reason instanceof Error,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),intentState.streamReader){if(!_ref7){if(0!==intentState.renderTasks.length)return;if(reason instanceof _display_utils.RenderingCancelledException)return void(intentState.streamReaderCancelTimeout=setTimeout(function(){_this9._abortOperatorList({intentState:intentState,reason:reason,force:!0}),intentState.streamReaderCancelTimeout=null},100))}intentState.streamReader.cancel(new _util.AbortException(reason&&reason.message)),intentState.streamReader=null,this._transport.destroyed||(Object.keys(this.intentStates).some(function(intent){return _this9.intentStates[intent]===intentState&&(delete _this9.intentStates[intent],!0)}),this.cleanup())}}},{key:"pageNumber",get:function(){return this.pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"stats",get:function(){return this._stats instanceof _display_utils.StatTimer?this._stats:null}}]),PDFPageProxy})()),LoopbackPort=(exports.PDFPageProxy=PDFPageProxy,(()=>{function LoopbackPort(){var defer=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,LoopbackPort),this._listeners=[],this._defer=defer,this._deferred=Promise.resolve(void 0)}return _createClass(LoopbackPort,[{key:"postMessage",value:function(obj,transfers){var cloned,e,_this10=this;this._defer?(cloned=new WeakMap,e={data:function cloneValue(value){if("object"!==_typeof(value)||null===value)return value;if(cloned.has(value))return cloned.get(value);var buffer,transferable,result;if((buffer=value.buffer)&&(0,_util.isArrayBuffer)(buffer))transferable=transfers&&transfers.includes(buffer),result=value===buffer?value:transferable?new value.constructor(buffer,value.byteOffset,value.byteLength):new value.constructor(value),cloned.set(value,result);else for(var i in result=Array.isArray(value)?[]:{},cloned.set(value,result),value){for(var desc=void 0,p=value;!(desc=Object.getOwnPropertyDescriptor(p,i));)p=Object.getPrototypeOf(p);if(void 0!==desc.value)if("function"==typeof desc.value){if(value.hasOwnProperty&&value.hasOwnProperty(i))throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(value[i]))}else result[i]=cloneValue(desc.value)}return result}(obj)},this._deferred.then(function(){_this10._listeners.forEach(function(listener){listener.call(_this10,e)})})):this._listeners.forEach(function(listener){listener.call(_this10,{data:obj})})}},{key:"addEventListener",value:function(name,listener){this._listeners.push(listener)}},{key:"removeEventListener",value:function(name,listener){listener=this._listeners.indexOf(listener);this._listeners.splice(listener,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),LoopbackPort})()),PDFWorker=(exports.LoopbackPort=LoopbackPort,pdfWorkerPorts=new WeakMap,nextFakeWorkerId=0,(()=>{function PDFWorker(){var _ref8=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},_ref8$name=_ref8.name,_ref8$name=void 0===_ref8$name?null:_ref8$name,_ref8$port=_ref8.port,_ref8$port=void 0===_ref8$port?null:_ref8$port,_ref8=_ref8.verbosity,_ref8=void 0===_ref8?(0,_util.getVerbosityLevel)():_ref8;if(_classCallCheck(this,PDFWorker),_ref8$port&&pdfWorkerPorts.has(_ref8$port))throw new Error("Cannot use more than one PDFWorker per port");this.name=_ref8$name,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=_ref8,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,_ref8$port?(pdfWorkerPorts.set(_ref8$port,this),this._initializeFromPort(_ref8$port)):this._initialize()}return _createClass(PDFWorker,[{key:"_initializeFromPort",value:function(port){this._port=port,this._messageHandler=new _message_handler.MessageHandler("main","worker",port),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var url,_this11=this;if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var workerSrc=_getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,workerSrc)||(url=new URL(workerSrc,window.location).href,workerSrc=URL.createObjectURL(new Blob(["importScripts('"+url+"');"])));var worker=new Worker(workerSrc),messageHandler=new _message_handler.MessageHandler("main","worker",worker),terminateEarly=function(){worker.removeEventListener("error",onWorkerError),messageHandler.destroy(),worker.terminate(),_this11.destroyed?_this11._readyCapability.reject(new Error("Worker was destroyed")):_this11._setupFakeWorker()},onWorkerError=function(){_this11._webWorker||terminateEarly()},sendTest=(worker.addEventListener("error",onWorkerError),messageHandler.on("test",function(data){worker.removeEventListener("error",onWorkerError),_this11.destroyed?terminateEarly():data?(_this11._messageHandler=messageHandler,_this11._port=worker,_this11._webWorker=worker,data.supportTransfers||(_this11.postMessageTransfers=!1),_this11._readyCapability.resolve(),messageHandler.send("configure",{verbosity:_this11.verbosity})):(_this11._setupFakeWorker(),messageHandler.destroy(),worker.terminate())}),messageHandler.on("ready",function(data){if(worker.removeEventListener("error",onWorkerError),_this11.destroyed)terminateEarly();else try{sendTest()}catch(e){_this11._setupFakeWorker()}}),function(){var testObj=new Uint8Array([_this11.postMessageTransfers?255:0]);try{messageHandler.send("test",testObj,[testObj.buffer])}catch(ex){(0,_util.warn)("Cannot use postMessage transfers."),testObj[0]=0,messageHandler.send("test",testObj)}});return void sendTest()}catch(e){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var mainWorkerMessageHandler,_this12=this;isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),fakeWorkerFilesLoadedCapability||(fakeWorkerFilesLoadedCapability=(0,_util.createPromiseCapability)(),(mainWorkerMessageHandler=getMainThreadWorkerMessageHandler())?fakeWorkerFilesLoadedCapability.resolve(mainWorkerMessageHandler):(fakeWorkerFilesLoader||function(){return(0,_display_utils.loadScript)(_getWorkerSrc()).then(function(){return window.pdfjsWorker.WorkerMessageHandler})})().then(fakeWorkerFilesLoadedCapability.resolve,fakeWorkerFilesLoadedCapability.reject)),fakeWorkerFilesLoadedCapability.promise.then(function(WorkerMessageHandler){var port,id,workerHandler;_this12.destroyed?_this12._readyCapability.reject(new Error("Worker was destroyed")):(port=new LoopbackPort,_this12._port=port,id="fake"+nextFakeWorkerId++,workerHandler=new _message_handler.MessageHandler(id+"_worker",id,port),WorkerMessageHandler.setup(workerHandler,port),WorkerMessageHandler=new _message_handler.MessageHandler(id,id+"_worker",port),_this12._messageHandler=WorkerMessageHandler,_this12._readyCapability.resolve())}).catch(function(reason){_this12._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(reason.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}}],[{key:"fromPort",value:function(params){if(params&&params.port)return pdfWorkerPorts.has(params.port)?pdfWorkerPorts.get(params.port):new PDFWorker(params);throw new Error("PDFWorker.fromPort - invalid method signature.")}},{key:"getWorkerSrc",value:_getWorkerSrc}]),PDFWorker})());function _getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc)return fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){try{if("undefined"!=typeof window)return window.pdfjsWorker&&window.pdfjsWorker.WorkerMessageHandler}catch(ex){}return null}exports.PDFWorker=PDFWorker;var canvasInRendering,WorkerTransport=(()=>{function WorkerTransport(messageHandler,loadingTask,networkStream,params){_classCallCheck(this,WorkerTransport),this.messageHandler=messageHandler,this.loadingTask=loadingTask,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:loadingTask.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this)}),this._params=params,this.CMapReaderFactory=new params.CMapReaderFactory({baseUrl:params.cMapUrl,isCompressed:params.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=networkStream,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(WorkerTransport,[{key:"destroy",value:function(){var waitOn,terminated,_this13=this;return this.destroyCapability||(this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback")),waitOn=[],this.pageCache.forEach(function(page){page&&waitOn.push(page._destroy())}),this.pageCache.length=0,this.pagePromises.length=0,terminated=this.messageHandler.sendWithPromise("Terminate",null),waitOn.push(terminated),Promise.all(waitOn).then(function(){_this13.fontLoader.clear(),_this13._networkStream&&_this13._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),_this13.messageHandler&&(_this13.messageHandler.destroy(),_this13.messageHandler=null),_this13.destroyCapability.resolve()},this.destroyCapability.reject)),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var _this14=this,messageHandler=this.messageHandler,loadingTask=this.loadingTask;messageHandler.on("GetReader",function(data,sink){(0,_util.assert)(_this14._networkStream),_this14._fullReader=_this14._networkStream.getFullReader(),_this14._fullReader.onProgress=function(evt){_this14._lastProgress={loaded:evt.loaded,total:evt.total}},sink.onPull=function(){_this14._fullReader.read().then(function(_ref9){var value=_ref9.value;_ref9.done?sink.close():((0,_util.assert)((0,_util.isArrayBuffer)(value)),sink.enqueue(new Uint8Array(value),1,[value]))}).catch(function(reason){sink.error(reason)})},sink.onCancel=function(reason){_this14._fullReader.cancel(reason)}}),messageHandler.on("ReaderHeadersReady",function(data){var headersCapability=(0,_util.createPromiseCapability)(),fullReader=_this14._fullReader;return fullReader.headersReady.then(function(){fullReader.isStreamingSupported&&fullReader.isRangeSupported||(_this14._lastProgress&&loadingTask.onProgress&&loadingTask.onProgress(_this14._lastProgress),fullReader.onProgress=function(evt){loadingTask.onProgress&&loadingTask.onProgress({loaded:evt.loaded,total:evt.total})}),headersCapability.resolve({isStreamingSupported:fullReader.isStreamingSupported,isRangeSupported:fullReader.isRangeSupported,contentLength:fullReader.contentLength})},headersCapability.reject),headersCapability.promise}),messageHandler.on("GetRangeReader",function(data,sink){(0,_util.assert)(_this14._networkStream);var rangeReader=_this14._networkStream.getRangeReader(data.begin,data.end);rangeReader?(sink.onPull=function(){rangeReader.read().then(function(_ref10){var value=_ref10.value;_ref10.done?sink.close():((0,_util.assert)((0,_util.isArrayBuffer)(value)),sink.enqueue(new Uint8Array(value),1,[value]))}).catch(function(reason){sink.error(reason)})},sink.onCancel=function(reason){rangeReader.cancel(reason)}):sink.close()}),messageHandler.on("GetDoc",function(_ref11){_ref11=_ref11.pdfInfo;_this14._numPages=_ref11.numPages,loadingTask._capability.resolve(new PDFDocumentProxy(_ref11,_this14))}),messageHandler.on("PasswordRequest",function(exception){if(_this14._passwordCapability=(0,_util.createPromiseCapability)(),loadingTask.onPassword)try{loadingTask.onPassword(function(password){_this14._passwordCapability.resolve({password:password})},exception.code)}catch(ex){_this14._passwordCapability.reject(ex)}else _this14._passwordCapability.reject(new _util.PasswordException(exception.message,exception.code));return _this14._passwordCapability.promise}),messageHandler.on("PasswordException",function(exception){loadingTask._capability.reject(new _util.PasswordException(exception.message,exception.code))}),messageHandler.on("InvalidPDF",function(exception){loadingTask._capability.reject(new _util.InvalidPDFException(exception.message))}),messageHandler.on("MissingPDF",function(exception){loadingTask._capability.reject(new _util.MissingPDFException(exception.message))}),messageHandler.on("UnexpectedResponse",function(exception){loadingTask._capability.reject(new _util.UnexpectedResponseException(exception.message,exception.status))}),messageHandler.on("UnknownError",function(exception){loadingTask._capability.reject(new _util.UnknownErrorException(exception.message,exception.details))}),messageHandler.on("DataLoaded",function(data){loadingTask.onProgress&&loadingTask.onProgress({loaded:data.length,total:data.length}),_this14.downloadInfoCapability.resolve(data)}),messageHandler.on("StartRenderPage",function(data){_this14.destroyed||_this14.pageCache[data.pageIndex]._startRenderPage(data.transparency,data.intent)}),messageHandler.on("commonobj",function(data){if(!_this14.destroyed){var data=_slicedToArray(data,3),id=data[0],type=data[1],exportedData=data[2];if(!_this14.commonObjs.has(id))switch(type){case"Font":var exportedError,font,params=_this14._params;"error"in exportedData?(exportedError=exportedData.error,(0,_util.warn)("Error during font loading: ".concat(exportedError)),_this14.commonObjs.resolve(id,exportedError)):(exportedError=null,font=(params.pdfBug&&_global_scope.default.FontInspector&&_global_scope.default.FontInspector.enabled&&(exportedError={registerFont:function(font,url){_global_scope.default.FontInspector.fontAdded(font,url)}}),new _font_loader.FontFaceObject(exportedData,{isEvalSupported:params.isEvalSupported,disableFontFace:params.disableFontFace,ignoreErrors:params.ignoreErrors,onUnsupportedFeature:_this14._onUnsupportedFeature.bind(_this14),fontRegistry:exportedError})),_this14.fontLoader.bind(font).then(function(){_this14.commonObjs.resolve(id,font)},function(reason){messageHandler.sendWithPromise("FontFallback",{id:id}).finally(function(){_this14.commonObjs.resolve(id,font)})}));break;case"FontPath":case"FontType3Res":_this14.commonObjs.resolve(id,exportedData);break;default:throw new Error("Got unknown common object type ".concat(type))}}}),messageHandler.on("obj",function(data){if(!_this14.destroyed){var data=_slicedToArray(data,4),id=data[0],type=data[2],imageData=data[3],pageProxy=_this14.pageCache[data[1]];if(!pageProxy.objs.has(id))switch(type){case"JpegStream":return new Promise(function(resolve,reject){var img=new Image;img.onload=function(){resolve(img)},img.onerror=function(){reject(new Error("Error during JPEG image loading")),(0,_display_utils.releaseImageResources)(img)},img.src=imageData}).then(function(img){pageProxy.objs.resolve(id,img)});case"Image":pageProxy.objs.resolve(id,imageData);imageData&&"data"in imageData&&8e6<imageData.data.length&&(pageProxy.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type ".concat(type))}}}),messageHandler.on("DocProgress",function(data){_this14.destroyed||loadingTask.onProgress&&loadingTask.onProgress({loaded:data.loaded,total:data.total})}),messageHandler.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),messageHandler.on("JpegDecode",function(data){var imageUrl,components;return _this14.destroyed?Promise.reject(new Error("Worker was destroyed")):"undefined"==typeof document?Promise.reject(new Error('"document" is not defined.')):(data=_slicedToArray(data,2),imageUrl=data[0],3!==(components=data[1])&&1!==components?Promise.reject(new Error("Only 3 components or 1 component can be returned")):new Promise(function(resolve,reject){var img=new Image;img.onload=function(){var width=img.width,height=img.height,size=width*height,rgbaLength=4*size,buf=new Uint8ClampedArray(size*components),size=document.createElement("canvas"),tmpCtx=(size.width=width,size.height=height,size.getContext("2d")),data=(tmpCtx.drawImage(img,0,0),tmpCtx.getImageData(0,0,width,height).data);if(3===components)for(var i=0,j=0;i<rgbaLength;i+=4,j+=3)buf[j]=data[i],buf[j+1]=data[i+1],buf[j+2]=data[i+2];else if(1===components)for(var _i2=0,_j=0;_i2<rgbaLength;_i2+=4,_j++)buf[_j]=data[_i2];resolve({data:buf,width:width,height:height}),(0,_display_utils.releaseImageResources)(img),size.width=0,size.height=0,size=null},img.onerror=function(){reject(new Error("JpegDecode failed to load image")),(0,_display_utils.releaseImageResources)(img)},img.src=imageUrl}))}),messageHandler.on("FetchBuiltInCMap",function(data,sink){var fetched;_this14.destroyed?sink.error(new Error("Worker was destroyed")):(fetched=!1,sink.onPull=function(){fetched?sink.close():(fetched=!0,_this14.CMapReaderFactory.fetch(data).then(function(builtInCMap){sink.enqueue(builtInCMap,1,[builtInCMap.cMapData.buffer])}).catch(function(reason){sink.error(reason)}))})})}},{key:"_onUnsupportedFeature",value:function(_ref12){_ref12=_ref12.featureId;this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(_ref12)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(pageNumber){var pageIndex,_this15=this;return!Number.isInteger(pageNumber)||pageNumber<=0||pageNumber>this._numPages?Promise.reject(new Error("Invalid page request")):(pageIndex=pageNumber-1)in this.pagePromises?this.pagePromises[pageIndex]:(pageNumber=this.messageHandler.sendWithPromise("GetPage",{pageIndex:pageIndex}).then(function(pageInfo){if(_this15.destroyed)throw new Error("Transport destroyed");pageInfo=new PDFPageProxy(pageIndex,pageInfo,_this15,_this15._params.pdfBug);return _this15.pageCache[pageIndex]=pageInfo}),this.pagePromises[pageIndex]=pageNumber)}},{key:"getPageIndex",value:function(ref){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:ref}).catch(function(reason){return Promise.reject(new Error(reason))})}},{key:"getAnnotations",value:function(pageIndex,intent){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:pageIndex,intent:intent})}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(id){return"string"!=typeof id?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:id})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenActionDestination",value:function(){return this.messageHandler.sendWithPromise("GetOpenActionDestination",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var _this16=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(results){return{info:results[0],metadata:results[1]?new _metadata.Metadata(results[1]):null,contentDispositionFilename:_this16._fullReader?_this16._fullReader.filename:null}})}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var _this17=this;this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var i=0,ii=_this17.pageCache.length;i<ii;i++){var page=_this17.pageCache[i];page&&page.cleanup()}_this17.commonObjs.clear(),_this17.fontLoader.clear()})}},{key:"loadingParams",get:function(){var params=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:params.disableAutoFetch,disableCreateObjectURL:params.disableCreateObjectURL,disableFontFace:params.disableFontFace,nativeImageDecoderSupport:params.nativeImageDecoderSupport})}}]),WorkerTransport})(),PDFObjects=(()=>{function PDFObjects(){_classCallCheck(this,PDFObjects),this._objs=Object.create(null)}return _createClass(PDFObjects,[{key:"_ensureObj",value:function(objId){return this._objs[objId]||(this._objs[objId]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1})}},{key:"get",value:function(objId){var callback=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(callback)return this._ensureObj(objId).capability.promise.then(callback),null;callback=this._objs[objId];if(callback&&callback.resolved)return callback.data;throw new Error("Requesting object that isn't resolved yet ".concat(objId,"."))}},{key:"has",value:function(objId){objId=this._objs[objId];return!!objId&&objId.resolved}},{key:"resolve",value:function(objId,data){objId=this._ensureObj(objId);objId.resolved=!0,objId.data=data,objId.capability.resolve(data)}},{key:"clear",value:function(){for(var objId in this._objs){objId=this._objs[objId].data;"undefined"!=typeof Image&&objId instanceof Image&&(0,_display_utils.releaseImageResources)(objId)}this._objs=Object.create(null)}}]),PDFObjects})(),RenderTask=(()=>{function RenderTask(internalRenderTask){_classCallCheck(this,RenderTask),this._internalRenderTask=internalRenderTask,this.onContinue=null}return _createClass(RenderTask,[{key:"cancel",value:function(){this._internalRenderTask.cancel()}},{key:"then",value:function(onFulfilled,onRejected){return(0,_display_utils.deprecated)("RenderTask.then method, use the `promise` getter instead."),this.promise.then.apply(this.promise,arguments)}},{key:"promise",get:function(){return this._internalRenderTask.capability.promise}}]),RenderTask})(),InternalRenderTask=(canvasInRendering=new WeakSet,(()=>{function InternalRenderTask(_ref13){var callback=_ref13.callback,params=_ref13.params,objs=_ref13.objs,commonObjs=_ref13.commonObjs,operatorList=_ref13.operatorList,pageNumber=_ref13.pageNumber,canvasFactory=_ref13.canvasFactory,webGLContext=_ref13.webGLContext,_ref13$useRequestAnim=_ref13.useRequestAnimationFrame,_ref13$useRequestAnim=void 0!==_ref13$useRequestAnim&&_ref13$useRequestAnim,_ref13=_ref13.pdfBug,_ref13=void 0!==_ref13&&_ref13;_classCallCheck(this,InternalRenderTask),this.callback=callback,this.params=params,this.objs=objs,this.commonObjs=commonObjs,this.operatorListIdx=null,this.operatorList=operatorList,this.pageNumber=pageNumber,this.canvasFactory=canvasFactory,this.webGLContext=webGLContext,this._pdfBug=_ref13,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===_ref13$useRequestAnim&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=params.canvasContext.canvas}var fn,_next2;return _createClass(InternalRenderTask,[{key:"initializeGraphics",value:function(){var transparency=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(!this.cancelled){if(this._canvas){if(canvasInRendering.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");canvasInRendering.add(this._canvas)}this._pdfBug&&_global_scope.default.StepperManager&&_global_scope.default.StepperManager.enabled&&(this.stepper=_global_scope.default.StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var _this$params=this.params,canvasContext=_this$params.canvasContext,viewport=_this$params.viewport,transform=_this$params.transform,background=_this$params.background;this.gfx=new _canvas.CanvasGraphics(canvasContext,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,_this$params.imageLayer),this.gfx.beginDrawing({transform:transform,viewport:viewport,transparency:transparency,background:background}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var error=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&canvasInRendering.delete(this._canvas),this.callback(error||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this.pageNumber),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var _this18=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){_this18._nextBound().catch(_this18.cancel.bind(_this18))}):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}},{key:"_next",value:(fn=_regenerator.default.mark(function _callee(){return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(this.cancelled)return _context.abrupt("return");_context.next=2;break;case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk)&&(this.gfx.endDrawing(),this._canvas&&canvasInRendering.delete(this._canvas),this.callback());case 4:case"end":return _context.stop()}},_callee,this)}),_next2=function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})},function(){return _next2.apply(this,arguments)})}]),InternalRenderTask})());exports.version="2.3.200";exports.build="4ae3f9fc"},function(module,exports,__w_pdfjs_require__){module.exports=__w_pdfjs_require__(181)},function(module,exports,__w_pdfjs_require__){!function(module){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}module=(exports=>{var undefined,Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function wrap(innerFn,outerFn,self,tryLocsList){outerFn=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,outerFn=Object.create(outerFn.prototype),tryLocsList=new Context(tryLocsList||[]);return outerFn._invoke=((innerFn,self,context)=>{var state=GenStateSuspendedStart;return function(method,arg){if(state===GenStateExecuting)throw new Error("Generator is already running");if(state===GenStateCompleted){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){delegate=function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(method===undefined){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=undefined,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}method=tryCatch(method,delegate.iterator,context.arg);if("throw"===method.type)return context.method="throw",context.arg=method.arg,context.delegate=null,ContinueSentinel;method=method.arg;if(!method)return context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel;{if(!method.done)return method;context[delegate.resultName]=method.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=undefined)}context.delegate=null;return ContinueSentinel}(delegate,context);if(delegate){if(delegate===ContinueSentinel)continue;return delegate}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if(state===GenStateSuspendedStart)throw state=GenStateCompleted,context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state=GenStateExecuting;delegate=tryCatch(innerFn,self,context);if("normal"===delegate.type){if(state=context.done?GenStateCompleted:GenStateSuspendedYield,delegate.arg!==ContinueSentinel)return{value:delegate.arg,done:context.done}}else"throw"===delegate.type&&(state=GenStateCompleted,context.method="throw",context.arg=delegate.arg)}}})(innerFn,self,tryLocsList),outerFn}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var GenStateSuspendedStart="suspendedStart",GenStateSuspendedYield="suspendedYield",GenStateExecuting="executing",GenStateCompleted="completed",ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}($Symbol={})[iteratorSymbol]=function(){return this};var getProto=Object.getPrototypeOf,Gp=((getProto=getProto&&getProto(getProto(values([]))))&&getProto!==Op&&hasOwn.call(getProto,iteratorSymbol)&&($Symbol=getProto),GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create($Symbol));function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg)}})}function AsyncIterator(generator){var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new Promise(function(resolve,reject){!function invoke(method,arg,resolve,reject){var result,method=tryCatch(generator[method],generator,arg);if("throw"!==method.type)return(arg=(result=method.arg).value)&&"object"===_typeof(arg)&&hasOwn.call(arg,"__await")?Promise.resolve(arg.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)}):Promise.resolve(arg).then(function(unwrapped){result.value=unwrapped,resolve(result)},function(error){return invoke("throw",error,resolve,reject)});reject(method.arg)}(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var i,iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length))return i=-1,(iteratorMethod=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=undefined,next.done=!0,next}).next=iteratorMethod}return{next:doneResult}}function doneResult(){return{value:undefined,done:!0}}return(GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype).constructor=GeneratorFunction,GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction",exports.isGeneratorFunction=function(genFun){genFun="function"==typeof genFun&&genFun.constructor;return!!genFun&&(genFun===GeneratorFunction||"GeneratorFunction"===(genFun.displayName||genFun.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,toStringTagSymbol in genFun||(genFun[toStringTagSymbol]="GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this},exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return exports.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),Gp[toStringTagSymbol]="Generator",Gp[iteratorSymbol]=function(){return this},Gp.toString=function(){return"[object Generator]"},exports.keys=function(object){var key,keys=[];for(key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined)},stop:function(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=undefined),!!caught}for(var i=this.tryEntries.length-1;0<=i;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;0<=i;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}var record=(finallyEntry=finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc?null:finallyEntry)?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;0<=i;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;0<=i;--i){var record,thrown,entry=this.tryEntries[i];if(entry.tryLoc===tryLoc)return"throw"===(record=entry.completion).type&&(thrown=record.arg,resetTryEntry(entry)),thrown}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=undefined),ContinueSentinel}},exports})("object"===_typeof(module)?module.exports:{});try{regeneratorRuntime=module}catch(accidentalStrictMode){Function("r","regeneratorRuntime = r")(module)}}.call(this,__w_pdfjs_require__(182)(module))},function(module,exports,__w_pdfjs_require__){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.addLinkAttributes=function(link){var _ref7=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},url=_ref7.url,target=_ref7.target,rel=_ref7.rel,_ref7=_ref7.enabled,_ref7=void 0===_ref7||_ref7,url=((0,_util.assert)(url&&"string"==typeof url,'addLinkAttributes: A valid "url" parameter must provided.'),(0,_util.removeNullCharacters)(url));_ref7?link.href=link.title=url:(link.href="",link.title="Disabled: ".concat(url),link.onclick=function(){return!1});_ref7=Object.values(LinkTarget).includes(target)?target:LinkTarget.NONE;link.target=LinkTargetStringMap[_ref7],link.rel="string"==typeof rel?rel:DEFAULT_LINK_REL},exports.getFilenameFromUrl=function(url){var anchor=url.indexOf("#"),query=url.indexOf("?"),anchor=Math.min(0<anchor?anchor:url.length,0<query?query:url.length);return url.substring(url.lastIndexOf("/",anchor)+1,anchor)},exports.isFetchSupported=isFetchSupported,exports.isValidFetchUrl=isValidFetchUrl,exports.loadScript=function(src){return new Promise(function(resolve,reject){var script=document.createElement("script");script.src=src,script.onload=resolve,script.onerror=function(){reject(new Error("Cannot load script at: ".concat(script.src)))},(document.head||document.documentElement).appendChild(script)})},exports.deprecated=function(details){console.log("Deprecated API usage: "+details)},exports.releaseImageResources=function(img){(0,_util.assert)(img instanceof Image,"Invalid `img` parameter.");var url=img.src;"string"==typeof url&&url.startsWith("blob:")&&URL.revokeObjectURL&&URL.revokeObjectURL(url);img.removeAttribute("src")},exports.PDFDateString=exports.DummyStatTimer=exports.StatTimer=exports.DOMSVGFactory=exports.DOMCMapReaderFactory=exports.DOMCanvasFactory=exports.DEFAULT_LINK_REL=exports.LinkTarget=exports.RenderingCancelledException=exports.PageViewport=void 0;var _regenerator=(obj=__w_pdfjs_require__(180))&&obj.__esModule?obj:{default:obj},_util=__w_pdfjs_require__(1);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?(self=>{if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")})(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps)}var DEFAULT_LINK_REL="noopener noreferrer nofollow",SVG_NS=(exports.DEFAULT_LINK_REL=DEFAULT_LINK_REL,"http://www.w3.org/2000/svg"),obj=(exports.DOMCanvasFactory=(()=>{function DOMCanvasFactory(){_classCallCheck(this,DOMCanvasFactory)}return _createClass(DOMCanvasFactory,[{key:"create",value:function(width,height){if(width<=0||height<=0)throw new Error("Invalid canvas size");var canvas=document.createElement("canvas"),context=canvas.getContext("2d");return canvas.width=width,canvas.height=height,{canvas:canvas,context:context}}},{key:"reset",value:function(canvasAndContext,width,height){if(!canvasAndContext.canvas)throw new Error("Canvas is not specified");if(width<=0||height<=0)throw new Error("Invalid canvas size");canvasAndContext.canvas.width=width,canvasAndContext.canvas.height=height}},{key:"destroy",value:function(canvasAndContext){if(!canvasAndContext.canvas)throw new Error("Canvas is not specified");canvasAndContext.canvas.width=0,canvasAndContext.canvas.height=0,canvasAndContext.canvas=null,canvasAndContext.context=null}}]),DOMCanvasFactory})(),(()=>{function DOMCMapReaderFactory(_ref){var _ref$baseUrl=_ref.baseUrl,_ref$baseUrl=void 0===_ref$baseUrl?null:_ref$baseUrl,_ref=_ref.isCompressed,_ref=void 0!==_ref&&_ref;_classCallCheck(this,DOMCMapReaderFactory),this.baseUrl=_ref$baseUrl,this.isCompressed=_ref}return _createClass(DOMCMapReaderFactory,[{key:"fetch",value:(_fetch=>{function fetch(_x){return _fetch.apply(this,arguments)}return fetch.toString=function(){return _fetch.toString()},fetch})((()=>{var _ref3=_asyncToGenerator(_regenerator.default.mark(function _callee2(_ref2){var name,url,compressionType,_this=this;return _regenerator.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(name=_ref2.name,this.baseUrl){_context2.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(name){_context2.next=5;break}throw new Error("CMap name must be specified.");case 5:if(url=this.baseUrl+name+(this.isCompressed?".bcmap":""),compressionType=this.isCompressed?_util.CMapCompressionType.BINARY:_util.CMapCompressionType.NONE,isFetchSupported()&&isValidFetchUrl(url,document.baseURI))return _context2.abrupt("return",fetch(url).then((()=>{var _ref4=_asyncToGenerator(_regenerator.default.mark(function _callee(response){var cMapData;return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(response.ok){_context.next=2;break}throw new Error(response.statusText);case 2:if(_this.isCompressed)return _context.t0=Uint8Array,_context.next=6,response.arrayBuffer();_context.next=10;break;case 6:_context.t1=_context.sent,cMapData=new _context.t0(_context.t1),_context.next=15;break;case 10:return _context.t2=_util.stringToBytes,_context.next=13,response.text();case 13:_context.t3=_context.sent,cMapData=(0,_context.t2)(_context.t3);case 15:return _context.abrupt("return",{cMapData:cMapData,compressionType:compressionType});case 16:case"end":return _context.stop()}},_callee)}));return function(_x3){return _ref4.apply(this,arguments)}})()).catch(function(reason){throw new Error("Unable to load ".concat(_this.isCompressed?"binary ":"")+"CMap at: ".concat(url))}));_context2.next=9;break;case 9:return _context2.abrupt("return",new Promise(function(resolve,reject){var request=new XMLHttpRequest;request.open("GET",url,!0),_this.isCompressed&&(request.responseType="arraybuffer"),request.onreadystatechange=function(){if(request.readyState===XMLHttpRequest.DONE){var cMapData;if(200===request.status||0===request.status)if(_this.isCompressed&&request.response?cMapData=new Uint8Array(request.response):!_this.isCompressed&&request.responseText&&(cMapData=(0,_util.stringToBytes)(request.responseText)),cMapData)return void resolve({cMapData:cMapData,compressionType:compressionType});reject(new Error(request.statusText))}},request.send(null)}).catch(function(reason){throw new Error("Unable to load ".concat(_this.isCompressed?"binary ":"")+"CMap at: ".concat(url))}));case 10:case"end":return _context2.stop()}},_callee2,this)}));return function(_x2){return _ref3.apply(this,arguments)}})())}]),DOMCMapReaderFactory})()),__w_pdfjs_require__=(exports.DOMCMapReaderFactory=obj,(()=>{function DOMSVGFactory(){_classCallCheck(this,DOMSVGFactory)}return _createClass(DOMSVGFactory,[{key:"create",value:function(width,height){(0,_util.assert)(0<width&&0<height,"Invalid SVG dimensions");var svg=document.createElementNS(SVG_NS,"svg:svg");return svg.setAttribute("version","1.1"),svg.setAttribute("width",width+"px"),svg.setAttribute("height",height+"px"),svg.setAttribute("preserveAspectRatio","none"),svg.setAttribute("viewBox","0 0 "+width+" "+height),svg}},{key:"createElement",value:function(type){return(0,_util.assert)("string"==typeof type,"Invalid SVG element type"),document.createElementNS(SVG_NS,type)}}]),DOMSVGFactory})()),obj=(exports.DOMSVGFactory=__w_pdfjs_require__,(()=>{function PageViewport(_ref5){var rotateA,rotateB,rotateC,rotateD,offsetCanvasX,offsetCanvasY,width,viewBox=_ref5.viewBox,scale=_ref5.scale,rotation=_ref5.rotation,_ref5$offsetX=_ref5.offsetX,_ref5$offsetX=void 0===_ref5$offsetX?0:_ref5$offsetX,_ref5$offsetY=_ref5.offsetY,_ref5$offsetY=void 0===_ref5$offsetY?0:_ref5$offsetY,_ref5=_ref5.dontFlip,_ref5=void 0!==_ref5&&_ref5,centerX=(_classCallCheck(this,PageViewport),this.viewBox=viewBox,this.scale=scale,this.rotation=rotation,this.offsetX=_ref5$offsetX,this.offsetY=_ref5$offsetY,(viewBox[2]+viewBox[0])/2),centerY=(viewBox[3]+viewBox[1])/2;switch(rotation=(rotation%=360)<0?360+rotation:rotation){case 180:rotateA=-1,rotateC=rotateB=0,rotateD=1;break;case 90:rotateC=rotateB=1,rotateD=rotateA=0;break;case 270:rotateC=rotateB=-1,rotateD=rotateA=0;break;default:rotateC=rotateB=0,rotateD=-(rotateA=1)}_ref5&&(rotateC=-rotateC,rotateD=-rotateD),rotation=0===rotateA?(offsetCanvasX=Math.abs(centerY-viewBox[1])*scale+_ref5$offsetX,offsetCanvasY=Math.abs(centerX-viewBox[0])*scale+_ref5$offsetY,width=Math.abs(viewBox[3]-viewBox[1])*scale,Math.abs(viewBox[2]-viewBox[0])*scale):(offsetCanvasX=Math.abs(centerX-viewBox[0])*scale+_ref5$offsetX,offsetCanvasY=Math.abs(centerY-viewBox[1])*scale+_ref5$offsetY,width=Math.abs(viewBox[2]-viewBox[0])*scale,Math.abs(viewBox[3]-viewBox[1])*scale),this.transform=[rotateA*scale,rotateB*scale,rotateC*scale,rotateD*scale,offsetCanvasX-rotateA*scale*centerX-rotateC*scale*centerY,offsetCanvasY-rotateB*scale*centerX-rotateD*scale*centerY],this.width=width,this.height=rotation}return _createClass(PageViewport,[{key:"clone",value:function(){var _ref6=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},_ref6$scale=_ref6.scale,_ref6$scale=void 0===_ref6$scale?this.scale:_ref6$scale,_ref6$rotation=_ref6.rotation,_ref6$rotation=void 0===_ref6$rotation?this.rotation:_ref6$rotation,_ref6=_ref6.dontFlip,_ref6=void 0!==_ref6&&_ref6;return new PageViewport({viewBox:this.viewBox.slice(),scale:_ref6$scale,rotation:_ref6$rotation,offsetX:this.offsetX,offsetY:this.offsetY,dontFlip:_ref6})}},{key:"convertToViewportPoint",value:function(x,y){return _util.Util.applyTransform([x,y],this.transform)}},{key:"convertToViewportRectangle",value:function(rect){var topLeft=_util.Util.applyTransform([rect[0],rect[1]],this.transform),rect=_util.Util.applyTransform([rect[2],rect[3]],this.transform);return[topLeft[0],topLeft[1],rect[0],rect[1]]}},{key:"convertToPdfPoint",value:function(x,y){return _util.Util.applyInverseTransform([x,y],this.transform)}}]),PageViewport})()),__w_pdfjs_require__=(exports.PageViewport=obj,(_BaseException=>{var subClass=RenderingCancelledException;if("function"!=typeof _BaseException&&null!==_BaseException)throw new TypeError("Super expression must either be null or a function");function RenderingCancelledException(msg,type){return _classCallCheck(this,RenderingCancelledException),(msg=_possibleConstructorReturn(this,_getPrototypeOf(RenderingCancelledException).call(this,msg))).type=type,msg}return subClass.prototype=Object.create(_BaseException&&_BaseException.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),_BaseException&&_setPrototypeOf(subClass,_BaseException),RenderingCancelledException})(_util.BaseException)),LinkTarget=(exports.RenderingCancelledException=__w_pdfjs_require__,{NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4}),LinkTargetStringMap=(exports.LinkTarget=LinkTarget,["","_self","_blank","_parent","_top"]);var pdfDateStringRegex,obj=(()=>{function StatTimer(){var enable=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,StatTimer),this.enabled=!!enable,this.started=Object.create(null),this.times=[]}return _createClass(StatTimer,[{key:"time",value:function(name){this.enabled&&(name in this.started&&(0,_util.warn)("Timer is already running for "+name),this.started[name]=Date.now())}},{key:"timeEnd",value:function(name){this.enabled&&(name in this.started||(0,_util.warn)("Timer has not been started for "+name),this.times.push({name:name,start:this.started[name],end:Date.now()}),delete this.started[name])}},{key:"toString",value:function(){var out="",longest=0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.times[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var name=_step.value.name;name.length>longest&&(longest=name.length)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var _iteratorNormalCompletion2=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step2,_iterator2=this.times[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var _time=_step2.value,duration=_time.end-_time.start;out+="".concat(_time.name.padEnd(longest)," ").concat(duration,"ms\n")}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError)throw _iteratorError}}return out}}]),StatTimer})(),__w_pdfjs_require__=(exports.StatTimer=obj,(()=>{function DummyStatTimer(){_classCallCheck(this,DummyStatTimer),(0,_util.unreachable)("Cannot initialize DummyStatTimer.")}return _createClass(DummyStatTimer,null,[{key:"time",value:function(name){}},{key:"timeEnd",value:function(name){}},{key:"toString",value:function(){return""}}]),DummyStatTimer})());function isFetchSupported(){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream}function isValidFetchUrl(url,baseUrl){try{var protocol=(baseUrl?new URL(url,baseUrl):new URL(url)).protocol;return"http:"===protocol||"https:"===protocol}catch(ex){return!1}}exports.DummyStatTimer=__w_pdfjs_require__;obj=(()=>{function PDFDateString(){_classCallCheck(this,PDFDateString)}return _createClass(PDFDateString,null,[{key:"toDateObject",value:function(input){var year,month,day,hour,minute,second,universalTimeRelation,offsetHour;return input&&(0,_util.isString)(input)&&(input=(pdfDateStringRegex=pdfDateStringRegex||new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?")).exec(input))?(year=parseInt(input[1],10),month=1<=(month=parseInt(input[2],10))&&month<=12?month-1:0,day=1<=(day=parseInt(input[3],10))&&day<=31?day:1,hour=0<=(hour=parseInt(input[4],10))&&hour<=23?hour:0,minute=0<=(minute=parseInt(input[5],10))&&minute<=59?minute:0,second=0<=(second=parseInt(input[6],10))&&second<=59?second:0,universalTimeRelation=input[7]||"Z",offsetHour=0<=(offsetHour=parseInt(input[8],10))&&offsetHour<=23?offsetHour:0,input=0<=(input=parseInt(input[9],10)||0)&&input<=59?input:0,"-"===universalTimeRelation?(hour+=offsetHour,minute+=input):"+"===universalTimeRelation&&(hour-=offsetHour,minute-=input),new Date(Date.UTC(year,month,day,hour,minute,second))):null}}]),PDFDateString})();exports.PDFDateString=obj},function(module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.FontLoader=exports.FontFaceObject=void 0;var _regenerator=(obj=__w_pdfjs_require__(180))&&obj.__esModule?obj:{default:obj},_util=__w_pdfjs_require__(1);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?(self=>{if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")})(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps)}var BaseFontLoader=(()=>{function BaseFontLoader(_ref){var docId=_ref.docId,_ref=_ref.onUnsupportedFeature;_classCallCheck(this,BaseFontLoader),this.constructor===BaseFontLoader&&(0,_util.unreachable)("Cannot initialize BaseFontLoader."),this.docId=docId,this._onUnsupportedFeature=_ref,this.nativeFontFaces=[],this.styleElement=null}var fn,_bind;return _createClass(BaseFontLoader,[{key:"addNativeFontFace",value:function(nativeFontFace){this.nativeFontFaces.push(nativeFontFace),document.fonts.add(nativeFontFace)}},{key:"insertRule",value:function(rule){var styleElement=this.styleElement,styleElement=(styleElement||((styleElement=this.styleElement=document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),document.documentElement.getElementsByTagName("head")[0].appendChild(styleElement)),styleElement.sheet);styleElement.insertRule(rule,styleElement.cssRules.length)}},{key:"clear",value:function(){this.nativeFontFaces.forEach(function(nativeFontFace){document.fonts.delete(nativeFontFace)}),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(fn=_regenerator.default.mark(function _callee(font){var nativeFontFace,rule,_this=this;return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(font.attached||font.missingFile)return _context.abrupt("return",void 0);_context.next=2;break;case 2:if(font.attached=!0,this.isFontLoadingAPISupported){if(nativeFontFace=font.createNativeFontFace())return this.addNativeFontFace(nativeFontFace),_context.prev=7,_context.next=10,nativeFontFace.loaded;_context.next=18}else _context.next=19;break;case 10:_context.next=18;break;case 12:throw _context.prev=12,_context.t0=_context.catch(7),this._onUnsupportedFeature({featureId:_util.UNSUPPORTED_FEATURES.font}),(0,_util.warn)("Failed to load font '".concat(nativeFontFace.family,"': '").concat(_context.t0,"'.")),font.disableFontFace=!0,_context.t0;case 18:return _context.abrupt("return",void 0);case 19:if(rule=font.createFontFaceRule()){if(this.insertRule(rule),this.isSyncFontLoadingSupported)return _context.abrupt("return",void 0);_context.next=24}else _context.next=25;break;case 24:return _context.abrupt("return",new Promise(function(resolve){resolve=_this._queueLoadingCallback(resolve);_this._prepareFontLoadEvent([rule],[font],resolve)}));case 25:return _context.abrupt("return",void 0);case 26:case"end":return _context.stop()}},_callee,this,[[7,12]])}),_bind=function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})},function(_x){return _bind.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function(callback){(0,_util.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"_prepareFontLoadEvent",value:function(rules,fontsToLoad,request){(0,_util.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function(){(0,_util.unreachable)("Abstract method `isFontLoadingAPISupported`.")}},{key:"isSyncFontLoadingSupported",get:function(){(0,_util.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,_util.unreachable)("Abstract method `_loadTestFont`.")}}]),BaseFontLoader})(),IsEvalSupportedCached=(exports.FontLoader=void 0,exports.FontLoader=(()=>{var subClass=GenericFontLoader,superClass=BaseFontLoader;if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");function GenericFontLoader(docId){return _classCallCheck(this,GenericFontLoader),(docId=_possibleConstructorReturn(this,_getPrototypeOf(GenericFontLoader).call(this,docId))).loadingContext={requests:[],nextRequestId:0},docId.loadTestFontId=0,docId}return subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass),_createClass(GenericFontLoader,[{key:"_queueLoadingCallback",value:function(callback){var context=this.loadingContext,request={id:"pdfjs-font-loading-".concat(context.nextRequestId++),done:!1,complete:function(){for((0,_util.assert)(!request.done,"completeRequest() cannot be called twice."),request.done=!0;0<context.requests.length&&context.requests[0].done;){var otherRequest=context.requests.shift();setTimeout(otherRequest.callback,0)}},callback:callback};return context.requests.push(request),request}},{key:"_prepareFontLoadEvent",value:function(rules,fonts,request){function int32(data,offset){return data.charCodeAt(offset)<<24|data.charCodeAt(offset+1)<<16|data.charCodeAt(offset+2)<<8|255&data.charCodeAt(offset+3)}function spliceString(s,offset,remove,insert){return s.substring(0,offset)+insert+s.substring(offset+remove)}var canvas=document.createElement("canvas"),ctx=(canvas.width=1,canvas.height=1,canvas.getContext("2d")),called=0;function isFontReady(name,callback){30<++called?((0,_util.warn)("Load test font never loaded."),callback()):(ctx.font="30px "+name,ctx.fillText(".",0,20),0<ctx.getImageData(0,0,1,1).data[3]?callback():setTimeout(isFontReady.bind(null,name,callback)))}for(var loadTestFontId="lt".concat(Date.now()).concat(this.loadTestFontId++),checksum=int32(canvas=spliceString(this._loadTestFont,976,loadTestFontId.length,loadTestFontId),16),i=0,ii=loadTestFontId.length-3;i<ii;i+=4)checksum=checksum-1482184792+int32(loadTestFontId,i)|0;i<loadTestFontId.length&&(checksum=checksum-1482184792+int32(loadTestFontId+"XXX",i)|0),canvas=spliceString(canvas,16,4,(0,_util.string32)(checksum));var canvas="url(data:font/opentype;base64,".concat(btoa(canvas),");"),canvas='@font-face {font-family:"'.concat(loadTestFontId,'";src:').concat(canvas,"}"),names=(this.insertRule(canvas),[]);for(i=0,ii=fonts.length;i<ii;i++)names.push(fonts[i].loadedName);names.push(loadTestFontId);var div=document.createElement("div");for(div.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;"),i=0,ii=names.length;i<ii;++i){var span=document.createElement("span");span.textContent="Hi",span.style.fontFamily=names[i],div.appendChild(span)}document.body.appendChild(div),isFontReady(loadTestFontId,function(){document.body.removeChild(div),request.complete()})}},{key:"isFontLoadingAPISupported",get:function(){var m,supported="undefined"!=typeof document&&!!document.fonts;return supported&&"undefined"!=typeof navigator&&(m=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent))&&m[1]<63&&(supported=!1),(0,_util.shadow)(this,"isFontLoadingAPISupported",supported)}},{key:"isSyncFontLoadingSupported",get:function(){var m,supported=!1;return("undefined"==typeof navigator||(m=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent))&&14<=m[1])&&(supported=!0),(0,_util.shadow)(this,"isSyncFontLoadingSupported",supported)}},{key:"_loadTestFont",get:function(){return(0,_util.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}}]),GenericFontLoader})(),{get value(){return(0,_util.shadow)(this,"value",(0,_util.isEvalSupported)())}}),obj=(()=>{function FontFaceObject(translatedData,_ref2){var i,_ref2$isEvalSupported=_ref2.isEvalSupported,_ref2$isEvalSupported=void 0===_ref2$isEvalSupported||_ref2$isEvalSupported,_ref2$disableFontFace=_ref2.disableFontFace,_ref2$disableFontFace=void 0!==_ref2$disableFontFace&&_ref2$disableFontFace,_ref2$ignoreErrors=_ref2.ignoreErrors,_ref2$ignoreErrors=void 0!==_ref2$ignoreErrors&&_ref2$ignoreErrors,_ref2$onUnsupportedFe=_ref2.onUnsupportedFeature,_ref2$onUnsupportedFe=void 0===_ref2$onUnsupportedFe?null:_ref2$onUnsupportedFe,_ref2=_ref2.fontRegistry,_ref2=void 0===_ref2?null:_ref2;for(i in _classCallCheck(this,FontFaceObject),this.compiledGlyphs=Object.create(null),translatedData)this[i]=translatedData[i];this.isEvalSupported=!1!==_ref2$isEvalSupported,this.disableFontFace=!0===_ref2$disableFontFace,this.ignoreErrors=!0===_ref2$ignoreErrors,this._onUnsupportedFeature=_ref2$onUnsupportedFe,this.fontRegistry=_ref2}return _createClass(FontFaceObject,[{key:"createNativeFontFace",value:function(){var nativeFontFace;return!this.data||this.disableFontFace?null:(nativeFontFace=new FontFace(this.loadedName,this.data,{}),this.fontRegistry&&this.fontRegistry.registerFont(this),nativeFontFace)}},{key:"createFontFaceRule",value:function(){var data,rule;return!this.data||this.disableFontFace?null:(data=(0,_util.bytesToString)(new Uint8Array(this.data)),data="url(data:".concat(this.mimetype,";base64,").concat(btoa(data),");"),rule='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(data,"}"),this.fontRegistry&&this.fontRegistry.registerFont(this,data),rule)}},{key:"getPathGenerator",value:function(objs,character){if(void 0!==this.compiledGlyphs[character])return this.compiledGlyphs[character];var cmds,current;try{cmds=objs.get(this.loadedName+"_path_"+character)}catch(ex){if(this.ignoreErrors)return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:_util.UNSUPPORTED_FEATURES.font}),(0,_util.warn)('getPathGenerator - ignoring character: "'.concat(ex,'".')),this.compiledGlyphs[character]=function(c,size){};throw ex}if(this.isEvalSupported&&IsEvalSupportedCached.value){for(var args,js="",i=0,ii=cmds.length;i<ii;i++)args=void 0!==(current=cmds[i]).args?current.args.join(","):"",js+="c."+current.cmd+"("+args+");\n";return this.compiledGlyphs[character]=new Function("c","size",js)}return this.compiledGlyphs[character]=function(c,size){for(var _i=0,_ii=cmds.length;_i<_ii;_i++)"scale"===(current=cmds[_i]).cmd&&(current.args=[size,-size]),c[current.cmd].apply(c,current.args)}}}]),FontFaceObject})();exports.FontFaceObject=obj},function(module,exports,__w_pdfjs_require__){var compatibilityParams=Object.create(null),__w_pdfjs_require__=__w_pdfjs_require__(4),userAgent="undefined"!=typeof navigator&&navigator.userAgent||"",isIE=/Trident/.test(userAgent),userAgent=/CriOS/.test(userAgent);(isIE||userAgent)&&(compatibilityParams.disableCreateObjectURL=!0),__w_pdfjs_require__()&&(compatibilityParams.disableFontFace=!0,compatibilityParams.nativeImageDecoderSupport="none"),exports.apiCompatibilityParams=Object.freeze(compatibilityParams)},function(module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.CanvasGraphics=void 0;var _util=__w_pdfjs_require__(1),_pattern_helper=__w_pdfjs_require__(187),IsLittleEndianCached={get value(){return(0,_util.shadow)(IsLittleEndianCached,"value",(0,_util.isLittleEndian)())}};function addContextCurrentTransform(ctx){ctx.mozCurrentTransform||(ctx._originalSave=ctx.save,ctx._originalRestore=ctx.restore,ctx._originalRotate=ctx.rotate,ctx._originalScale=ctx.scale,ctx._originalTranslate=ctx.translate,ctx._originalTransform=ctx.transform,ctx._originalSetTransform=ctx.setTransform,ctx._transformMatrix=ctx._transformMatrix||[1,0,0,1,0,0],ctx._transformStack=[],Object.defineProperty(ctx,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(ctx,"mozCurrentTransformInverse",{get:function(){var m=this._transformMatrix,a=m[0],b=m[1],c=m[2],d=m[3],e=m[4],m=m[5],ad_bc=a*d-b*c,bc_ad=b*c-a*d;return[d/ad_bc,b/bc_ad,c/bc_ad,a/ad_bc,(d*e-c*m)/bc_ad,(b*e-a*m)/ad_bc]}}),ctx.save=function(){var old=this._transformMatrix;this._transformStack.push(old),this._transformMatrix=old.slice(0,6),this._originalSave()},ctx.restore=function(){var prev=this._transformStack.pop();prev&&(this._transformMatrix=prev,this._originalRestore())},ctx.translate=function(x,y){var m=this._transformMatrix;m[4]=m[0]*x+m[2]*y+m[4],m[5]=m[1]*x+m[3]*y+m[5],this._originalTranslate(x,y)},ctx.scale=function(x,y){var m=this._transformMatrix;m[0]=m[0]*x,m[1]=m[1]*x,m[2]=m[2]*y,m[3]=m[3]*y,this._originalScale(x,y)},ctx.transform=function(a,b,c,d,e,f){var m=this._transformMatrix;this._transformMatrix=[m[0]*a+m[2]*b,m[1]*a+m[3]*b,m[0]*c+m[2]*d,m[1]*c+m[3]*d,m[0]*e+m[2]*f+m[4],m[1]*e+m[3]*f+m[5]],ctx._originalTransform(a,b,c,d,e,f)},ctx.setTransform=function(a,b,c,d,e,f){this._transformMatrix=[a,b,c,d,e,f],ctx._originalSetTransform(a,b,c,d,e,f)},ctx.rotate=function(angle){var cosValue=Math.cos(angle),sinValue=Math.sin(angle),m=this._transformMatrix;this._transformMatrix=[m[0]*cosValue+m[2]*sinValue,m[1]*cosValue+m[3]*sinValue,m[0]*-sinValue+m[2]*cosValue,m[1]*-sinValue+m[3]*cosValue,m[4],m[5]],this._originalRotate(angle)})}var CachedCanvases=(()=>{function CachedCanvases(canvasFactory){this.canvasFactory=canvasFactory,this.cache=Object.create(null)}return CachedCanvases.prototype={getCanvas:function(id,width,height,trackTransform){var canvasEntry;return void 0!==this.cache[id]?(canvasEntry=this.cache[id],this.canvasFactory.reset(canvasEntry,width,height),canvasEntry.context.setTransform(1,0,0,1,0,0)):(canvasEntry=this.canvasFactory.create(width,height),this.cache[id]=canvasEntry),trackTransform&&addContextCurrentTransform(canvasEntry.context),canvasEntry},clear:function(){for(var id in this.cache){var canvasEntry=this.cache[id];this.canvasFactory.destroy(canvasEntry),delete this.cache[id]}}},CachedCanvases})();var CanvasExtraState=(()=>{function CanvasExtraState(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=_util.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=_util.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=_util.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return CanvasExtraState.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(x,y){this.x=x,this.y=y}},CanvasExtraState})(),__w_pdfjs_require__=(()=>{function CanvasGraphics(canvasCtx,commonObjs,objs,canvasFactory,webGLContext,imageLayer){this.ctx=canvasCtx,this.current=new CanvasExtraState,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=commonObjs,this.objs=objs,this.canvasFactory=canvasFactory,this.webGLContext=webGLContext,this.imageLayer=imageLayer,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new CachedCanvases(this.canvasFactory),canvasCtx&&addContextCurrentTransform(canvasCtx),this._cachedGetSinglePixelWidth=null}function putBinaryImageData(ctx,imgData){if("undefined"!=typeof ImageData&&imgData instanceof ImageData)ctx.putImageData(imgData,0,0);else{var destPos,j,thisChunkHeight,elemsInThisChunk,height=imgData.height,width=imgData.width,partialChunkHeight=height%16,fullChunks=(height-partialChunkHeight)/16,totalChunks=0==partialChunkHeight?fullChunks:1+fullChunks,chunkImgData=ctx.createImageData(width,16),srcPos=0,src=imgData.data,dest=chunkImgData.data;if(imgData.kind===_util.ImageKind.GRAYSCALE_1BPP)for(var srcLength=src.byteLength,dest32=new Uint32Array(dest.buffer,0,dest.byteLength>>2),dest32DataLength=dest32.length,fullSrcDiff=width+7>>3,white=4294967295,black=IsLittleEndianCached.value?4278190080:255,i=0;i<totalChunks;i++){for(thisChunkHeight=i<fullChunks?16:partialChunkHeight,j=destPos=0;j<thisChunkHeight;j++){for(var srcDiff=srcLength-srcPos,k=0,kEnd=fullSrcDiff<srcDiff?width:8*srcDiff-7,kEndUnrolled=-8&kEnd,mask=0,srcByte=0;k<kEndUnrolled;k+=8)srcByte=src[srcPos++],dest32[destPos++]=128&srcByte?white:black,dest32[destPos++]=64&srcByte?white:black,dest32[destPos++]=32&srcByte?white:black,dest32[destPos++]=16&srcByte?white:black,dest32[destPos++]=8&srcByte?white:black,dest32[destPos++]=4&srcByte?white:black,dest32[destPos++]=2&srcByte?white:black,dest32[destPos++]=1&srcByte?white:black;for(;k<kEnd;k++)0===mask&&(srcByte=src[srcPos++],mask=128),dest32[destPos++]=srcByte&mask?white:black,mask>>=1}for(;destPos<dest32DataLength;)dest32[destPos++]=0;ctx.putImageData(chunkImgData,0,16*i)}else if(imgData.kind===_util.ImageKind.RGBA_32BPP){for(elemsInThisChunk=16*width*4,i=j=0;i<fullChunks;i++)dest.set(src.subarray(srcPos,srcPos+elemsInThisChunk)),srcPos+=elemsInThisChunk,ctx.putImageData(chunkImgData,0,j),j+=16;i<totalChunks&&(dest.set(src.subarray(srcPos,srcPos+(elemsInThisChunk=width*partialChunkHeight*4))),ctx.putImageData(chunkImgData,0,j))}else{if(imgData.kind!==_util.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(imgData.kind));for(elemsInThisChunk=width*(thisChunkHeight=16),i=0;i<totalChunks;i++){for(destPos=0,j=elemsInThisChunk=fullChunks<=i?width*(thisChunkHeight=partialChunkHeight):elemsInThisChunk;j--;)dest[destPos++]=src[srcPos++],dest[destPos++]=src[srcPos++],dest[destPos++]=src[srcPos++],dest[destPos++]=255;ctx.putImageData(chunkImgData,0,16*i)}}}}function putBinaryImageMask(ctx,imgData){for(var height=imgData.height,width=imgData.width,partialChunkHeight=height%16,fullChunks=(height-partialChunkHeight)/16,totalChunks=0==partialChunkHeight?fullChunks:1+fullChunks,chunkImgData=ctx.createImageData(width,16),srcPos=0,src=imgData.data,dest=chunkImgData.data,i=0;i<totalChunks;i++){for(var thisChunkHeight=i<fullChunks?16:partialChunkHeight,destPos=3,j=0;j<thisChunkHeight;j++)for(var elem,mask=0,k=0;k<width;k++)mask||(elem=src[srcPos++],mask=128),dest[destPos]=elem&mask?0:255,destPos+=4,mask>>=1;ctx.putImageData(chunkImgData,0,16*i)}}function copyCtxState(sourceCtx,destCtx){for(var properties=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],i=0,ii=properties.length;i<ii;i++){var property=properties[i];void 0!==sourceCtx[property]&&(destCtx[property]=sourceCtx[property])}void 0!==sourceCtx.setLineDash&&(destCtx.setLineDash(sourceCtx.getLineDash()),destCtx.lineDashOffset=sourceCtx.lineDashOffset)}function resetCtxToDefault(ctx){ctx.strokeStyle="#000000",ctx.fillStyle="#000000",ctx.fillRule="nonzero",ctx.globalAlpha=1,ctx.lineWidth=1,ctx.lineCap="butt",ctx.lineJoin="miter",ctx.miterLimit=10,ctx.globalCompositeOperation="source-over",ctx.font="10px sans-serif",void 0!==ctx.setLineDash&&(ctx.setLineDash([]),ctx.lineDashOffset=0)}function composeSMaskAlpha(maskData,layerData,transferMap){for(var length=maskData.length,i=3;i<length;i+=4){var alpha=transferMap?transferMap[maskData[i]]:maskData[i];layerData[i]=layerData[i]*alpha*(1/255)|0}}function composeSMaskLuminosity(maskData,layerData,transferMap){for(var length=maskData.length,i=3;i<length;i+=4){var y=77*maskData[i-3]+152*maskData[i-2]+28*maskData[i-1];layerData[i]=transferMap?layerData[i]*transferMap[y>>8]>>8:layerData[i]*y>>16}}function genericComposeSMask(maskCtx,layerCtx,width,height,subtype,backdrop,transferMap){for(var hasBackdrop=!!backdrop,r0=hasBackdrop?backdrop[0]:0,g0=hasBackdrop?backdrop[1]:0,b0=hasBackdrop?backdrop[2]:0,composeFn="Luminosity"===subtype?composeSMaskLuminosity:composeSMaskAlpha,chunkSize=Math.min(height,Math.ceil(1048576/width)),row=0;row<height;row+=chunkSize){var chunkHeight=Math.min(chunkSize,height-row),maskData=maskCtx.getImageData(0,row,width,chunkHeight),chunkHeight=layerCtx.getImageData(0,row,width,chunkHeight);hasBackdrop&&((bytes,r0,g0,b0)=>{for(var length=bytes.length,i=3;i<length;i+=4){var alpha_,alpha=bytes[i];0===alpha?(bytes[i-3]=r0,bytes[i-2]=g0,bytes[i-1]=b0):alpha<255&&(bytes[i-3]=bytes[i-3]*alpha+r0*(alpha_=255-alpha)>>8,bytes[i-2]=bytes[i-2]*alpha+g0*alpha_>>8,bytes[i-1]=bytes[i-1]*alpha+b0*alpha_>>8)}})(maskData.data,r0,g0,b0),composeFn(maskData.data,chunkHeight.data,transferMap),maskCtx.putImageData(chunkHeight,0,row)}}function composeSMask(ctx,smask,layerCtx,webGLContext){var mask=smask.canvas,maskCtx=smask.context,backdrop=(ctx.setTransform(smask.scaleX,0,0,smask.scaleY,smask.offsetX,smask.offsetY),smask.backdrop||null);!smask.transferMap&&webGLContext.isEnabled?(webGLContext=webGLContext.composeSMask({layer:layerCtx.canvas,mask:mask,properties:{subtype:smask.subtype,backdrop:backdrop}}),ctx.setTransform(1,0,0,1,0,0),ctx.drawImage(webGLContext,smask.offsetX,smask.offsetY)):(genericComposeSMask(maskCtx,layerCtx,mask.width,mask.height,smask.subtype,backdrop,smask.transferMap),ctx.drawImage(mask,0,0))}var op,LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};for(op in CanvasGraphics.prototype={beginDrawing:function(_ref){var transform=_ref.transform,viewport=_ref.viewport,_ref$transparency=_ref.transparency,_ref$transparency=void 0!==_ref$transparency&&_ref$transparency,_ref=_ref.background,_ref=void 0===_ref?null:_ref,width=this.ctx.canvas.width,height=this.ctx.canvas.height;this.ctx.save(),this.ctx.fillStyle=_ref||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,width,height),this.ctx.restore(),_ref$transparency&&(_ref=this.cachedCanvases.getCanvas("transparent",width,height,!0),this.compositeCtx=this.ctx,this.transparentCanvas=_ref.canvas,this.ctx=_ref.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)),this.ctx.save(),resetCtxToDefault(this.ctx),transform&&this.ctx.transform.apply(this.ctx,transform),this.ctx.transform.apply(this.ctx,viewport.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(operatorList,executionStartIdx,continueCallback,stepper){var argsArray=operatorList.argsArray,fnArray=operatorList.fnArray,i=executionStartIdx||0,argsArrayLen=argsArray.length;if(argsArrayLen===i)return i;for(var chunkOperations=10<argsArrayLen-i&&"function"==typeof continueCallback,endTime=chunkOperations?Date.now()+15:0,steps=0,commonObjs=this.commonObjs,objs=this.objs;;){if(void 0!==stepper&&i===stepper.nextBreakPoint)return stepper.breakIt(i,continueCallback),i;if((fnId=fnArray[i])!==_util.OPS.dependency)this[fnId].apply(this,argsArray[i]);else{var _iteratorNormalCompletion=!0,fnId=!1,_iteratorError=void 0;try{for(var _step,_iterator=argsArray[i][Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var depObjId=_step.value,objsPool=depObjId.startsWith("g_")?commonObjs:objs;if(!objsPool.has(depObjId))return objsPool.get(depObjId,continueCallback),i}}catch(err){fnId=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(fnId)throw _iteratorError}}}if(++i===argsArrayLen)return i;if(chunkOperations&&10<++steps){if(Date.now()>endTime)return continueCallback(),i;steps=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(width){this.current.lineWidth=width,this.ctx.lineWidth=width},setLineCap:function(style){this.ctx.lineCap=LINE_CAP_STYLES[style]},setLineJoin:function(style){this.ctx.lineJoin=LINE_JOIN_STYLES[style]},setMiterLimit:function(limit){this.ctx.miterLimit=limit},setDash:function(dashArray,dashPhase){var ctx=this.ctx;void 0!==ctx.setLineDash&&(ctx.setLineDash(dashArray),ctx.lineDashOffset=dashPhase)},setRenderingIntent:function(intent){},setFlatness:function(flatness){},setGState:function(states){for(var i=0,ii=states.length;i<ii;i++){var state=states[i],key=state[0],value=state[1];switch(key){case"LW":this.setLineWidth(value);break;case"LC":this.setLineCap(value);break;case"LJ":this.setLineJoin(value);break;case"ML":this.setMiterLimit(value);break;case"D":this.setDash(value[0],value[1]);break;case"RI":this.setRenderingIntent(value);break;case"FL":this.setFlatness(value);break;case"Font":this.setFont(value[0],value[1]);break;case"CA":this.current.strokeAlpha=state[1];break;case"ca":this.current.fillAlpha=state[1],this.ctx.globalAlpha=state[1];break;case"BM":this.ctx.globalCompositeOperation=value;break;case"SMask":this.current.activeSMask&&(0<this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=value?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var activeSMask=this.current.activeSMask,drawnWidth=activeSMask.canvas.width,drawnHeight=activeSMask.canvas.height,cacheId="smaskGroupAt"+this.groupLevel,cacheId=this.cachedCanvases.getCanvas(cacheId,drawnWidth,drawnHeight,!0),drawnWidth=this.ctx,drawnHeight=drawnWidth.mozCurrentTransform,cacheId=(this.ctx.save(),cacheId.context);cacheId.scale(1/activeSMask.scaleX,1/activeSMask.scaleY),cacheId.translate(-activeSMask.offsetX,-activeSMask.offsetY),cacheId.transform.apply(cacheId,drawnHeight),activeSMask.startTransformInverse=cacheId.mozCurrentTransformInverse,copyCtxState(drawnWidth,cacheId),this.ctx=cacheId,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(drawnWidth),this.groupLevel++},suspendSMaskGroup:function(){var groupCtx=this.ctx,deltaTransform=(this.groupLevel--,this.ctx=this.groupStack.pop(),composeSMask(this.ctx,this.current.activeSMask,groupCtx,this.webGLContext),this.ctx.restore(),this.ctx.save(),copyCtxState(groupCtx,this.ctx),this.current.resumeSMaskCtx=groupCtx,_util.Util.transform(this.current.activeSMask.startTransformInverse,groupCtx.mozCurrentTransform));this.ctx.transform.apply(this.ctx,deltaTransform),groupCtx.save(),groupCtx.setTransform(1,0,0,1,0,0),groupCtx.clearRect(0,0,groupCtx.canvas.width,groupCtx.canvas.height),groupCtx.restore()},resumeSMaskGroup:function(){var groupCtx=this.current.resumeSMaskCtx,currentCtx=this.ctx;this.ctx=groupCtx,this.groupStack.push(currentCtx),this.groupLevel++},endSMaskGroup:function(){var groupCtx=this.ctx,groupCtx=(this.groupLevel--,this.ctx=this.groupStack.pop(),composeSMask(this.ctx,this.current.activeSMask,groupCtx,this.webGLContext),this.ctx.restore(),copyCtxState(groupCtx,this.ctx),_util.Util.transform(this.current.activeSMask.startTransformInverse,groupCtx.mozCurrentTransform));this.ctx.transform.apply(this.ctx,groupCtx)},save:function(){this.ctx.save();var old=this.current;this.stateStack.push(old),this.current=old.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)},transform:function(a,b,c,d,e,f){this.ctx.transform(a,b,c,d,e,f),this._cachedGetSinglePixelWidth=null},constructPath:function(ops,args){for(var ctx=this.ctx,current=this.current,x=current.x,y=current.y,i=0,j=0,ii=ops.length;i<ii;i++)switch(0|ops[i]){case _util.OPS.rectangle:var x=args[j++],y=args[j++],width=args[j++],height=args[j++],width=x+(width=0===width?this.getSinglePixelWidth():width),height=y+(height=0===height?this.getSinglePixelWidth():height);this.ctx.moveTo(x,y),this.ctx.lineTo(width,y),this.ctx.lineTo(width,height),this.ctx.lineTo(x,height),this.ctx.lineTo(x,y),this.ctx.closePath();break;case _util.OPS.moveTo:x=args[j++],y=args[j++],ctx.moveTo(x,y);break;case _util.OPS.lineTo:x=args[j++],y=args[j++],ctx.lineTo(x,y);break;case _util.OPS.curveTo:x=args[j+4],ctx.bezierCurveTo(args[j],args[j+1],args[j+2],args[j+3],x,y=args[j+5]),j+=6;break;case _util.OPS.curveTo2:ctx.bezierCurveTo(x,y,args[j],args[j+1],args[j+2],args[j+3]),x=args[j+2],y=args[j+3],j+=4;break;case _util.OPS.curveTo3:x=args[j+2],ctx.bezierCurveTo(args[j],args[j+1],x,y=args[j+3],x,y),j+=4;break;case _util.OPS.closePath:ctx.closePath()}current.setCurrentPoint(x,y)},closePath:function(){this.ctx.closePath()},stroke:function(consumePath){consumePath=void 0===consumePath||consumePath;var transform,ctx=this.ctx,strokeColor=this.current.strokeColor;ctx.globalAlpha=this.current.strokeAlpha,strokeColor&&strokeColor.hasOwnProperty("type")&&"Pattern"===strokeColor.type?(ctx.save(),transform=ctx.mozCurrentTransform,transform=_util.Util.singularValueDecompose2dScale(transform)[0],ctx.strokeStyle=strokeColor.getPattern(ctx,this),ctx.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth*transform),ctx.stroke(),ctx.restore()):(ctx.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth),ctx.stroke()),consumePath&&this.consumePath(),ctx.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(consumePath){consumePath=void 0===consumePath||consumePath;var ctx=this.ctx,fillColor=this.current.fillColor,needRestore=!1;this.current.patternFill&&(ctx.save(),this.baseTransform&&ctx.setTransform.apply(ctx,this.baseTransform),ctx.fillStyle=fillColor.getPattern(ctx,this),needRestore=!0),this.pendingEOFill?(ctx.fill("evenodd"),this.pendingEOFill=!1):ctx.fill(),needRestore&&ctx.restore(),consumePath&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=NORMAL_CLIP},eoClip:function(){this.pendingClip=EO_CLIP},beginText:function(){this.current.textMatrix=_util.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var paths=this.pendingTextPaths,ctx=this.ctx;if(void 0===paths)ctx.beginPath();else{ctx.save(),ctx.beginPath();for(var i=0;i<paths.length;i++){var path=paths[i];ctx.setTransform.apply(ctx,path.transform),ctx.translate(path.x,path.y),path.addToPath(ctx,path.fontSize)}ctx.restore(),ctx.clip(),ctx.beginPath(),delete this.pendingTextPaths}},setCharSpacing:function(spacing){this.current.charSpacing=spacing},setWordSpacing:function(spacing){this.current.wordSpacing=spacing},setHScale:function(scale){this.current.textHScale=scale/100},setLeading:function(leading){this.current.leading=-leading},setFont:function(fontRefName,size){var fontObj=this.commonObjs.get(fontRefName),current=this.current;if(!fontObj)throw new Error("Can't find font for ".concat(fontRefName));current.fontMatrix=fontObj.fontMatrix||_util.FONT_IDENTITY_MATRIX,0!==current.fontMatrix[0]&&0!==current.fontMatrix[3]||(0,_util.warn)("Invalid font matrix for font "+fontRefName),size<0?(size=-size,current.fontDirection=-1):current.fontDirection=1,this.current.font=fontObj,this.current.fontSize=size,fontObj.isType3Font||(fontRefName=fontObj.black?"900":fontObj.bold?"bold":"normal",current=fontObj.italic?"italic":"normal",fontObj='"'.concat(fontObj.loadedName||"sans-serif",'", ').concat(fontObj.fallbackName),this.current.fontSizeScale=size/(size=size<16?16:100<size?100:size),this.ctx.font="".concat(current," ").concat(fontRefName," ").concat(size,"px ").concat(fontObj))},setTextRenderingMode:function(mode){this.current.textRenderingMode=mode},setTextRise:function(rise){this.current.textRise=rise},moveText:function(x,y){this.current.x=this.current.lineX+=x,this.current.y=this.current.lineY+=y},setLeadingMoveText:function(x,y){this.setLeading(-y),this.moveText(x,y)},setTextMatrix:function(a,b,c,d,e,f){this.current.textMatrix=[a,b,c,d,e,f],this.current.textMatrixScale=Math.sqrt(a*a+b*b),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(character,x,y,patternTransform){var addToPath,ctx=this.ctx,current=this.current,font=current.font,textRenderingMode=current.textRenderingMode,fontSize=current.fontSize/current.fontSizeScale,fillStrokeMode=textRenderingMode&_util.TextRenderingMode.FILL_STROKE_MASK,textRenderingMode=!!(textRenderingMode&_util.TextRenderingMode.ADD_TO_PATH_FLAG),current=current.patternFill&&font.data;(font.disableFontFace||textRenderingMode||current)&&(addToPath=font.getPathGenerator(this.commonObjs,character)),font.disableFontFace||current?(ctx.save(),ctx.translate(x,y),ctx.beginPath(),addToPath(ctx,fontSize),patternTransform&&ctx.setTransform.apply(ctx,patternTransform),fillStrokeMode!==_util.TextRenderingMode.FILL&&fillStrokeMode!==_util.TextRenderingMode.FILL_STROKE||ctx.fill(),fillStrokeMode!==_util.TextRenderingMode.STROKE&&fillStrokeMode!==_util.TextRenderingMode.FILL_STROKE||ctx.stroke(),ctx.restore()):(fillStrokeMode!==_util.TextRenderingMode.FILL&&fillStrokeMode!==_util.TextRenderingMode.FILL_STROKE||ctx.fillText(character,x,y),fillStrokeMode!==_util.TextRenderingMode.STROKE&&fillStrokeMode!==_util.TextRenderingMode.FILL_STROKE||ctx.strokeText(character,x,y)),textRenderingMode&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ctx.mozCurrentTransform,x:x,y:y,fontSize:fontSize,addToPath:addToPath})},get isFontSubpixelAAEnabled(){for(var ctx=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context,data=(ctx.scale(1.5,1),ctx.fillText("I",0,10),ctx.getImageData(0,0,10,10).data),enabled=!1,i=3;i<data.length;i+=4)if(0<data[i]&&data[i]<255){enabled=!0;break}return(0,_util.shadow)(this,"isFontSubpixelAAEnabled",enabled)},showText:function(glyphs){var current=this.current,font=current.font;if(font.isType3Font)return this.showType3Text(glyphs);var fontSize=current.fontSize;if(0!==fontSize){for(var patternTransform,fillStrokeMode,ctx=this.ctx,fontSizeScale=current.fontSizeScale,charSpacing=current.charSpacing,wordSpacing=current.wordSpacing,fontDirection=current.fontDirection,textHScale=current.textHScale*fontDirection,glyphsLength=glyphs.length,vertical=font.vertical,spacingDir=vertical?1:-1,defaultVMetrics=font.defaultVMetrics,widthAdvanceScale=fontSize*current.fontMatrix[0],simpleFillText=current.textRenderingMode===_util.TextRenderingMode.FILL&&!font.disableFontFace&&!current.patternFill,pattern=(ctx.save(),current.patternFill&&(ctx.save(),pattern=current.fillColor.getPattern(ctx,this),patternTransform=ctx.mozCurrentTransform,ctx.restore(),ctx.fillStyle=pattern),ctx.transform.apply(ctx,current.textMatrix),ctx.translate(current.x,current.y+current.textRise),0<fontDirection?ctx.scale(textHScale,-1):ctx.scale(textHScale,1),current.lineWidth),scale=current.textMatrixScale,x=(0===scale||0===pattern?(fillStrokeMode=current.textRenderingMode&_util.TextRenderingMode.FILL_STROKE_MASK)!==_util.TextRenderingMode.STROKE&&fillStrokeMode!==_util.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,pattern=.65*this.getSinglePixelWidth()):pattern/=scale,1!==fontSizeScale&&(ctx.scale(fontSizeScale,fontSizeScale),pattern/=fontSizeScale),ctx.lineWidth=pattern,0),i=0;i<glyphsLength;++i){var spacing,character,accent,width,vmetric,vx,vy,characterScaleX,restoreNeeded,glyph=glyphs[i];(0,_util.isNum)(glyph)?x+=spacingDir*glyph*fontSize/1e3:(restoreNeeded=!1,spacing=(glyph.isSpace?wordSpacing:0)+charSpacing,character=glyph.fontChar,accent=glyph.accent,width=glyph.width,vx=vertical?(vmetric=glyph.vmetric||defaultVMetrics,vx=glyph.vmetric?vmetric[1]:.5*width,vy=vmetric[2]*widthAdvanceScale,width=vmetric?-vmetric[0]:width,vmetric=(vx=-vx*widthAdvanceScale)/fontSizeScale,(x+vy)/fontSizeScale):(vmetric=x/fontSizeScale,0),font.remeasure&&0<width&&(width<(vy=1e3*ctx.measureText(character).width/fontSize*fontSizeScale)&&this.isFontSubpixelAAEnabled?(characterScaleX=width/vy,restoreNeeded=!0,ctx.save(),ctx.scale(characterScaleX,1),vmetric/=characterScaleX):width!==vy&&(vmetric+=(width-vy)/2e3*fontSize/fontSizeScale)),(glyph.isInFont||font.missingFile)&&(simpleFillText&&!accent?ctx.fillText(character,vmetric,vx):(this.paintChar(character,vmetric,vx,patternTransform),accent&&(characterScaleX=vmetric+accent.offset.x/fontSizeScale,glyph=vx-accent.offset.y/fontSizeScale,this.paintChar(accent.fontChar,characterScaleX,glyph,patternTransform)))),x+=width*widthAdvanceScale+spacing*fontDirection,restoreNeeded&&ctx.restore())}vertical?current.y-=x*textHScale:current.x+=x*textHScale,ctx.restore()}},showType3Text:function(glyphs){var i,ctx=this.ctx,current=this.current,font=current.font,fontSize=current.fontSize,fontDirection=current.fontDirection,spacingDir=font.vertical?1:-1,charSpacing=current.charSpacing,wordSpacing=current.wordSpacing,textHScale=current.textHScale*fontDirection,fontMatrix=current.fontMatrix||_util.FONT_IDENTITY_MATRIX,glyphsLength=glyphs.length,isTextInvisible=current.textRenderingMode===_util.TextRenderingMode.INVISIBLE;if(!isTextInvisible&&0!==fontSize){for(this._cachedGetSinglePixelWidth=null,ctx.save(),ctx.transform.apply(ctx,current.textMatrix),ctx.translate(current.x,current.y),ctx.scale(textHScale,fontDirection),i=0;i<glyphsLength;++i){var spacingLength,operatorList,glyph=glyphs[i];(0,_util.isNum)(glyph)?(this.ctx.translate(spacingLength=spacingDir*glyph*fontSize/1e3,0),current.x+=spacingLength*textHScale):(spacingLength=(glyph.isSpace?wordSpacing:0)+charSpacing,(operatorList=font.charProcOperatorList[glyph.operatorListId])?(this.processingType3=glyph,this.save(),ctx.scale(fontSize,fontSize),ctx.transform.apply(ctx,fontMatrix),this.executeOperatorList(operatorList),this.restore(),operatorList=_util.Util.applyTransform([glyph.width,0],fontMatrix)[0]*fontSize+spacingLength,ctx.translate(operatorList,0),current.x+=operatorList*textHScale):(0,_util.warn)('Type3 character "'.concat(glyph.operatorListId,'" is not available.')))}ctx.restore(),this.processingType3=null}},setCharWidth:function(xWidth,yWidth){},setCharWidthAndBounds:function(xWidth,yWidth,llx,lly,urx,ury){this.ctx.rect(llx,lly,urx-llx,ury-lly),this.clip(),this.endPath()},getColorN_Pattern:function(IR){var color,baseTransform,_this=this;return"TilingPattern"===IR[0]?(color=IR[1],baseTransform=this.baseTransform||this.ctx.mozCurrentTransform.slice(),new _pattern_helper.TilingPattern(IR,color,this.ctx,{createCanvasGraphics:function(ctx){return new CanvasGraphics(ctx,_this.commonObjs,_this.objs,_this.canvasFactory,_this.webGLContext)}},baseTransform)):(0,_pattern_helper.getShadingPatternFromIR)(IR)},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(r,g,b){r=_util.Util.makeCssRgb(r,g,b);this.ctx.strokeStyle=r,this.current.strokeColor=r},setFillRGBColor:function(r,g,b){r=_util.Util.makeCssRgb(r,g,b);this.ctx.fillStyle=r,this.current.fillColor=r,this.current.patternFill=!1},shadingFill:function(patternIR){var br,ul,width,x1,bl,ctx=this.ctx,patternIR=(this.save(),(0,_pattern_helper.getShadingPatternFromIR)(patternIR)),patternIR=(ctx.fillStyle=patternIR.getPattern(ctx,this,!0),ctx.mozCurrentTransformInverse);patternIR?(width=(ctx=ctx.canvas).width,ctx=ctx.height,bl=_util.Util.applyTransform([0,0],patternIR),br=_util.Util.applyTransform([0,ctx],patternIR),ul=_util.Util.applyTransform([width,0],patternIR),width=_util.Util.applyTransform([width,ctx],patternIR),ctx=Math.min(bl[0],br[0],ul[0],width[0]),patternIR=Math.min(bl[1],br[1],ul[1],width[1]),x1=Math.max(bl[0],br[0],ul[0],width[0]),bl=Math.max(bl[1],br[1],ul[1],width[1]),this.ctx.fillRect(ctx,patternIR,x1-ctx,bl-patternIR)):this.ctx.fillRect(-1e10,-1e10,2e10,2e10),this.restore()},beginInlineImage:function(){(0,_util.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,_util.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(matrix,bbox){this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(matrix)&&6===matrix.length&&this.transform.apply(this,matrix),this.baseTransform=this.ctx.mozCurrentTransform,bbox&&(matrix=bbox[2]-bbox[0],this.ctx.rect(bbox[0],bbox[1],matrix,bbox[3]-bbox[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(group){this.save();var currentCtx=this.ctx,currentTransform=(group.isolated||(0,_util.info)("TODO: Support non-isolated groups."),group.knockout&&(0,_util.warn)("Knockout groups not supported."),currentCtx.mozCurrentTransform);if(group.matrix&&currentCtx.transform.apply(currentCtx,group.matrix),!group.bbox)throw new Error("Bounding box is required.");var bounds=_util.Util.getAxialAlignedBoundingBox(group.bbox,currentCtx.mozCurrentTransform),canvasBounds=[0,0,currentCtx.canvas.width,currentCtx.canvas.height],bounds=_util.Util.intersect(bounds,canvasBounds)||[0,0,0,0],canvasBounds=Math.floor(bounds[0]),offsetY=Math.floor(bounds[1]),drawnWidth=Math.max(Math.ceil(bounds[2])-canvasBounds,1),bounds=Math.max(Math.ceil(bounds[3])-offsetY,1),scaleX=1,scaleY=1,cacheId=(4096<drawnWidth&&(scaleX=drawnWidth/4096,drawnWidth=4096),4096<bounds&&(scaleY=bounds/4096,bounds=4096),"groupAt"+this.groupLevel),cacheId=(group.smask&&(cacheId+="_smask_"+this.smaskCounter++%2),this.cachedCanvases.getCanvas(cacheId,drawnWidth,bounds,!0)),drawnWidth=cacheId.context;drawnWidth.scale(1/scaleX,1/scaleY),drawnWidth.translate(-canvasBounds,-offsetY),drawnWidth.transform.apply(drawnWidth,currentTransform),group.smask?this.smaskStack.push({canvas:cacheId.canvas,context:drawnWidth,offsetX:canvasBounds,offsetY:offsetY,scaleX:scaleX,scaleY:scaleY,subtype:group.smask.subtype,backdrop:group.smask.backdrop,transferMap:group.smask.transferMap||null,startTransformInverse:null}):(currentCtx.setTransform(1,0,0,1,0,0),currentCtx.translate(canvasBounds,offsetY),currentCtx.scale(scaleX,scaleY)),copyCtxState(currentCtx,drawnWidth),this.ctx=drawnWidth,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(currentCtx),this.groupLevel++,this.current.activeSMask=null},endGroup:function(group){this.groupLevel--;var groupCtx=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,group.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(groupCtx.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(rect,transform,matrix){var width;this.save(),resetCtxToDefault(this.ctx),this.current=new CanvasExtraState,Array.isArray(rect)&&4===rect.length&&(width=rect[2]-rect[0],this.ctx.rect(rect[0],rect[1],width,rect[3]-rect[1]),this.clip(),this.endPath()),this.transform.apply(this,transform),this.transform.apply(this,matrix)},endAnnotation:function(){this.restore()},paintJpegXObject:function(objId,w,h){var ctx,domImage=(this.processingType3?this.commonObjs:this.objs).get(objId);domImage?(this.save(),(ctx=this.ctx).scale(1/w,-1/h),ctx.drawImage(domImage,0,0,domImage.width,domImage.height,0,-h,w,h),this.imageLayer&&(domImage=ctx.mozCurrentTransformInverse,ctx=this.getCanvasPosition(0,0),this.imageLayer.appendImage({objId:objId,left:ctx[0],top:ctx[1],width:w/domImage[0],height:h/domImage[3]})),this.restore()):(0,_util.warn)("Dependent image isn't ready yet")},paintImageMaskXObject:function(img){var ctx=this.ctx,width=img.width,height=img.height,fillColor=this.current.fillColor,isPatternFill=this.current.patternFill,glyph=this.processingType3;glyph&&void 0===glyph.compiled&&(glyph.compiled=width<=1e3&&height<=1e3?(imgData=>{for(var j0,width=imgData.width,height=imgData.height,width1=width+1,points=new Uint8Array(width1*(height+1)),POINT_TYPES=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),lineSize=width+7&-8,data0=imgData.data,data=new Uint8Array(lineSize*height),pos=0,i=0,ii=data0.length;i<ii;i++)for(var mask=128,elem=data0[i];0<mask;)data[pos++]=elem&mask?0:255,mask>>=1;var count=0;for(0!==data[pos=0]&&(points[0]=1,++count),j=1;j<width;j++)data[pos]!==data[pos+1]&&(points[j]=data[pos]?2:1,++count),pos++;for(0!==data[pos]&&(points[j]=2,++count),i=1;i<height;i++){j0=i*width1,data[(pos=i*lineSize)-lineSize]!==data[pos]&&(points[j0]=data[pos]?1:8,++count);for(var sum=(data[pos]?4:0)+(data[pos-lineSize]?8:0),j=1;j<width;j++)POINT_TYPES[sum=(sum>>2)+(data[pos+1]?4:0)+(data[pos-lineSize+1]?8:0)]&&(points[j0+j]=POINT_TYPES[sum],++count),pos++;if(data[pos-lineSize]!==data[pos]&&(points[j0+j]=data[pos]?2:4,++count),1e3<count)return null}for(j0=i*width1,0!==data[pos=lineSize*(height-1)]&&(points[j0]=8,++count),j=1;j<width;j++)data[pos]!==data[pos+1]&&(points[j0+j]=data[pos]?4:8,++count),pos++;if(0!==data[pos]&&(points[j0+j]=4,++count),1e3<count)return null;var steps=new Int32Array([0,width1,-1,0,-width1,0,0,0,1]),outlines=[];for(i=0;count&&i<=height;i++){for(var p=i*width1,end=p+width;p<end&&!points[p];)p++;if(p!==end){var pp,coords=[p%width1,i],type=points[p],p0=p;do{for(var step=steps[type];!points[p+=step];);}while(5!==(pp=points[p])&&10!==pp?(type=pp,points[p]=0):points[p]&=(type=pp&51*type>>4)>>2|type<<2,coords.push(p%width1),coords.push(p/width1|0),points[p]||--count,p0!==p);outlines.push(coords),--i}}return function(c){c.save(),c.scale(1/width,-1/height),c.translate(0,-height),c.beginPath();for(var i=0,ii=outlines.length;i<ii;i++){var o=outlines[i];c.moveTo(o[0],o[1]);for(var j=2,jj=o.length;j<jj;j+=2)c.lineTo(o[j],o[j+1])}c.fill(),c.beginPath(),c.restore()}})({data:img.data,width:width,height:height}):null),glyph&&glyph.compiled?glyph.compiled(ctx):((ctx=(glyph=this.cachedCanvases.getCanvas("maskCanvas",width,height)).context).save(),putBinaryImageMask(ctx,img),ctx.globalCompositeOperation="source-in",ctx.fillStyle=isPatternFill?fillColor.getPattern(ctx,this):fillColor,ctx.fillRect(0,0,width,height),ctx.restore(),this.paintInlineImageXObject(glyph.canvas))},paintImageMaskXObjectRepeat:function(imgData,scaleX,scaleY,positions){for(var width=imgData.width,height=imgData.height,fillColor=this.current.fillColor,isPatternFill=this.current.patternFill,maskCanvas=this.cachedCanvases.getCanvas("maskCanvas",width,height),maskCtx=maskCanvas.context,ctx=(maskCtx.save(),putBinaryImageMask(maskCtx,imgData),maskCtx.globalCompositeOperation="source-in",maskCtx.fillStyle=isPatternFill?fillColor.getPattern(maskCtx,this):fillColor,maskCtx.fillRect(0,0,width,height),maskCtx.restore(),this.ctx),i=0,ii=positions.length;i<ii;i+=2)ctx.save(),ctx.transform(scaleX,0,0,scaleY,positions[i],positions[i+1]),ctx.scale(1,-1),ctx.drawImage(maskCanvas.canvas,0,0,width,height,0,-1,1,1),ctx.restore()},paintImageMaskXObjectGroup:function(images){for(var ctx=this.ctx,fillColor=this.current.fillColor,isPatternFill=this.current.patternFill,i=0,ii=images.length;i<ii;i++){var image=images[i],width=image.width,height=image.height,maskCanvas=this.cachedCanvases.getCanvas("maskCanvas",width,height),maskCtx=maskCanvas.context;maskCtx.save(),putBinaryImageMask(maskCtx,image),maskCtx.globalCompositeOperation="source-in",maskCtx.fillStyle=isPatternFill?fillColor.getPattern(maskCtx,this):fillColor,maskCtx.fillRect(0,0,width,height),maskCtx.restore(),ctx.save(),ctx.transform.apply(ctx,image.transform),ctx.scale(1,-1),ctx.drawImage(maskCanvas.canvas,0,0,width,height,0,-1,1,1),ctx.restore()}},paintImageXObject:function(objId){objId=(this.processingType3?this.commonObjs:this.objs).get(objId);objId?this.paintInlineImageXObject(objId):(0,_util.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(objId,scaleX,scaleY,positions){objId=(this.processingType3?this.commonObjs:this.objs).get(objId);if(objId){for(var width=objId.width,height=objId.height,map=[],i=0,ii=positions.length;i<ii;i+=2)map.push({transform:[scaleX,0,0,scaleY,positions[i],positions[i+1]],x:0,y:0,w:width,h:height});this.paintInlineImageXObjectGroup(objId,map)}else(0,_util.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(imgData){for(var tmpCanvas,tmpCtx,width=imgData.width,height=imgData.height,ctx=this.ctx,currentTransform=(this.save(),ctx.scale(1/width,-1/height),ctx.mozCurrentTransformInverse),a=currentTransform[0],b=currentTransform[1],widthScale=Math.max(Math.sqrt(a*a+b*b),1),a=currentTransform[2],b=currentTransform[3],heightScale=Math.max(Math.sqrt(a*a+b*b),1),imgToPaint="function"==typeof HTMLElement&&imgData instanceof HTMLElement||!imgData.data?imgData:(putBinaryImageData(tmpCtx=(tmpCanvas=this.cachedCanvases.getCanvas("inlineImage",width,height)).context,imgData),tmpCanvas.canvas),paintWidth=width,paintHeight=height,tmpCanvasId="prescale1";2<widthScale&&1<paintWidth||2<heightScale&&1<paintHeight;){var newWidth=paintWidth,newHeight=paintHeight;2<widthScale&&1<paintWidth&&(widthScale/=paintWidth/(newWidth=Math.ceil(paintWidth/2))),2<heightScale&&1<paintHeight&&(heightScale/=paintHeight/(newHeight=Math.ceil(paintHeight/2))),(tmpCtx=(tmpCanvas=this.cachedCanvases.getCanvas(tmpCanvasId,newWidth,newHeight)).context).clearRect(0,0,newWidth,newHeight),tmpCtx.drawImage(imgToPaint,0,0,paintWidth,paintHeight,0,0,newWidth,newHeight),imgToPaint=tmpCanvas.canvas,paintWidth=newWidth,paintHeight=newHeight,tmpCanvasId="prescale1"===tmpCanvasId?"prescale2":"prescale1"}ctx.drawImage(imgToPaint,0,0,paintWidth,paintHeight,0,-height,width,height),this.imageLayer&&(a=this.getCanvasPosition(0,-height),this.imageLayer.appendImage({imgData:imgData,left:a[0],top:a[1],width:width/currentTransform[0],height:height/currentTransform[3]})),this.restore()},paintInlineImageXObjectGroup:function(imgData,map){var ctx=this.ctx,w=imgData.width,h=imgData.height,tmpCanvas=this.cachedCanvases.getCanvas("inlineImage",w,h);putBinaryImageData(tmpCanvas.context,imgData);for(var i=0,ii=map.length;i<ii;i++){var entry=map[i];ctx.save(),ctx.transform.apply(ctx,entry.transform),ctx.scale(1,-1),ctx.drawImage(tmpCanvas.canvas,entry.x,entry.y,entry.w,entry.h,0,-1,1,1),this.imageLayer&&(entry=this.getCanvasPosition(entry.x,entry.y),this.imageLayer.appendImage({imgData:imgData,left:entry[0],top:entry[1],width:w,height:h})),ctx.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,_util.warn)("Unsupported 'paintXObject' command.")},markPoint:function(tag){},markPointProps:function(tag,properties){},beginMarkedContent:function(tag){},beginMarkedContentProps:function(tag,properties){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var ctx=this.ctx;this.pendingClip&&(this.pendingClip===EO_CLIP?ctx.clip("evenodd"):ctx.clip(),this.pendingClip=null),ctx.beginPath()},getSinglePixelWidth:function(scale){var inverse;return null===this._cachedGetSinglePixelWidth&&(inverse=this.ctx.mozCurrentTransformInverse,this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(inverse[0]*inverse[0]+inverse[1]*inverse[1],inverse[2]*inverse[2]+inverse[3]*inverse[3]))),this._cachedGetSinglePixelWidth},getCanvasPosition:function(x,y){var transform=this.ctx.mozCurrentTransform;return[transform[0]*x+transform[2]*y+transform[4],transform[1]*x+transform[3]*y+transform[5]]}},_util.OPS)CanvasGraphics.prototype[_util.OPS[op]]=CanvasGraphics.prototype[op];return CanvasGraphics})();exports.CanvasGraphics=__w_pdfjs_require__},function(module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.getShadingPatternFromIR=function(raw){var shadingIR=ShadingIRs[raw[0]];if(shadingIR)return shadingIR.fromIR(raw);throw new Error("Unknown IR type: ".concat(raw[0]))},exports.TilingPattern=void 0;var _util=__w_pdfjs_require__(1),ShadingIRs={};function applyBoundingBox(ctx,bbox){var width,height,region;bbox&&"undefined"!=typeof Path2D&&(width=bbox[2]-bbox[0],height=bbox[3]-bbox[1],(region=new Path2D).rect(bbox[0],bbox[1],width,height),ctx.clip(region))}ShadingIRs.RadialAxial={fromIR:function(raw){var type=raw[1],bbox=raw[2],colorStops=raw[3],p0=raw[4],p1=raw[5],r0=raw[6],r1=raw[7];return{type:"Pattern",getPattern:function(ctx){var grad;applyBoundingBox(ctx,bbox),"axial"===type?grad=ctx.createLinearGradient(p0[0],p0[1],p1[0],p1[1]):"radial"===type&&(grad=ctx.createRadialGradient(p0[0],p0[1],r0,p1[0],p1[1],r1));for(var i=0,ii=colorStops.length;i<ii;++i){var c=colorStops[i];grad.addColorStop(c[0],c[1])}return grad}}}};var createMeshCanvas=function(bounds,combinesScale,coords,colors,figures,backgroundColor,cachedCanvases,webGLContext){var canvas,offsetX=Math.floor(bounds[0]),offsetY=Math.floor(bounds[1]),boundsWidth=Math.ceil(bounds[2])-offsetX,bounds=Math.ceil(bounds[3])-offsetY,width=Math.min(Math.ceil(Math.abs(boundsWidth*combinesScale[0]*1.1)),3e3),combinesScale=Math.min(Math.ceil(Math.abs(bounds*combinesScale[1]*1.1)),3e3),context={coords:coords,colors:colors,offsetX:-offsetX,offsetY:-offsetY,scaleX:1/(boundsWidth=boundsWidth/width),scaleY:1/(bounds=bounds/combinesScale)},coords=width+4,colors=combinesScale+4;if(webGLContext.isEnabled)canvas=webGLContext.drawFigures({width:width,height:combinesScale,backgroundColor:backgroundColor,figures:figures,context:context}),(tmpCanvas=cachedCanvases.getCanvas("mesh",coords,colors,!1)).context.drawImage(canvas,2,2);else{var tmpCanvas,webGLContext=(tmpCanvas=cachedCanvases.getCanvas("mesh",coords,colors,!1)).context,data=webGLContext.createImageData(width,combinesScale);if(backgroundColor)for(var bytes=data.data,i=0,ii=bytes.length;i<ii;i+=4)bytes[i]=backgroundColor[0],bytes[i+1]=backgroundColor[1],bytes[i+2]=backgroundColor[2],bytes[i+3]=255;for(i=0;i<figures.length;i++)((data,figure,context)=>{var ii,ps=figure.coords,cs=figure.colors;switch(figure.type){case"lattice":for(var verticesPerRow=figure.verticesPerRow,rows=Math.floor(ps.length/verticesPerRow)-1,cols=verticesPerRow-1,i=0;i<rows;i++)for(var q=i*verticesPerRow,j=0;j<cols;j++,q++)drawTriangle(data,context,ps[q],ps[q+1],ps[q+verticesPerRow],cs[q],cs[q+1],cs[q+verticesPerRow]),drawTriangle(data,context,ps[q+verticesPerRow+1],ps[q+1],ps[q+verticesPerRow],cs[q+verticesPerRow+1],cs[q+1],cs[q+verticesPerRow]);break;case"triangles":for(i=0,ii=ps.length;i<ii;i+=3)drawTriangle(data,context,ps[i],ps[i+1],ps[i+2],cs[i],cs[i+1],cs[i+2]);break;default:throw new Error("illegal figure")}})(data,figures[i],context);webGLContext.putImageData(data,2,2)}return{canvas:canvas=tmpCanvas.canvas,offsetX:offsetX-2*boundsWidth,offsetY:offsetY-2*bounds,scaleX:boundsWidth,scaleY:bounds}};function drawTriangle(data,context,p1,p2,p3,c1,c2,c3){var tmp,coords=context.coords,colors=context.colors,bytes=data.data,rowSize=4*data.width,x1=(coords[p1+1]>coords[p2+1]&&(tmp=p1,p1=p2,p2=tmp,tmp=c1,c1=c2,c2=tmp),coords[p3+1]<coords[p2+1]&&(tmp=p2,p2=p3,p3=tmp,tmp=c2,c2=c3,c3=tmp),coords[p2+1]<coords[p1+1]&&(tmp=p1,p1=p2,p2=tmp,tmp=c1,c1=c2,c2=tmp),(coords[p1]+context.offsetX)*context.scaleX),y1=(coords[p1+1]+context.offsetY)*context.scaleY,x2=(coords[p2]+context.offsetX)*context.scaleX,y2=(coords[p2+1]+context.offsetY)*context.scaleY,x3=(coords[p3]+context.offsetX)*context.scaleX,y3=(coords[p3+1]+context.offsetY)*context.scaleY;if(!(y3<=y1))for(var xa,car,cag,c1r=colors[c1],c1g=colors[c1+1],c1b=colors[c1+2],c2r=colors[c2],c2g=colors[c2+1],c2b=colors[c2+2],c3r=colors[c3],c3g=colors[c3+1],c3b=colors[c3+2],data=Math.round(y1),maxY=Math.round(y3),y=data;y<=maxY;y++)for(var k,cab=y<y2?(xa=x1-(x1-x2)*(k=y<y1?0:y1==y2?1:(y1-y)/(y1-y2)),car=c1r-(c1r-c2r)*k,cag=c1g-(c1g-c2g)*k,c1b-(c1b-c2b)*k):(xa=x2-(x2-x3)*(k=y3<y?1:y2==y3?0:(y2-y)/(y2-y3)),car=c2r-(c2r-c3r)*k,cag=c2g-(c2g-c3g)*k,c2b-(c2b-c3b)*k),xb=x1-(x1-x3)*(k=y<y1?0:y3<y?1:(y1-y)/(y1-y3)),cbr=c1r-(c1r-c3r)*k,cbg=c1g-(c1g-c3g)*k,cbb=c1b-(c1b-c3b)*k,x1_=Math.round(Math.min(xa,xb)),x2_=Math.round(Math.max(xa,xb)),j=rowSize*y+4*x1_,x=x1_;x<=x2_;x++)bytes[j++]=car-(car-cbr)*(k=(k=(xa-x)/(xa-xb))<0?0:1<k?1:k)|0,bytes[j++]=cag-(cag-cbg)*k|0,bytes[j++]=cab-(cab-cbb)*k|0,bytes[j++]=255}ShadingIRs.Mesh={fromIR:function(raw){var coords=raw[2],colors=raw[3],figures=raw[4],bounds=raw[5],matrix=raw[6],bbox=raw[7],background=raw[8];return{type:"Pattern",getPattern:function(ctx,owner,shadingFill){applyBoundingBox(ctx,bbox),shadingFill?scale=_util.Util.singularValueDecompose2dScale(ctx.mozCurrentTransform):(scale=_util.Util.singularValueDecompose2dScale(owner.baseTransform),matrix&&(matrixScale=_util.Util.singularValueDecompose2dScale(matrix),scale=[scale[0]*matrixScale[0],scale[1]*matrixScale[1]]));var scale,matrixScale=createMeshCanvas(bounds,scale,coords,colors,figures,shadingFill?null:background,owner.cachedCanvases,owner.webGLContext);return shadingFill||(ctx.setTransform.apply(ctx,owner.baseTransform),matrix&&ctx.transform.apply(ctx,matrix)),ctx.translate(matrixScale.offsetX,matrixScale.offsetY),ctx.scale(matrixScale.scaleX,matrixScale.scaleY),ctx.createPattern(matrixScale.canvas,"no-repeat")}}}},ShadingIRs.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};__w_pdfjs_require__=(()=>{var PaintType_COLORED=1,PaintType_UNCOLORED=2;function TilingPattern(IR,color,ctx,canvasGraphicsFactory,baseTransform){this.operatorList=IR[2],this.matrix=IR[3]||[1,0,0,1,0,0],this.bbox=IR[4],this.xstep=IR[5],this.ystep=IR[6],this.paintType=IR[7],this.tilingType=IR[8],this.color=color,this.canvasGraphicsFactory=canvasGraphicsFactory,this.baseTransform=baseTransform,this.type="Pattern",this.ctx=ctx}return TilingPattern.prototype={createPatternCanvas:function(owner){var operatorList=this.operatorList,bbox=this.bbox,xstep=this.xstep,ystep=this.ystep,paintType=this.paintType,tilingType=this.tilingType,color=this.color,canvasGraphicsFactory=this.canvasGraphicsFactory,tilingType=((0,_util.info)("TilingType: "+tilingType),bbox[0]),y0=bbox[1],x1=bbox[2],y1=bbox[3],matrixScale=_util.Util.singularValueDecompose2dScale(this.matrix),curMatrixScale=_util.Util.singularValueDecompose2dScale(this.baseTransform),matrixScale=[matrixScale[0]*curMatrixScale[0],matrixScale[1]*curMatrixScale[1]],curMatrixScale=this.getSizeAndScale(xstep,this.ctx.canvas.width,matrixScale[0]),xstep=this.getSizeAndScale(ystep,this.ctx.canvas.height,matrixScale[1]),ystep=owner.cachedCanvases.getCanvas("pattern",curMatrixScale.size,xstep.size,!0),matrixScale=ystep.context,canvasGraphicsFactory=canvasGraphicsFactory.createCanvasGraphics(matrixScale);return canvasGraphicsFactory.groupLevel=owner.groupLevel,this.setFillAndStrokeStyleToContext(canvasGraphicsFactory,paintType,color),canvasGraphicsFactory.transform(curMatrixScale.scale,0,0,xstep.scale,0,0),canvasGraphicsFactory.transform(1,0,0,1,-tilingType,-y0),this.clipBbox(canvasGraphicsFactory,bbox,tilingType,y0,x1,y1),canvasGraphicsFactory.executeOperatorList(operatorList),this.ctx.transform(1,0,0,1,tilingType,y0),this.ctx.scale(1/curMatrixScale.scale,1/xstep.scale),ystep.canvas},getSizeAndScale:function(step,realOutputSize,scale){step=Math.abs(step);var realOutputSize=Math.max(3e3,realOutputSize),size=Math.ceil(step*scale);return realOutputSize<=size?size=realOutputSize:scale=size/step,{scale:scale,size:size}},clipBbox:function(graphics,bbox,x0,y0,x1,y1){Array.isArray(bbox)&&4===bbox.length&&(graphics.ctx.rect(x0,y0,x1-x0,y1-y0),graphics.clip(),graphics.endPath())},setFillAndStrokeStyleToContext:function(graphics,paintType,color){var context=graphics.ctx,current=graphics.current;switch(paintType){case PaintType_COLORED:var ctx=this.ctx;context.fillStyle=ctx.fillStyle,context.strokeStyle=ctx.strokeStyle,current.fillColor=ctx.fillStyle,current.strokeColor=ctx.strokeStyle;break;case PaintType_UNCOLORED:ctx=_util.Util.makeCssRgb(color[0],color[1],color[2]);context.fillStyle=ctx,context.strokeStyle=ctx,current.fillColor=ctx,current.strokeColor=ctx;break;default:throw new _util.FormatError("Unsupported paint type: ".concat(paintType))}},getPattern:function(ctx,owner){(ctx=this.ctx).setTransform.apply(ctx,this.baseTransform),ctx.transform.apply(ctx,this.matrix);owner=this.createPatternCanvas(owner);return ctx.createPattern(owner,"repeat")}},TilingPattern})();exports.TilingPattern=__w_pdfjs_require__},function(module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.GlobalWorkerOptions=void 0;var GlobalWorkerOptions=Object.create(null);(exports.GlobalWorkerOptions=GlobalWorkerOptions).workerPort=void 0===GlobalWorkerOptions.workerPort?null:GlobalWorkerOptions.workerPort,GlobalWorkerOptions.workerSrc=void 0===GlobalWorkerOptions.workerSrc?"":GlobalWorkerOptions.workerSrc},function(module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.MessageHandler=MessageHandler;var _util=__w_pdfjs_require__(1);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var StreamKind_CANCEL=1,StreamKind_CANCEL_COMPLETE=2,StreamKind_CLOSE=3,StreamKind_ENQUEUE=4,StreamKind_ERROR=5,StreamKind_PULL=6,StreamKind_PULL_COMPLETE=7,StreamKind_START_COMPLETE=8;function wrapReason(reason){if("object"!==_typeof(reason))return reason;switch(reason.name){case"AbortException":return new _util.AbortException(reason.message);case"MissingPDFException":return new _util.MissingPDFException(reason.message);case"UnexpectedResponseException":return new _util.UnexpectedResponseException(reason.message,reason.status);case"UnknownErrorException":return new _util.UnknownErrorException(reason.message,reason.details);default:return new _util.UnknownErrorException(reason.message,reason.toString())}}function MessageHandler(sourceName,targetName,comObj){var _this=this,callbacksCapabilities=(this.sourceName=sourceName,this.targetName=targetName,this.comObj=comObj,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbacksCapabilities=Object.create(null)),ah=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(event){var data=event.data;if(data.targetName===_this.sourceName)if(data.stream)_this._processStreamMessage(data);else if(data.isReply){event=data.callbackId;if(!(data.callbackId in callbacksCapabilities))throw new Error("Cannot resolve callback ".concat(event));var callback=callbacksCapabilities[event];delete callbacksCapabilities[event],"reason"in data?callback.reject(wrapReason(data.reason)):callback.resolve(data.data)}else{if(!(data.action in ah))throw new Error("Unknown action from worker: ".concat(data.action));var _sourceName,_targetName,action=ah[data.action];data.callbackId?(_sourceName=_this.sourceName,_targetName=data.sourceName,new Promise(function(resolve){resolve(action(data.data))}).then(function(result){comObj.postMessage({sourceName:_sourceName,targetName:_targetName,isReply:!0,callbackId:data.callbackId,data:result})},function(reason){comObj.postMessage({sourceName:_sourceName,targetName:_targetName,isReply:!0,callbackId:data.callbackId,reason:wrapReason(reason)})})):data.streamId?_this._createStreamSink(data):action(data.data)}},comObj.addEventListener("message",this._onComObjOnMessage)}MessageHandler.prototype={on:function(actionName,handler){var ah=this.actionHandler;if(ah[actionName])throw new Error('There is already an actionName called "'.concat(actionName,'"'));ah[actionName]=handler},send:function(actionName,data,transfers){this.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:actionName,data:data},transfers)},sendWithPromise:function(actionName,data,transfers){var callbackId=this.callbackId++,capability=(0,_util.createPromiseCapability)();this.callbacksCapabilities[callbackId]=capability;try{this.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:actionName,callbackId:callbackId,data:data},transfers)}catch(ex){capability.reject(ex)}return capability.promise},sendWithStream:function(actionName,data,queueingStrategy,transfers){var _this2=this,streamId=this.streamId++,sourceName=this.sourceName,targetName=this.targetName,comObj=this.comObj;return new _util.ReadableStream({start:function(controller){var startCapability=(0,_util.createPromiseCapability)();return _this2.streamControllers[streamId]={controller:controller,startCall:startCapability,pullCall:null,cancelCall:null,isClosed:!1},_this2.postMessage({sourceName:sourceName,targetName:targetName,action:actionName,streamId:streamId,data:data,desiredSize:controller.desiredSize},transfers),startCapability.promise},pull:function(controller){var pullCapability=(0,_util.createPromiseCapability)();return _this2.streamControllers[streamId].pullCall=pullCapability,comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind_PULL,streamId:streamId,desiredSize:controller.desiredSize}),pullCapability.promise},cancel:function(reason){(0,_util.assert)(reason instanceof Error,"cancel must have a valid reason");var cancelCapability=(0,_util.createPromiseCapability)();return _this2.streamControllers[streamId].cancelCall=cancelCapability,_this2.streamControllers[streamId].isClosed=!0,comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind_CANCEL,streamId:streamId,reason:wrapReason(reason)}),cancelCapability.promise}},queueingStrategy)},_createStreamSink:function(data){var self=this,action=this.actionHandler[data.action],streamId=data.streamId,desiredSize=data.desiredSize,sourceName=this.sourceName,targetName=data.sourceName,capability=(0,_util.createPromiseCapability)(),comObj=this.comObj,streamSink={enqueue:function(chunk){var lastDesiredSize,size=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,transfers=2<arguments.length?arguments[2]:void 0;this.isCancelled||(lastDesiredSize=this.desiredSize,this.desiredSize-=size,0<lastDesiredSize&&this.desiredSize<=0&&(this.sinkCapability=(0,_util.createPromiseCapability)(),this.ready=this.sinkCapability.promise),self.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind_ENQUEUE,streamId:streamId,chunk:chunk},transfers))},close:function(){this.isCancelled||(this.isCancelled=!0,comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind_CLOSE,streamId:streamId}),delete self.streamSinks[streamId])},error:function(reason){(0,_util.assert)(reason instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind_ERROR,streamId:streamId,reason:wrapReason(reason)}))},sinkCapability:capability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:desiredSize,ready:null};streamSink.sinkCapability.resolve(),streamSink.ready=streamSink.sinkCapability.promise,this.streamSinks[streamId]=streamSink,new Promise(function(resolve){resolve(action(data.data,streamSink))}).then(function(){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind_START_COMPLETE,streamId:streamId,success:!0})},function(reason){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind_START_COMPLETE,streamId:streamId,reason:wrapReason(reason)})})},_processStreamMessage:function(data){function deleteStreamController(){Promise.all([_this3.streamControllers[streamId].startCall,_this3.streamControllers[streamId].pullCall,_this3.streamControllers[streamId].cancelCall].map(function(capability){return capability&&capability.promise.catch(function(){})})).then(function(){delete _this3.streamControllers[streamId]})}var onPull,onCancel,_this3=this,sourceName=this.sourceName,targetName=data.sourceName,streamId=data.streamId,comObj=this.comObj;switch(data.stream){case StreamKind_START_COMPLETE:data.success?this.streamControllers[streamId].startCall.resolve():this.streamControllers[streamId].startCall.reject(wrapReason(data.reason));break;case StreamKind_PULL_COMPLETE:data.success?this.streamControllers[streamId].pullCall.resolve():this.streamControllers[streamId].pullCall.reject(wrapReason(data.reason));break;case StreamKind_PULL:this.streamSinks[streamId]?(this.streamSinks[streamId].desiredSize<=0&&0<data.desiredSize&&this.streamSinks[streamId].sinkCapability.resolve(),this.streamSinks[streamId].desiredSize=data.desiredSize,onPull=this.streamSinks[data.streamId].onPull,new Promise(function(resolve){resolve(onPull&&onPull())}).then(function(){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind_PULL_COMPLETE,streamId:streamId,success:!0})},function(reason){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind_PULL_COMPLETE,streamId:streamId,reason:wrapReason(reason)})})):comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind_PULL_COMPLETE,streamId:streamId,success:!0});break;case StreamKind_ENQUEUE:(0,_util.assert)(this.streamControllers[streamId],"enqueue should have stream controller"),this.streamControllers[streamId].isClosed||this.streamControllers[streamId].controller.enqueue(data.chunk);break;case StreamKind_CLOSE:(0,_util.assert)(this.streamControllers[streamId],"close should have stream controller"),this.streamControllers[streamId].isClosed||(this.streamControllers[streamId].isClosed=!0,this.streamControllers[streamId].controller.close(),deleteStreamController());break;case StreamKind_ERROR:(0,_util.assert)(this.streamControllers[streamId],"error should have stream controller"),this.streamControllers[streamId].controller.error(wrapReason(data.reason)),deleteStreamController();break;case StreamKind_CANCEL_COMPLETE:data.success?this.streamControllers[streamId].cancelCall.resolve():this.streamControllers[streamId].cancelCall.reject(wrapReason(data.reason)),deleteStreamController();break;case StreamKind_CANCEL:this.streamSinks[streamId]&&(onCancel=this.streamSinks[data.streamId].onCancel,new Promise(function(resolve){resolve(onCancel&&onCancel(wrapReason(data.reason)))}).then(function(){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind_CANCEL_COMPLETE,streamId:streamId,success:!0})},function(reason){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind_CANCEL_COMPLETE,streamId:streamId,reason:wrapReason(reason)})}),this.streamSinks[streamId].sinkCapability.reject(wrapReason(data.reason)),this.streamSinks[streamId].isCancelled=!0,delete this.streamSinks[streamId]);break;default:throw new Error("Unexpected stream case")}},postMessage:function(message,transfers){transfers&&this.postMessageTransfers?this.comObj.postMessage(message,transfers):this.comObj.postMessage(message)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},function(module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.Metadata=void 0;var _util=__w_pdfjs_require__(1),_xml_parser=__w_pdfjs_require__(191);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__w_pdfjs_require__=(()=>{function Metadata(data){if(!(this instanceof Metadata))throw new TypeError("Cannot call a class as a function");(0,_util.assert)("string"==typeof data,"Metadata: input is not a string"),data=this._repair(data);data=(new _xml_parser.SimpleXMLParser).parseFromString(data);this._metadata=Object.create(null),data&&this._parse(data)}var Constructor,protoProps,staticProps;return Constructor=Metadata,(protoProps=[{key:"_repair",value:function(data){return data.replace(/^([^<]+)/,"").replace(/>\\376\\377([^<]+)/g,function(all,codes){for(var bytes=codes.replace(/\\([0-3])([0-7])([0-7])/g,function(code,d1,d2,d3){return String.fromCharCode(64*d1+8*d2+ +d3)}).replace(/&(amp|apos|gt|lt|quot);/g,function(str,name){switch(name){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: ".concat(name," isn't defined."))}),chars="",i=0,ii=bytes.length;i<ii;i+=2){var code=256*bytes.charCodeAt(i)+bytes.charCodeAt(i+1);chars+=32<=code&&code<127&&60!==code&&62!==code&&38!==code?String.fromCharCode(code):"&#x"+(65536+code).toString(16).substring(1)+";"}return">"+chars})}},{key:"_parse",value:function(xmlDocument){var rdf=xmlDocument.documentElement;if("rdf:rdf"!==rdf.nodeName.toLowerCase())for(rdf=rdf.firstChild;rdf&&"rdf:rdf"!==rdf.nodeName.toLowerCase();)rdf=rdf.nextSibling;xmlDocument=rdf?rdf.nodeName.toLowerCase():null;if(rdf&&"rdf:rdf"===xmlDocument&&rdf.hasChildNodes())for(var children=rdf.childNodes,i=0,ii=children.length;i<ii;i++){var desc=children[i];if("rdf:description"===desc.nodeName.toLowerCase())for(var entry,name,j=0,jj=desc.childNodes.length;j<jj;j++)"#text"!==desc.childNodes[j].nodeName.toLowerCase()&&(name=(entry=desc.childNodes[j]).nodeName.toLowerCase(),this._metadata[name]=entry.textContent.trim())}}},{key:"get",value:function(name){name=this._metadata[name];return void 0!==name?name:null}},{key:"getAll",value:function(){return this._metadata}},{key:"has",value:function(name){return void 0!==this._metadata[name]}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Metadata})();exports.Metadata=__w_pdfjs_require__},function(module,exports,__w_pdfjs_require__){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _slicedToArray(arr,i){return(arr=>{if(Array.isArray(arr))return arr})(arr)||((arr,i)=>{if(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}})(arr,i)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?(self=>{if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")})(self):call}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var target=((object,property)=>{for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object})(target,property);if(target)return(target=Object.getOwnPropertyDescriptor(target,property)).get?target.get.call(receiver):target.value})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SimpleXMLParser=void 0;var XMLParserErrorCode_NoError=0,XMLParserErrorCode_UnterminatedCdat=-2,XMLParserErrorCode_UnterminatedXmlDeclaration=-3,XMLParserErrorCode_UnterminatedDoctypeDeclaration=-4,XMLParserErrorCode_UnterminatedComment=-5,XMLParserErrorCode_MalformedElement=-6,XMLParserErrorCode_UnterminatedElement=-9;function isWhitespace(s,index){s=s[index];return" "===s||"\n"===s||"\r"===s||"\t"===s}var XMLParserBase=(()=>{function XMLParserBase(){_classCallCheck(this,XMLParserBase)}return _createClass(XMLParserBase,[{key:"_resolveEntities",value:function(s){var _this=this;return s.replace(/&([^;]+);/g,function(all,entity){if("#x"===entity.substring(0,2))return String.fromCharCode(parseInt(entity.substring(2),16));if("#"===entity.substring(0,1))return String.fromCharCode(parseInt(entity.substring(1),10));switch(entity){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return _this.onResolveEntity(entity)})}},{key:"_parseContent",value:function(s,start){var name,pos=start,attributes=[];function skipWs(){for(;pos<s.length&&isWhitespace(s,pos);)++pos}for(;pos<s.length&&!isWhitespace(s,pos)&&">"!==s[pos]&&"/"!==s[pos];)++pos;for(name=s.substring(start,pos),skipWs();pos<s.length&&">"!==s[pos]&&"/"!==s[pos]&&"?"!==s[pos];){skipWs();for(var attrValue,attrName="";pos<s.length&&!isWhitespace(s,pos)&&"="!==s[pos];)attrName+=s[pos],++pos;if(skipWs(),"="!==s[pos])return null;++pos,skipWs();var attrEndChar=s[pos];if('"'!==attrEndChar&&"'"!==attrEndChar)return null;attrEndChar=s.indexOf(attrEndChar,++pos);if(attrEndChar<0)return null;attrValue=s.substring(pos,attrEndChar),attributes.push({name:attrName,value:this._resolveEntities(attrValue)}),pos=attrEndChar+1,skipWs()}return{name:name,attributes:attributes,parsed:pos-start}}},{key:"_parseProcessingInstruction",value:function(s,start){var name,pos=start;for(;pos<s.length&&!isWhitespace(s,pos)&&">"!==s[pos]&&"/"!==s[pos];)++pos;for(name=s.substring(start,pos);pos<s.length&&isWhitespace(s,pos);)++pos;for(var attrStart=pos;pos<s.length&&("?"!==s[pos]||">"!==s[pos+1]);)++pos;return{name:name,value:s.substring(attrStart,pos),parsed:pos-start}}},{key:"parseXml",value:function(s){for(var i=0;i<s.length;){var j=i;if("<"===s[i]){var q=void 0;switch(s[++j]){case"/":if(++j,(q=s.indexOf(">",j))<0)return void this.onError(XMLParserErrorCode_UnterminatedElement);this.onEndElement(s.substring(j,q)),j=q+1;break;case"?":++j;var pi=this._parseProcessingInstruction(s,j);if("?>"!==s.substring(j+pi.parsed,j+pi.parsed+2))return void this.onError(XMLParserErrorCode_UnterminatedXmlDeclaration);this.onPi(pi.name,pi.value),j+=pi.parsed+2;break;case"!":if("--"===s.substring(j+1,j+3)){if((q=s.indexOf("--\x3e",j+3))<0)return void this.onError(XMLParserErrorCode_UnterminatedComment);this.onComment(s.substring(j+3,q)),j=q+3}else if("[CDATA["===s.substring(j+1,j+8)){if((q=s.indexOf("]]>",j+8))<0)return void this.onError(XMLParserErrorCode_UnterminatedCdat);this.onCdata(s.substring(j+8,q)),j=q+3}else{if("DOCTYPE"!==s.substring(j+1,j+8))return void this.onError(XMLParserErrorCode_MalformedElement);var pi=s.indexOf("[",j+8),complexDoctype=!1;if((q=s.indexOf(">",j+8))<0)return void this.onError(XMLParserErrorCode_UnterminatedDoctypeDeclaration);if(0<pi&&pi<q){if((q=s.indexOf("]>",j+8))<0)return void this.onError(XMLParserErrorCode_UnterminatedDoctypeDeclaration);complexDoctype=!0}var doctypeContent=s.substring(j+8,q+(complexDoctype?1:0));this.onDoctype(doctypeContent),j=q+(complexDoctype?2:1)}break;default:doctypeContent=this._parseContent(s,j);if(null===doctypeContent)return void this.onError(XMLParserErrorCode_MalformedElement);complexDoctype=!1;if("/>"===s.substring(j+doctypeContent.parsed,j+doctypeContent.parsed+2))complexDoctype=!0;else if(">"!==s.substring(j+doctypeContent.parsed,j+doctypeContent.parsed+1))return void this.onError(XMLParserErrorCode_UnterminatedElement);this.onBeginElement(doctypeContent.name,doctypeContent.attributes,complexDoctype),j+=doctypeContent.parsed+(complexDoctype?2:1)}}else{for(;j<s.length&&"<"!==s[j];)j++;var text=s.substring(i,j);this.onText(this._resolveEntities(text))}i=j}}},{key:"onResolveEntity",value:function(name){return"&".concat(name,";")}},{key:"onPi",value:function(name,value){}},{key:"onComment",value:function(text){}},{key:"onCdata",value:function(text){}},{key:"onDoctype",value:function(doctypeContent){}},{key:"onText",value:function(text){}},{key:"onBeginElement",value:function(name,attributes,isEmpty){}},{key:"onEndElement",value:function(name){}},{key:"onError",value:function(code){}}]),XMLParserBase})(),SimpleDOMNode=(()=>{function SimpleDOMNode(nodeName,nodeValue){_classCallCheck(this,SimpleDOMNode),this.nodeName=nodeName,this.nodeValue=nodeValue,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}return _createClass(SimpleDOMNode,[{key:"hasChildNodes",value:function(){return this.childNodes&&0<this.childNodes.length}},{key:"firstChild",get:function(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function(){var childNodes=this.parentNode.childNodes;if(childNodes){var index=childNodes.indexOf(this);if(-1!==index)return childNodes[index+1]}}},{key:"textContent",get:function(){return this.childNodes?this.childNodes.map(function(child){return child.textContent}).join(""):this.nodeValue||""}}]),SimpleDOMNode})(),SimpleXMLParser=(()=>{var subClass=SimpleXMLParser,superClass=XMLParserBase;if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");function SimpleXMLParser(){var _this2;return _classCallCheck(this,SimpleXMLParser),(_this2=_possibleConstructorReturn(this,_getPrototypeOf(SimpleXMLParser).call(this)))._currentFragment=null,_this2._stack=null,_this2._errorCode=XMLParserErrorCode_NoError,_this2}return subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass),_createClass(SimpleXMLParser,[{key:"parseFromString",value:function(data){if(this._currentFragment=[],this._stack=[],this._errorCode=XMLParserErrorCode_NoError,this.parseXml(data),this._errorCode===XMLParserErrorCode_NoError){data=_slicedToArray(this._currentFragment,1)[0];if(data)return{documentElement:data}}}},{key:"onResolveEntity",value:function(name){return"apos"===name?"'":_get(_getPrototypeOf(SimpleXMLParser.prototype),"onResolveEntity",this).call(this,name)}},{key:"onText",value:function(text){(s=>{for(var i=0,ii=s.length;i<ii;i++)if(!isWhitespace(s,i))return;return 1})(text)||(text=new SimpleDOMNode("#text",text),this._currentFragment.push(text))}},{key:"onCdata",value:function(text){text=new SimpleDOMNode("#text",text);this._currentFragment.push(text)}},{key:"onBeginElement",value:function(name,attributes,isEmpty){name=new SimpleDOMNode(name);name.childNodes=[],this._currentFragment.push(name),isEmpty||(this._stack.push(this._currentFragment),this._currentFragment=name.childNodes)}},{key:"onEndElement",value:function(name){this._currentFragment=this._stack.pop()||[];var lastElement=this._currentFragment[this._currentFragment.length-1];if(lastElement)for(var i=0,ii=lastElement.childNodes.length;i<ii;i++)lastElement.childNodes[i].parentNode=lastElement}},{key:"onError",value:function(code){this._errorCode=code}}]),SimpleXMLParser})();exports.SimpleXMLParser=SimpleXMLParser},function(module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFDataTransportStream=void 0;var _regenerator=(obj=__w_pdfjs_require__(180))&&obj.__esModule?obj:{default:obj},_util=__w_pdfjs_require__(1);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps)}var obj=(()=>{function PDFDataTransportStream(params,pdfDataRangeTransport){var _this=this,initialData=(_classCallCheck(this,PDFDataTransportStream),(0,_util.assert)(pdfDataRangeTransport),this._queuedChunks=[],this._progressiveDone=params.progressiveDone||!1,params.initialData);initialData&&0<initialData.length&&(initialData=new Uint8Array(initialData).buffer,this._queuedChunks.push(initialData)),this._pdfDataRangeTransport=pdfDataRangeTransport,this._isStreamingSupported=!params.disableStream,this._isRangeSupported=!params.disableRange,this._contentLength=params.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(begin,chunk){_this._onReceiveData({begin:begin,chunk:chunk})}),this._pdfDataRangeTransport.addProgressListener(function(loaded,total){_this._onProgress({loaded:loaded,total:total})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(chunk){_this._onReceiveData({chunk:chunk})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){_this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return _createClass(PDFDataTransportStream,[{key:"_onReceiveData",value:function(args){var found,buffer=new Uint8Array(args.chunk).buffer;void 0===args.begin?this._fullRequestReader?this._fullRequestReader._enqueue(buffer):this._queuedChunks.push(buffer):(found=this._rangeReaders.some(function(rangeReader){return rangeReader._begin===args.begin&&(rangeReader._enqueue(buffer),!0)}),(0,_util.assert)(found))}},{key:"_onProgress",value:function(evt){var firstReader;void 0===evt.total?(firstReader=this._rangeReaders[0])&&firstReader.onProgress&&firstReader.onProgress({loaded:evt.loaded}):(firstReader=this._fullRequestReader)&&firstReader.onProgress&&firstReader.onProgress({loaded:evt.loaded,total:evt.total})}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(reader){reader=this._rangeReaders.indexOf(reader);0<=reader&&this._rangeReaders.splice(reader,1)}},{key:"getFullReader",value:function(){(0,_util.assert)(!this._fullRequestReader);var queuedChunks=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,queuedChunks,this._progressiveDone)}},{key:"getRangeReader",value:function(begin,end){var reader;return end<=this._progressiveDataLength?null:(reader=new PDFDataTransportStreamRangeReader(this,begin,end),this._pdfDataRangeTransport.requestDataRange(begin,end),this._rangeReaders.push(reader),reader)}},{key:"cancelAllRequests",value:function(reason){this._fullRequestReader&&this._fullRequestReader.cancel(reason),this._rangeReaders.slice(0).forEach(function(rangeReader){rangeReader.cancel(reason)}),this._pdfDataRangeTransport.abort()}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),PDFDataTransportStream})(),PDFDataTransportStreamReader=(exports.PDFDataTransportStream=obj,(()=>{function PDFDataTransportStreamReader(stream,queuedChunks){var progressiveDone=2<arguments.length&&void 0!==arguments[2]&&arguments[2],_iteratorNormalCompletion=(_classCallCheck(this,PDFDataTransportStreamReader),this._stream=stream,this._done=progressiveDone||!1,this._filename=null,this._queuedChunks=queuedChunks||[],!(this._loaded=0)),progressiveDone=!1,queuedChunks=void 0;try{for(var _step,_iterator=this._queuedChunks[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var chunk=_step.value;this._loaded+=chunk.byteLength}}catch(err){progressiveDone=!0,queuedChunks=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(progressiveDone)throw queuedChunks}}this._requests=[],this._headersReady=Promise.resolve(),(stream._fullRequestReader=this).onProgress=null}var _read;return _createClass(PDFDataTransportStreamReader,[{key:"_enqueue",value:function(chunk){this._done||(0<this._requests.length?this._requests.shift().resolve({value:chunk,done:!1}):this._queuedChunks.push(chunk),this._loaded+=chunk.byteLength)}},{key:"read",value:(_read=_asyncToGenerator(_regenerator.default.mark(function _callee(){var chunk;return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(0<this._queuedChunks.length)return chunk=this._queuedChunks.shift(),_context.abrupt("return",{value:chunk,done:!1});_context.next=3;break;case 3:if(this._done)return _context.abrupt("return",{value:void 0,done:!0});_context.next=5;break;case 5:return chunk=(0,_util.createPromiseCapability)(),this._requests.push(chunk),_context.abrupt("return",chunk.promise);case 8:case"end":return _context.stop()}},_callee,this)})),function(){return _read.apply(this,arguments)})},{key:"cancel",value:function(reason){this._done=!0,this._requests.forEach(function(requestCapability){requestCapability.resolve({value:void 0,done:!0})}),this._requests=[]}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}}]),PDFDataTransportStreamReader})()),PDFDataTransportStreamRangeReader=(()=>{function PDFDataTransportStreamRangeReader(stream,begin,end){_classCallCheck(this,PDFDataTransportStreamRangeReader),this._stream=stream,this._begin=begin,this._end=end,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}var _read2;return _createClass(PDFDataTransportStreamRangeReader,[{key:"_enqueue",value:function(chunk){this._done||(0===this._requests.length?this._queuedChunk=chunk:(this._requests.shift().resolve({value:chunk,done:!1}),this._requests.forEach(function(requestCapability){requestCapability.resolve({value:void 0,done:!0})}),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))}},{key:"read",value:(_read2=_asyncToGenerator(_regenerator.default.mark(function _callee2(){var chunk;return _regenerator.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(this._queuedChunk)return chunk=this._queuedChunk,this._queuedChunk=null,_context2.abrupt("return",{value:chunk,done:!1});_context2.next=4;break;case 4:if(this._done)return _context2.abrupt("return",{value:void 0,done:!0});_context2.next=6;break;case 6:return chunk=(0,_util.createPromiseCapability)(),this._requests.push(chunk),_context2.abrupt("return",chunk.promise);case 9:case"end":return _context2.stop()}},_callee2,this)})),function(){return _read2.apply(this,arguments)})},{key:"cancel",value:function(reason){this._done=!0,this._requests.forEach(function(requestCapability){requestCapability.resolve({value:void 0,done:!0})}),this._requests=[],this._stream._removeRangeReader(this)}},{key:"isStreamingSupported",get:function(){return!1}}]),PDFDataTransportStreamRangeReader})()},function(module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.WebGLContext=void 0;var _util=__w_pdfjs_require__(1);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var currentGL,currentCanvas,smaskVertexShaderCode,smaskFragmentShaderCode,smaskCache,figuresVertexShaderCode,figuresFragmentShaderCode,figuresCache,__w_pdfjs_require__=(()=>{function WebGLContext(_ref){_ref=_ref.enable,_ref=void 0!==_ref&&_ref;if(!(this instanceof WebGLContext))throw new TypeError("Cannot call a class as a function");this._enabled=!0===_ref}var Constructor,protoProps,staticProps;return Constructor=WebGLContext,(protoProps=[{key:"composeSMask",value:function(_ref2){var layer=_ref2.layer;return WebGLUtils.composeSMask(layer,_ref2.mask,_ref2.properties)}},{key:"drawFigures",value:function(_ref3){var width=_ref3.width;return WebGLUtils.drawFigures(width,_ref3.height,_ref3.backgroundColor,_ref3.figures,_ref3.context)}},{key:"clear",value:function(){WebGLUtils.cleanup()}},{key:"isEnabled",get:function(){var enabled=(enabled=this._enabled)&&WebGLUtils.tryInitGL();return(0,_util.shadow)(this,"isEnabled",enabled)}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),WebGLContext})(),WebGLUtils=(exports.WebGLContext=__w_pdfjs_require__,smaskVertexShaderCode="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",smaskFragmentShaderCode="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",figuresVertexShaderCode="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",figuresFragmentShaderCode="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",figuresCache=smaskCache=null,{tryInitGL:function(){try{return generateGL(),!!currentGL}catch(ex){}return!1},composeSMask:function(layer,mask,properties){var width=layer.width,height=layer.height,cache=(smaskCache||(()=>{generateGL(),canvas=currentCanvas,gl=currentGL,currentGL=currentCanvas=null;var gl,vertexShader=createVertexShader(gl,smaskVertexShaderCode),vertexShader=createProgram(gl,[vertexShader,createFragmentShader(gl,smaskFragmentShaderCode)]),cache=(gl.useProgram(vertexShader),{}),canvas=(cache.gl=gl,cache.canvas=canvas,cache.resolutionLocation=gl.getUniformLocation(vertexShader,"u_resolution"),cache.positionLocation=gl.getAttribLocation(vertexShader,"a_position"),cache.backdropLocation=gl.getUniformLocation(vertexShader,"u_backdrop"),cache.subtypeLocation=gl.getUniformLocation(vertexShader,"u_subtype"),gl.getAttribLocation(vertexShader,"a_texCoord")),texLayerLocation=gl.getUniformLocation(vertexShader,"u_image"),vertexShader=gl.getUniformLocation(vertexShader,"u_mask"),texCoordBuffer=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,texCoordBuffer),gl.bufferData(gl.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),gl.STATIC_DRAW),gl.enableVertexAttribArray(canvas),gl.vertexAttribPointer(canvas,2,gl.FLOAT,!1,0,0),gl.uniform1i(texLayerLocation,0),gl.uniform1i(vertexShader,1),smaskCache=cache})(),smaskCache),canvas=cache.canvas,gl=cache.gl,properties=(canvas.width=width,canvas.height=height,gl.viewport(0,0,gl.drawingBufferWidth,gl.drawingBufferHeight),gl.uniform2f(cache.resolutionLocation,width,height),properties.backdrop?gl.uniform4f(cache.resolutionLocation,properties.backdrop[0],properties.backdrop[1],properties.backdrop[2],1):gl.uniform4f(cache.resolutionLocation,0,0,0,0),gl.uniform1i(cache.subtypeLocation,"Luminosity"===properties.subtype?1:0),createTexture(gl,layer,gl.TEXTURE0)),layer=createTexture(gl,mask,gl.TEXTURE1),mask=gl.createBuffer();return gl.bindBuffer(gl.ARRAY_BUFFER,mask),gl.bufferData(gl.ARRAY_BUFFER,new Float32Array([0,0,width,0,0,height,0,height,width,0,width,height]),gl.STATIC_DRAW),gl.enableVertexAttribArray(cache.positionLocation),gl.vertexAttribPointer(cache.positionLocation,2,gl.FLOAT,!1,0,0),gl.clearColor(0,0,0,0),gl.enable(gl.BLEND),gl.blendFunc(gl.ONE,gl.ONE_MINUS_SRC_ALPHA),gl.clear(gl.COLOR_BUFFER_BIT),gl.drawArrays(gl.TRIANGLES,0,6),gl.flush(),gl.deleteTexture(properties),gl.deleteTexture(layer),gl.deleteBuffer(mask),canvas},drawFigures:function(width,height,backgroundColor,figures,context){figuresCache||(()=>{generateGL(),canvas=currentCanvas,gl=currentGL,currentGL=currentCanvas=null;var canvas,gl,vertexShader=createVertexShader(gl,figuresVertexShaderCode),vertexShader=createProgram(gl,[vertexShader,createFragmentShader(gl,figuresFragmentShaderCode)]),cache=(gl.useProgram(vertexShader),{});cache.gl=gl,cache.canvas=canvas,cache.resolutionLocation=gl.getUniformLocation(vertexShader,"u_resolution"),cache.scaleLocation=gl.getUniformLocation(vertexShader,"u_scale"),cache.offsetLocation=gl.getUniformLocation(vertexShader,"u_offset"),cache.positionLocation=gl.getAttribLocation(vertexShader,"a_position"),cache.colorLocation=gl.getAttribLocation(vertexShader,"a_color"),figuresCache=cache})();for(var cache=figuresCache,canvas=cache.canvas,gl=cache.gl,count=(canvas.width=width,canvas.height=height,gl.viewport(0,0,gl.drawingBufferWidth,gl.drawingBufferHeight),gl.uniform2f(cache.resolutionLocation,width,height),0),i=0,ii=figures.length;i<ii;i++)switch(figures[i].type){case"lattice":count+=((rows=figures[i].coords.length/figures[i].verticesPerRow|0)-1)*(figures[i].verticesPerRow-1)*6;break;case"triangles":count+=figures[i].coords.length}var coords=new Float32Array(2*count),colors=new Uint8Array(3*count),coordsMap=context.coords,colorsMap=context.colors,pIndex=0,cIndex=0;for(i=0,ii=figures.length;i<ii;i++){var figure=figures[i],ps=figure.coords,cs=figure.colors;switch(figure.type){case"lattice":for(var cols=figure.verticesPerRow,rows=ps.length/cols|0,row=1;row<rows;row++)for(var offset=row*cols+1,col=1;col<cols;col++,offset++)coords[pIndex]=coordsMap[ps[offset-cols-1]],coords[pIndex+1]=coordsMap[ps[offset-cols-1]+1],coords[pIndex+2]=coordsMap[ps[offset-cols]],coords[pIndex+3]=coordsMap[ps[offset-cols]+1],coords[pIndex+4]=coordsMap[ps[offset-1]],coords[pIndex+5]=coordsMap[ps[offset-1]+1],colors[cIndex]=colorsMap[cs[offset-cols-1]],colors[cIndex+1]=colorsMap[cs[offset-cols-1]+1],colors[cIndex+2]=colorsMap[cs[offset-cols-1]+2],colors[cIndex+3]=colorsMap[cs[offset-cols]],colors[cIndex+4]=colorsMap[cs[offset-cols]+1],colors[cIndex+5]=colorsMap[cs[offset-cols]+2],colors[cIndex+6]=colorsMap[cs[offset-1]],colors[cIndex+7]=colorsMap[cs[offset-1]+1],colors[cIndex+8]=colorsMap[cs[offset-1]+2],coords[pIndex+6]=coords[pIndex+2],coords[pIndex+7]=coords[pIndex+3],coords[pIndex+8]=coords[pIndex+4],coords[pIndex+9]=coords[pIndex+5],coords[pIndex+10]=coordsMap[ps[offset]],coords[pIndex+11]=coordsMap[ps[offset]+1],colors[cIndex+9]=colors[cIndex+3],colors[cIndex+10]=colors[cIndex+4],colors[cIndex+11]=colors[cIndex+5],colors[cIndex+12]=colors[cIndex+6],colors[cIndex+13]=colors[cIndex+7],colors[cIndex+14]=colors[cIndex+8],colors[cIndex+15]=colorsMap[cs[offset]],colors[cIndex+16]=colorsMap[cs[offset]+1],colors[cIndex+17]=colorsMap[cs[offset]+2],pIndex+=12,cIndex+=18;break;case"triangles":for(var j=0,jj=ps.length;j<jj;j++)coords[pIndex]=coordsMap[ps[j]],coords[pIndex+1]=coordsMap[ps[j]+1],colors[cIndex]=colorsMap[cs[j]],colors[cIndex+1]=colorsMap[cs[j]+1],colors[cIndex+2]=colorsMap[cs[j]+2],pIndex+=2,cIndex+=3}}return backgroundColor?gl.clearColor(backgroundColor[0]/255,backgroundColor[1]/255,backgroundColor[2]/255,1):gl.clearColor(0,0,0,0),gl.clear(gl.COLOR_BUFFER_BIT),width=gl.createBuffer(),gl.bindBuffer(gl.ARRAY_BUFFER,width),gl.bufferData(gl.ARRAY_BUFFER,coords,gl.STATIC_DRAW),gl.enableVertexAttribArray(cache.positionLocation),gl.vertexAttribPointer(cache.positionLocation,2,gl.FLOAT,!1,0,0),height=gl.createBuffer(),gl.bindBuffer(gl.ARRAY_BUFFER,height),gl.bufferData(gl.ARRAY_BUFFER,colors,gl.STATIC_DRAW),gl.enableVertexAttribArray(cache.colorLocation),gl.vertexAttribPointer(cache.colorLocation,3,gl.UNSIGNED_BYTE,!1,0,0),gl.uniform2f(cache.scaleLocation,context.scaleX,context.scaleY),gl.uniform2f(cache.offsetLocation,context.offsetX,context.offsetY),gl.drawArrays(gl.TRIANGLES,0,count),gl.flush(),gl.deleteBuffer(width),gl.deleteBuffer(height),canvas},cleanup:function(){smaskCache&&smaskCache.canvas&&(smaskCache.canvas.width=0,smaskCache.canvas.height=0),figuresCache&&figuresCache.canvas&&(figuresCache.canvas.width=0,figuresCache.canvas.height=0),figuresCache=smaskCache=null}});function loadShader(gl,code,shaderType){shaderType=gl.createShader(shaderType);if(gl.shaderSource(shaderType,code),gl.compileShader(shaderType),gl.getShaderParameter(shaderType,gl.COMPILE_STATUS))return shaderType;throw code=gl.getShaderInfoLog(shaderType),new Error("Error during shader compilation: "+code)}function createVertexShader(gl,code){return loadShader(gl,code,gl.VERTEX_SHADER)}function createFragmentShader(gl,code){return loadShader(gl,code,gl.FRAGMENT_SHADER)}function createProgram(gl,shaders){for(var errorMsg,program=gl.createProgram(),i=0,ii=shaders.length;i<ii;++i)gl.attachShader(program,shaders[i]);if(gl.linkProgram(program),gl.getProgramParameter(program,gl.LINK_STATUS))return program;throw errorMsg=gl.getProgramInfoLog(program),new Error("Error during program linking: "+errorMsg)}function createTexture(gl,image,textureId){gl.activeTexture(textureId);textureId=gl.createTexture();return gl.bindTexture(gl.TEXTURE_2D,textureId),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,gl.CLAMP_TO_EDGE),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.NEAREST),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.NEAREST),gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,image),textureId}function generateGL(){currentGL||(currentCanvas=document.createElement("canvas"),currentGL=currentCanvas.getContext("webgl",{premultipliedalpha:!1}))}},function(module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderTextLayer=void 0;var _util=__w_pdfjs_require__(1),_global_scope=(__w_pdfjs_require__=__w_pdfjs_require__(3))&&__w_pdfjs_require__.__esModule?__w_pdfjs_require__:{default:__w_pdfjs_require__};function renderTextLayer(renderParameters){var task=new TextLayerRenderTask({textContent:renderParameters.textContent,textContentStream:renderParameters.textContentStream,container:renderParameters.container,viewport:renderParameters.viewport,textDivs:renderParameters.textDivs,textContentItemsStr:renderParameters.textContentItemsStr,enhanceTextSelection:renderParameters.enhanceTextSelection});return task._render(renderParameters.timeout),task}var NonWhitespaceRegexp;NonWhitespaceRegexp=/\S/,TextLayerRenderTask.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new _util.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems:function(items,styleCache){for(var i=0,len=items.length;i<len;i++)this._textContentItemsStr.push(items[i].str),appendText(this,items[i],styleCache)},_layoutText:function(textDiv){var transform,_textDiv$style,fontSize,textDivProperties=this._textDivProperties.get(textDiv);textDivProperties.isWhitespace||(transform="",0!==textDivProperties.canvasWidth&&(fontSize=(_textDiv$style=textDiv.style).fontSize,_textDiv$style=_textDiv$style.fontFamily,fontSize===this._layoutTextLastFontSize&&_textDiv$style===this._layoutTextLastFontFamily||(this._layoutTextCtx.font="".concat(fontSize," ").concat(_textDiv$style),this._layoutTextLastFontSize=fontSize,this._layoutTextLastFontFamily=_textDiv$style),0<(fontSize=this._layoutTextCtx.measureText(textDiv.textContent).width))&&(textDivProperties.scale=textDivProperties.canvasWidth/fontSize,transform="scaleX(".concat(textDivProperties.scale,")")),0<(transform=0!==textDivProperties.angle?"rotate(".concat(textDivProperties.angle,"deg) ").concat(transform):transform).length&&(this._enhanceTextSelection&&(textDivProperties.originalTransform=transform),textDiv.style.transform=transform),this._textDivProperties.set(textDiv,textDivProperties),this._container.appendChild(textDiv))},_render:function(timeout){var _this2=this,capability=(0,_util.createPromiseCapability)(),styleCache=Object.create(null),canvas=document.createElement("canvas");if(canvas.mozOpaque=!0,this._layoutTextCtx=canvas.getContext("2d",{alpha:!1}),this._textContent){var canvas=this._textContent.items,textStyles=this._textContent.styles;this._processItems(canvas,textStyles),capability.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');canvas=function pump(){_this2._reader.read().then(function(_ref2){var value=_ref2.value;_ref2.done?capability.resolve():(Object.assign(styleCache,value.styles),_this2._processItems(value.items,styleCache),pump())},capability.reject)};this._reader=this._textContentStream.getReader(),canvas()}capability.promise.then(function(){styleCache=null,timeout?_this2._renderTimer=setTimeout(function(){render(_this2),_this2._renderTimer=null},timeout):render(_this2)},this._capability.reject)},expandTextDivs:function(expandDivs){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(expand(this),this._bounds=null);for(var transformBuf=[],paddingBuf=[],i=0,ii=this._textDivs.length;i<ii;i++){var padding,div=this._textDivs[i],divProps=this._textDivProperties.get(div);divProps.isWhitespace||(expandDivs?(paddingBuf.length=transformBuf.length=0,divProps.originalTransform&&transformBuf.push(divProps.originalTransform),0<divProps.paddingTop?(paddingBuf.push("".concat(divProps.paddingTop,"px")),transformBuf.push("translateY(".concat(-divProps.paddingTop,"px)"))):paddingBuf.push(0),0<divProps.paddingRight?paddingBuf.push("".concat(divProps.paddingRight/divProps.scale,"px")):paddingBuf.push(0),0<divProps.paddingBottom?paddingBuf.push("".concat(divProps.paddingBottom,"px")):paddingBuf.push(0),0<divProps.paddingLeft?(paddingBuf.push("".concat(divProps.paddingLeft/divProps.scale,"px")),transformBuf.push("translateX(".concat(-divProps.paddingLeft/divProps.scale,"px)"))):paddingBuf.push(0),"0 0 0 0"!==(padding=paddingBuf.join(" "))&&(div.style.padding=padding),transformBuf.length&&(div.style.transform=transformBuf.join(" "))):(div.style.padding=null,div.style.transform=divProps.originalTransform))}}}};function appendText(task,geom,styles){var angle,left,str,fontAscent,angleSin,m,fontHeight,textDiv=document.createElement("span"),textDivProperties={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};task._textDivs.push(textDiv),str=geom.str,NonWhitespaceRegexp.test(str)?(str=_util.Util.transform(task._viewport.transform,geom.transform),angle=Math.atan2(str[1],str[0]),(styles=styles[geom.fontName]).vertical&&(angle+=Math.PI/2),fontAscent=fontHeight=Math.sqrt(str[2]*str[2]+str[3]*str[3]),styles.ascent?fontAscent=styles.ascent*fontAscent:styles.descent&&(fontAscent=(1+styles.descent)*fontAscent),str=0===angle?(left=str[4],str[5]-fontAscent):(left=str[4]+fontAscent*Math.sin(angle),str[5]-fontAscent*Math.cos(angle)),textDiv.style.left="".concat(left,"px"),textDiv.style.top="".concat(str,"px"),textDiv.style.fontSize="".concat(fontHeight,"px"),textDiv.style.fontFamily=styles.fontFamily,textDiv.textContent=geom.str,task._fontInspectorEnabled&&(textDiv.dataset.fontName=geom.fontName),0!==angle&&(textDivProperties.angle=angle*(180/Math.PI)),1<geom.str.length&&(styles.vertical?textDivProperties.canvasWidth=geom.height*task._viewport.scale:textDivProperties.canvasWidth=geom.width*task._viewport.scale),task._textDivProperties.set(textDiv,textDivProperties),task._textContentStream&&task._layoutText(textDiv),task._enhanceTextSelection&&(fontAscent=1,(angleSin=0)!==angle&&(fontAscent=Math.cos(angle),angleSin=Math.sin(angle)),styles=(styles.vertical?geom.height:geom.width)*task._viewport.scale,geom=fontHeight,fontHeight=0!==angle?_util.Util.getAxialAlignedBoundingBox([0,0,styles,geom],m=[fontAscent,angleSin,-angleSin,fontAscent,left,str]):[left,str,left+styles,str+geom],task._bounds.push({left:fontHeight[0],top:fontHeight[1],right:fontHeight[2],bottom:fontHeight[3],div:textDiv,size:[styles,geom],m:m}))):(textDivProperties.isWhitespace=!0,task._textDivProperties.set(textDiv,textDivProperties))}function render(task){if(!task._canceled){var textDivs=task._textDivs,capability=task._capability,textDivsLength=textDivs.length;if(!(1e5<textDivsLength||task._textContentStream))for(var i=0;i<textDivsLength;i++)task._layoutText(textDivs[i]);task._renderingDone=!0,capability.resolve()}}function expand(task){for(var bounds=task._bounds,viewport=task._viewport,expanded=((width,height,boxes)=>{var bounds=boxes.map(function(box,i){return{x1:box.left,y1:box.top,x2:box.right,y2:box.bottom,index:i,x1New:void 0,x2New:void 0}}),expanded=(expandBoundsLTR(width,bounds),new Array(boxes.length));return bounds.forEach(function(b){var i=b.index;expanded[i]={left:b.x1New,top:0,right:b.x2New,bottom:0}}),boxes.map(function(box,i){var e=expanded[i],b=bounds[i];b.x1=box.top,b.y1=width-e.right,b.x2=box.bottom,b.y2=width-e.left,b.index=i,b.x1New=void 0,b.x2New=void 0}),expandBoundsLTR(height,bounds),bounds.forEach(function(b){var i=b.index;expanded[i].top=b.x1New,expanded[i].bottom=b.x2New}),expanded})(viewport.width,viewport.height,bounds),i=0;i<expanded.length;i++){var e,m,c,s,ts,b,boxScale,div=bounds[i].div,divProperties=task._textDivProperties.get(div);0===divProperties.angle?(divProperties.paddingLeft=bounds[i].left-expanded[i].left,divProperties.paddingTop=bounds[i].top-expanded[i].top,divProperties.paddingRight=expanded[i].right-bounds[i].right,divProperties.paddingBottom=expanded[i].bottom-bounds[i].bottom,task._textDivProperties.set(div,divProperties)):(e=expanded[i],b=bounds[i],m=b.m,c=m[0],s=m[1],b=[[0,0],[0,b.size[1]],[b.size[0],0],b.size],ts=new Float64Array(64),b=(b.forEach(function(p,i){p=_util.Util.applyTransform(p,m);ts[i+0]=c&&(e.left-p[0])/c,ts[i+4]=s&&(e.top-p[1])/s,ts[i+8]=c&&(e.right-p[0])/c,ts[i+12]=s&&(e.bottom-p[1])/s,ts[i+16]=s&&(e.left-p[0])/-s,ts[i+20]=c&&(e.top-p[1])/c,ts[i+24]=s&&(e.right-p[0])/-s,ts[i+28]=c&&(e.bottom-p[1])/c,ts[i+32]=c&&(e.left-p[0])/-c,ts[i+36]=s&&(e.top-p[1])/-s,ts[i+40]=c&&(e.right-p[0])/-c,ts[i+44]=s&&(e.bottom-p[1])/-s,ts[i+48]=s&&(e.left-p[0])/s,ts[i+52]=c&&(e.top-p[1])/-c,ts[i+56]=s&&(e.right-p[0])/s,ts[i+60]=c&&(e.bottom-p[1])/-c}),function(ts,offset,count){for(var result=0,i=0;i<count;i++){var t=ts[offset++];0<t&&(result=result?Math.min(t,result):t)}return result}),boxScale=1+Math.min(Math.abs(c),Math.abs(s)),divProperties.paddingLeft=b(ts,32,16)/boxScale,divProperties.paddingTop=b(ts,48,16)/boxScale,divProperties.paddingRight=b(ts,0,16)/boxScale,divProperties.paddingBottom=b(ts,16,16)/boxScale,task._textDivProperties.set(div,divProperties))}}function expandBoundsLTR(width,bounds){bounds.sort(function(a,b){return a.x1-b.x1||a.index-b.index});var horizon=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];bounds.forEach(function(boundary){for(var i=0;i<horizon.length&&horizon[i].end<=boundary.y1;)i++;for(var j=horizon.length-1;0<=j&&horizon[j].start>=boundary.y2;)j--;for(var maxXNew=-1/0,q=i;q<=j;q++){var horizonPart,affectedBoundary,xNew=(affectedBoundary=(horizonPart=horizon[q]).boundary).x2>boundary.x1?affectedBoundary.index>boundary.index?affectedBoundary.x1New:boundary.x1:void 0===affectedBoundary.x2New?(affectedBoundary.x2+boundary.x1)/2:affectedBoundary.x2New;maxXNew<xNew&&(maxXNew=xNew)}for(boundary.x1New=maxXNew,q=i;q<=j;q++)void 0===(affectedBoundary=(horizonPart=horizon[q]).boundary).x2New?affectedBoundary.x2>boundary.x1?affectedBoundary.index>boundary.index&&(affectedBoundary.x2New=affectedBoundary.x2):affectedBoundary.x2New=maxXNew:affectedBoundary.x2New>maxXNew&&(affectedBoundary.x2New=Math.max(maxXNew,affectedBoundary.x2));var changedHorizon=[],lastBoundary=null;for(q=i;q<=j;q++){var useBoundary=(affectedBoundary=(horizonPart=horizon[q]).boundary).x2>boundary.x2?affectedBoundary:boundary;lastBoundary===useBoundary?changedHorizon[changedHorizon.length-1].end=horizonPart.end:(changedHorizon.push({start:horizonPart.start,end:horizonPart.end,boundary:useBoundary}),lastBoundary=useBoundary)}for(horizon[i].start<boundary.y1&&(changedHorizon[0].start=boundary.y1,changedHorizon.unshift({start:horizon[i].start,end:boundary.y1,boundary:horizon[i].boundary})),boundary.y2<horizon[j].end&&(changedHorizon[changedHorizon.length-1].end=boundary.y2,changedHorizon.push({start:boundary.y2,end:horizon[j].end,boundary:horizon[j].boundary})),q=i;q<=j;q++)if(void 0===(affectedBoundary=(horizonPart=horizon[q]).boundary).x2New){for(var used=!1,k=i-1;!used&&0<=k&&horizon[k].start>=affectedBoundary.y1;k--)used=horizon[k].boundary===affectedBoundary;for(k=j+1;!used&&k<horizon.length&&horizon[k].end<=affectedBoundary.y2;k++)used=horizon[k].boundary===affectedBoundary;for(k=0;!used&&k<changedHorizon.length;k++)used=changedHorizon[k].boundary===affectedBoundary;used||(affectedBoundary.x2New=maxXNew)}Array.prototype.splice.apply(horizon,[i,j-i+1].concat(changedHorizon))}),horizon.forEach(function(horizonPart){horizonPart=horizonPart.boundary;void 0===horizonPart.x2New&&(horizonPart.x2New=Math.max(width,horizonPart.x2))})}function TextLayerRenderTask(_ref){var _this=this,textContent=_ref.textContent,textContentStream=_ref.textContentStream,container=_ref.container,viewport=_ref.viewport,textDivs=_ref.textDivs,textContentItemsStr=_ref.textContentItemsStr,_ref=_ref.enhanceTextSelection;this._textContent=textContent,this._textContentStream=textContentStream,this._container=container,this._viewport=viewport,this._textDivs=textDivs||[],this._textContentItemsStr=textContentItemsStr||[],this._enhanceTextSelection=!!_ref,this._fontInspectorEnabled=!(!_global_scope.default.FontInspector||!_global_scope.default.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,_util.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){_this._layoutTextCtx&&(_this._layoutTextCtx.canvas.width=0,_this._layoutTextCtx.canvas.height=0,_this._layoutTextCtx=null)}).catch(function(){})}exports.renderTextLayer=renderTextLayer},function(module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnnotationLayer=void 0;var _display_utils=__w_pdfjs_require__(183),_util=__w_pdfjs_require__(1);function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var target=((object,property)=>{for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object})(target,property);if(target)return(target=Object.getOwnPropertyDescriptor(target,property)).get?target.get.call(receiver):target.value})(target,property,receiver||target)}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps)}var AnnotationElementFactory=(()=>{function AnnotationElementFactory(){_classCallCheck(this,AnnotationElementFactory)}return _createClass(AnnotationElementFactory,null,[{key:"create",value:function(parameters){switch(parameters.data.annotationType){case _util.AnnotationType.LINK:return new LinkAnnotationElement(parameters);case _util.AnnotationType.TEXT:return new TextAnnotationElement(parameters);case _util.AnnotationType.WIDGET:switch(parameters.data.fieldType){case"Tx":return new TextWidgetAnnotationElement(parameters);case"Btn":return parameters.data.radioButton?new RadioButtonWidgetAnnotationElement(parameters):new(parameters.data.checkBox?CheckboxWidgetAnnotationElement:PushButtonWidgetAnnotationElement)(parameters);case"Ch":return new ChoiceWidgetAnnotationElement(parameters)}return new WidgetAnnotationElement(parameters);case _util.AnnotationType.POPUP:return new PopupAnnotationElement(parameters);case _util.AnnotationType.FREETEXT:return new FreeTextAnnotationElement(parameters);case _util.AnnotationType.LINE:return new LineAnnotationElement(parameters);case _util.AnnotationType.SQUARE:return new SquareAnnotationElement(parameters);case _util.AnnotationType.CIRCLE:return new CircleAnnotationElement(parameters);case _util.AnnotationType.POLYLINE:return new PolylineAnnotationElement(parameters);case _util.AnnotationType.CARET:return new CaretAnnotationElement(parameters);case _util.AnnotationType.INK:return new InkAnnotationElement(parameters);case _util.AnnotationType.POLYGON:return new PolygonAnnotationElement(parameters);case _util.AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement(parameters);case _util.AnnotationType.UNDERLINE:return new UnderlineAnnotationElement(parameters);case _util.AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement(parameters);case _util.AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement(parameters);case _util.AnnotationType.STAMP:return new StampAnnotationElement(parameters);case _util.AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement(parameters);default:return new AnnotationElement(parameters)}}}]),AnnotationElementFactory})(),AnnotationElement=(()=>{function AnnotationElement(parameters){var isRenderable=1<arguments.length&&void 0!==arguments[1]&&arguments[1],ignoreBorder=2<arguments.length&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,AnnotationElement),this.isRenderable=isRenderable,this.data=parameters.data,this.layer=parameters.layer,this.page=parameters.page,this.viewport=parameters.viewport,this.linkService=parameters.linkService,this.downloadManager=parameters.downloadManager,this.imageResourcesPath=parameters.imageResourcesPath,this.renderInteractiveForms=parameters.renderInteractiveForms,this.svgFactory=parameters.svgFactory,isRenderable&&(this.container=this._createContainer(ignoreBorder))}return _createClass(AnnotationElement,[{key:"_createContainer",value:function(){var ignoreBorder=0<arguments.length&&void 0!==arguments[0]&&arguments[0],data=this.data,page=this.page,viewport=this.viewport,container=document.createElement("section"),width=data.rect[2]-data.rect[0],height=data.rect[3]-data.rect[1],page=(container.setAttribute("data-annotation-id",data.id),_util.Util.normalizeRect([data.rect[0],page.view[3]-data.rect[1]+page.view[1],data.rect[2],page.view[3]-data.rect[3]+page.view[1]]));if(container.style.transform="matrix(".concat(viewport.transform.join(","),")"),container.style.transformOrigin="-".concat(page[0],"px -").concat(page[1],"px"),!ignoreBorder&&0<data.borderStyle.width){container.style.borderWidth="".concat(data.borderStyle.width,"px"),data.borderStyle.style!==_util.AnnotationBorderStyleType.UNDERLINE&&(width-=2*data.borderStyle.width,height-=2*data.borderStyle.width);var viewport=data.borderStyle.horizontalCornerRadius,ignoreBorder=data.borderStyle.verticalCornerRadius;switch((0<viewport||0<ignoreBorder)&&(viewport="".concat(viewport,"px / ").concat(ignoreBorder,"px"),container.style.borderRadius=viewport),data.borderStyle.style){case _util.AnnotationBorderStyleType.SOLID:container.style.borderStyle="solid";break;case _util.AnnotationBorderStyleType.DASHED:container.style.borderStyle="dashed";break;case _util.AnnotationBorderStyleType.BEVELED:(0,_util.warn)("Unimplemented border style: beveled");break;case _util.AnnotationBorderStyleType.INSET:(0,_util.warn)("Unimplemented border style: inset");break;case _util.AnnotationBorderStyleType.UNDERLINE:container.style.borderBottomStyle="solid"}data.color?container.style.borderColor=_util.Util.makeCssRgb(0|data.color[0],0|data.color[1],0|data.color[2]):container.style.borderWidth=0}return container.style.left="".concat(page[0],"px"),container.style.top="".concat(page[1],"px"),container.style.width="".concat(width,"px"),container.style.height="".concat(height,"px"),container}},{key:"_createPopup",value:function(container,trigger,data){trigger||((trigger=document.createElement("div")).style.height=container.style.height,trigger.style.width=container.style.width,container.appendChild(trigger));trigger=new PopupElement({container:container,trigger:trigger,color:data.color,title:data.title,modificationDate:data.modificationDate,contents:data.contents,hideWrapper:!0}).render();trigger.style.left=container.style.width,container.appendChild(trigger)}},{key:"render",value:function(){(0,_util.unreachable)("Abstract method `AnnotationElement.render` called")}}]),AnnotationElement})(),LinkAnnotationElement=(()=>{function LinkAnnotationElement(parameters){_classCallCheck(this,LinkAnnotationElement);var isRenderable=!!(parameters.data.url||parameters.data.dest||parameters.data.action);return _possibleConstructorReturn(this,_getPrototypeOf(LinkAnnotationElement).call(this,parameters,isRenderable))}return _inherits(LinkAnnotationElement,AnnotationElement),_createClass(LinkAnnotationElement,[{key:"render",value:function(){this.container.className="linkAnnotation";var data=this.data,linkService=this.linkService,link=document.createElement("a");return data.url?(0,_display_utils.addLinkAttributes)(link,{url:data.url,target:data.newWindow?_display_utils.LinkTarget.BLANK:linkService.externalLinkTarget,rel:linkService.externalLinkRel,enabled:linkService.externalLinkEnabled}):data.action?this._bindNamedAction(link,data.action):this._bindLink(link,data.dest),this.container.appendChild(link),this.container}},{key:"_bindLink",value:function(link,destination){var _this=this;link.href=this.linkService.getDestinationHash(destination),link.onclick=function(){return destination&&_this.linkService.navigateTo(destination),!1},destination&&(link.className="internalLink")}},{key:"_bindNamedAction",value:function(link,action){var _this2=this;link.href=this.linkService.getAnchorUrl(""),link.onclick=function(){return _this2.linkService.executeNamedAction(action),!1},link.className="internalLink"}}]),LinkAnnotationElement})(),TextAnnotationElement=(()=>{function TextAnnotationElement(parameters){_classCallCheck(this,TextAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(TextAnnotationElement).call(this,parameters,isRenderable))}return _inherits(TextAnnotationElement,AnnotationElement),_createClass(TextAnnotationElement,[{key:"render",value:function(){this.container.className="textAnnotation";var image=document.createElement("img");return image.style.height=this.container.style.height,image.style.width=this.container.style.width,image.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",image.alt="[{{type}} Annotation]",image.dataset.l10nId="text_annotation_type",image.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,image,this.data),this.container.appendChild(image),this.container}}]),TextAnnotationElement})(),WidgetAnnotationElement=(()=>{function WidgetAnnotationElement(){return _classCallCheck(this,WidgetAnnotationElement),_possibleConstructorReturn(this,_getPrototypeOf(WidgetAnnotationElement).apply(this,arguments))}return _inherits(WidgetAnnotationElement,AnnotationElement),_createClass(WidgetAnnotationElement,[{key:"render",value:function(){return this.container}}]),WidgetAnnotationElement})(),TextWidgetAnnotationElement=(()=>{function TextWidgetAnnotationElement(parameters){_classCallCheck(this,TextWidgetAnnotationElement);var isRenderable=parameters.renderInteractiveForms||!parameters.data.hasAppearance&&!!parameters.data.fieldValue;return _possibleConstructorReturn(this,_getPrototypeOf(TextWidgetAnnotationElement).call(this,parameters,isRenderable))}return _inherits(TextWidgetAnnotationElement,WidgetAnnotationElement),_createClass(TextWidgetAnnotationElement,[{key:"render",value:function(){this.container.className="textWidgetAnnotation";var combWidth,element=null;return this.renderInteractiveForms?(this.data.multiLine?(element=document.createElement("textarea")).textContent=this.data.fieldValue:((element=document.createElement("input")).type="text",element.setAttribute("value",this.data.fieldValue)),element.disabled=this.data.readOnly,null!==this.data.maxLen&&(element.maxLength=this.data.maxLen),this.data.comb&&(combWidth=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen,element.classList.add("comb"),element.style.letterSpacing="calc(".concat(combWidth,"px - 1ch)"))):((element=document.createElement("div")).textContent=this.data.fieldValue,element.style.verticalAlign="middle",element.style.display="table-cell",combWidth=null,this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(combWidth=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(element,combWidth)),null!==this.data.textAlignment&&(element.style.textAlign=["left","center","right"][this.data.textAlignment]),this.container.appendChild(element),this.container}},{key:"_setTextStyle",value:function(element,font){var fontFamily,element=element.style;element.fontSize="".concat(this.data.fontSize,"px"),element.direction=this.data.fontDirection<0?"rtl":"ltr",font&&(element.fontWeight=font.black?font.bold?"900":"bold":font.bold?"bold":"normal",element.fontStyle=font.italic?"italic":"normal",fontFamily=font.loadedName?'"'.concat(font.loadedName,'", '):"",element.fontFamily=fontFamily+(font.fallbackName||"Helvetica, sans-serif"))}}]),TextWidgetAnnotationElement})(),CheckboxWidgetAnnotationElement=(()=>{function CheckboxWidgetAnnotationElement(parameters){return _classCallCheck(this,CheckboxWidgetAnnotationElement),_possibleConstructorReturn(this,_getPrototypeOf(CheckboxWidgetAnnotationElement).call(this,parameters,parameters.renderInteractiveForms))}return _inherits(CheckboxWidgetAnnotationElement,WidgetAnnotationElement),_createClass(CheckboxWidgetAnnotationElement,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var element=document.createElement("input");return element.disabled=this.data.readOnly,element.type="checkbox",this.data.fieldValue&&"Off"!==this.data.fieldValue&&element.setAttribute("checked",!0),this.container.appendChild(element),this.container}}]),CheckboxWidgetAnnotationElement})(),RadioButtonWidgetAnnotationElement=(()=>{function RadioButtonWidgetAnnotationElement(parameters){return _classCallCheck(this,RadioButtonWidgetAnnotationElement),_possibleConstructorReturn(this,_getPrototypeOf(RadioButtonWidgetAnnotationElement).call(this,parameters,parameters.renderInteractiveForms))}return _inherits(RadioButtonWidgetAnnotationElement,WidgetAnnotationElement),_createClass(RadioButtonWidgetAnnotationElement,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var element=document.createElement("input");return element.disabled=this.data.readOnly,element.type="radio",element.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&element.setAttribute("checked",!0),this.container.appendChild(element),this.container}}]),RadioButtonWidgetAnnotationElement})(),PushButtonWidgetAnnotationElement=(()=>{function PushButtonWidgetAnnotationElement(){return _classCallCheck(this,PushButtonWidgetAnnotationElement),_possibleConstructorReturn(this,_getPrototypeOf(PushButtonWidgetAnnotationElement).apply(this,arguments))}return _inherits(PushButtonWidgetAnnotationElement,LinkAnnotationElement),_createClass(PushButtonWidgetAnnotationElement,[{key:"render",value:function(){var container=_get(_getPrototypeOf(PushButtonWidgetAnnotationElement.prototype),"render",this).call(this);return container.className="buttonWidgetAnnotation pushButton",container}}]),PushButtonWidgetAnnotationElement})(),ChoiceWidgetAnnotationElement=(()=>{function ChoiceWidgetAnnotationElement(parameters){return _classCallCheck(this,ChoiceWidgetAnnotationElement),_possibleConstructorReturn(this,_getPrototypeOf(ChoiceWidgetAnnotationElement).call(this,parameters,parameters.renderInteractiveForms))}return _inherits(ChoiceWidgetAnnotationElement,WidgetAnnotationElement),_createClass(ChoiceWidgetAnnotationElement,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var selectElement=document.createElement("select"),_iteratorNormalCompletion=(selectElement.disabled=this.data.readOnly,this.data.combo||(selectElement.size=this.data.options.length,this.data.multiSelect&&(selectElement.multiple=!0)),!0),_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.data.options[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var option=_step.value,optionElement=document.createElement("option");optionElement.textContent=option.displayValue,optionElement.value=option.exportValue,this.data.fieldValue.includes(option.displayValue)&&optionElement.setAttribute("selected",!0),selectElement.appendChild(optionElement)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return this.container.appendChild(selectElement),this.container}}]),ChoiceWidgetAnnotationElement})(),PopupAnnotationElement=(()=>{function PopupAnnotationElement(parameters){_classCallCheck(this,PopupAnnotationElement);var isRenderable=!(!parameters.data.title&&!parameters.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(PopupAnnotationElement).call(this,parameters,isRenderable))}return _inherits(PopupAnnotationElement,AnnotationElement),_createClass(PopupAnnotationElement,[{key:"render",value:function(){var selector,popup,parentLeft,parentWidth;return this.container.className="popupAnnotation",!["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType)&&(selector='[data-annotation-id="'.concat(this.data.parentId,'"]'),selector=this.layer.querySelector(selector))&&(popup=new PopupElement({container:this.container,trigger:selector,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),parentLeft=parseFloat(selector.style.left),parentWidth=parseFloat(selector.style.width),this.container.style.transformOrigin="-".concat(parentLeft+parentWidth,"px -").concat(selector.style.top),this.container.style.left="".concat(parentLeft+parentWidth,"px"),this.container.appendChild(popup.render())),this.container}}]),PopupAnnotationElement})(),PopupElement=(()=>{function PopupElement(parameters){_classCallCheck(this,PopupElement),this.container=parameters.container,this.trigger=parameters.trigger,this.color=parameters.color,this.title=parameters.title,this.modificationDate=parameters.modificationDate,this.contents=parameters.contents,this.hideWrapper=parameters.hideWrapper||!1,this.pinned=!1}return _createClass(PopupElement,[{key:"render",value:function(){var wrapper=document.createElement("div"),popup=(wrapper.className="popupWrapper",this.hideElement=this.hideWrapper?wrapper:this.container,this.hideElement.setAttribute("hidden",!0),document.createElement("div")),color=(popup.className="popup",this.color),r=(color&&(r=.7*(255-color[0])+color[0],g=.7*(255-color[1])+color[1],color=.7*(255-color[2])+color[2],popup.style.backgroundColor=_util.Util.makeCssRgb(0|r,0|g,0|color)),document.createElement("h1")),g=(r.textContent=this.title,popup.appendChild(r),_display_utils.PDFDateString.toDateObject(this.modificationDate)),r=(g&&((color=document.createElement("span")).textContent="{{date}}, {{time}}",color.dataset.l10nId="annotation_date_string",color.dataset.l10nArgs=JSON.stringify({date:g.toLocaleDateString(),time:g.toLocaleTimeString()}),popup.appendChild(color)),this._formatContents(this.contents));return popup.appendChild(r),this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),popup.addEventListener("click",this._hide.bind(this,!0)),wrapper.appendChild(popup),wrapper}},{key:"_formatContents",value:function(contents){for(var p=document.createElement("p"),lines=contents.split(/(?:\r\n?|\n)/),i=0,ii=lines.length;i<ii;++i){var line=lines[i];p.appendChild(document.createTextNode(line)),i<ii-1&&p.appendChild(document.createElement("br"))}return p}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){0<arguments.length&&void 0!==arguments[0]&&!arguments[0]||(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),--this.container.style.zIndex)}}]),PopupElement})(),FreeTextAnnotationElement=(()=>{function FreeTextAnnotationElement(parameters){_classCallCheck(this,FreeTextAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(FreeTextAnnotationElement).call(this,parameters,isRenderable,!0))}return _inherits(FreeTextAnnotationElement,AnnotationElement),_createClass(FreeTextAnnotationElement,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),FreeTextAnnotationElement})(),LineAnnotationElement=(()=>{function LineAnnotationElement(parameters){_classCallCheck(this,LineAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(LineAnnotationElement).call(this,parameters,isRenderable,!0))}return _inherits(LineAnnotationElement,AnnotationElement),_createClass(LineAnnotationElement,[{key:"render",value:function(){this.container.className="lineAnnotation";var data=this.data,width=data.rect[2]-data.rect[0],height=data.rect[3]-data.rect[1],width=this.svgFactory.create(width,height),height=this.svgFactory.createElement("svg:line");return height.setAttribute("x1",data.rect[2]-data.lineCoordinates[0]),height.setAttribute("y1",data.rect[3]-data.lineCoordinates[1]),height.setAttribute("x2",data.rect[2]-data.lineCoordinates[2]),height.setAttribute("y2",data.rect[3]-data.lineCoordinates[3]),height.setAttribute("stroke-width",data.borderStyle.width),height.setAttribute("stroke","transparent"),width.appendChild(height),this.container.append(width),this._createPopup(this.container,height,data),this.container}}]),LineAnnotationElement})(),SquareAnnotationElement=(()=>{function SquareAnnotationElement(parameters){_classCallCheck(this,SquareAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(SquareAnnotationElement).call(this,parameters,isRenderable,!0))}return _inherits(SquareAnnotationElement,AnnotationElement),_createClass(SquareAnnotationElement,[{key:"render",value:function(){this.container.className="squareAnnotation";var data=this.data,width=data.rect[2]-data.rect[0],height=data.rect[3]-data.rect[1],svg=this.svgFactory.create(width,height),borderWidth=data.borderStyle.width,square=this.svgFactory.createElement("svg:rect");return square.setAttribute("x",borderWidth/2),square.setAttribute("y",borderWidth/2),square.setAttribute("width",width-borderWidth),square.setAttribute("height",height-borderWidth),square.setAttribute("stroke-width",borderWidth),square.setAttribute("stroke","transparent"),square.setAttribute("fill","none"),svg.appendChild(square),this.container.append(svg),this._createPopup(this.container,square,data),this.container}}]),SquareAnnotationElement})(),CircleAnnotationElement=(()=>{function CircleAnnotationElement(parameters){_classCallCheck(this,CircleAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(CircleAnnotationElement).call(this,parameters,isRenderable,!0))}return _inherits(CircleAnnotationElement,AnnotationElement),_createClass(CircleAnnotationElement,[{key:"render",value:function(){this.container.className="circleAnnotation";var data=this.data,width=data.rect[2]-data.rect[0],height=data.rect[3]-data.rect[1],svg=this.svgFactory.create(width,height),borderWidth=data.borderStyle.width,circle=this.svgFactory.createElement("svg:ellipse");return circle.setAttribute("cx",width/2),circle.setAttribute("cy",height/2),circle.setAttribute("rx",width/2-borderWidth/2),circle.setAttribute("ry",height/2-borderWidth/2),circle.setAttribute("stroke-width",borderWidth),circle.setAttribute("stroke","transparent"),circle.setAttribute("fill","none"),svg.appendChild(circle),this.container.append(svg),this._createPopup(this.container,circle,data),this.container}}]),CircleAnnotationElement})(),PolylineAnnotationElement=(()=>{function PolylineAnnotationElement(parameters){_classCallCheck(this,PolylineAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents),parameters=_possibleConstructorReturn(this,_getPrototypeOf(PolylineAnnotationElement).call(this,parameters,isRenderable,!0));return parameters.containerClassName="polylineAnnotation",parameters.svgElementName="svg:polyline",parameters}return _inherits(PolylineAnnotationElement,AnnotationElement),_createClass(PolylineAnnotationElement,[{key:"render",value:function(){this.container.className=this.containerClassName;var data=this.data,width=data.rect[2]-data.rect[0],height=data.rect[3]-data.rect[1],width=this.svgFactory.create(width,height),points=[],_iteratorNormalCompletion2=!0,height=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=data.vertices[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var coordinate=_step2.value,x=coordinate.x-data.rect[0],y=data.rect[3]-coordinate.y;points.push(x+","+y)}}catch(err){height=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(height)throw _iteratorError2}}points=points.join(" "),height=this.svgFactory.createElement(this.svgElementName);return height.setAttribute("points",points),height.setAttribute("stroke-width",data.borderStyle.width),height.setAttribute("stroke","transparent"),height.setAttribute("fill","none"),width.appendChild(height),this.container.append(width),this._createPopup(this.container,height,data),this.container}}]),PolylineAnnotationElement})(),PolygonAnnotationElement=(()=>{function PolygonAnnotationElement(parameters){return _classCallCheck(this,PolygonAnnotationElement),(parameters=_possibleConstructorReturn(this,_getPrototypeOf(PolygonAnnotationElement).call(this,parameters))).containerClassName="polygonAnnotation",parameters.svgElementName="svg:polygon",parameters}return _inherits(PolygonAnnotationElement,PolylineAnnotationElement),PolygonAnnotationElement})(),CaretAnnotationElement=(()=>{function CaretAnnotationElement(parameters){_classCallCheck(this,CaretAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(CaretAnnotationElement).call(this,parameters,isRenderable,!0))}return _inherits(CaretAnnotationElement,AnnotationElement),_createClass(CaretAnnotationElement,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),CaretAnnotationElement})(),InkAnnotationElement=(()=>{function InkAnnotationElement(parameters){_classCallCheck(this,InkAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents),parameters=_possibleConstructorReturn(this,_getPrototypeOf(InkAnnotationElement).call(this,parameters,isRenderable,!0));return parameters.containerClassName="inkAnnotation",parameters.svgElementName="svg:polyline",parameters}return _inherits(InkAnnotationElement,AnnotationElement),_createClass(InkAnnotationElement,[{key:"render",value:function(){this.container.className=this.containerClassName;var data=this.data,width=data.rect[2]-data.rect[0],height=data.rect[3]-data.rect[1],svg=this.svgFactory.create(width,height),_iteratorNormalCompletion3=!0,width=!1,height=void 0;try{for(var _step3,_iterator3=data.inkLists[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var inkList=_step3.value,points=[],_iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=inkList[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var coordinate=_step4.value,x=coordinate.x-data.rect[0],y=data.rect[3]-coordinate.y;points.push("".concat(x,",").concat(y))}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{_iteratorNormalCompletion4||null==_iterator4.return||_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}var points=points.join(" "),polyline=this.svgFactory.createElement(this.svgElementName);polyline.setAttribute("points",points),polyline.setAttribute("stroke-width",data.borderStyle.width),polyline.setAttribute("stroke","transparent"),polyline.setAttribute("fill","none"),this._createPopup(this.container,polyline,data),svg.appendChild(polyline)}}catch(err){width=!0,height=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(width)throw height}}return this.container.append(svg),this.container}}]),InkAnnotationElement})(),HighlightAnnotationElement=(()=>{function HighlightAnnotationElement(parameters){_classCallCheck(this,HighlightAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(HighlightAnnotationElement).call(this,parameters,isRenderable,!0))}return _inherits(HighlightAnnotationElement,AnnotationElement),_createClass(HighlightAnnotationElement,[{key:"render",value:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),HighlightAnnotationElement})(),UnderlineAnnotationElement=(()=>{function UnderlineAnnotationElement(parameters){_classCallCheck(this,UnderlineAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(UnderlineAnnotationElement).call(this,parameters,isRenderable,!0))}return _inherits(UnderlineAnnotationElement,AnnotationElement),_createClass(UnderlineAnnotationElement,[{key:"render",value:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),UnderlineAnnotationElement})(),SquigglyAnnotationElement=(()=>{function SquigglyAnnotationElement(parameters){_classCallCheck(this,SquigglyAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(SquigglyAnnotationElement).call(this,parameters,isRenderable,!0))}return _inherits(SquigglyAnnotationElement,AnnotationElement),_createClass(SquigglyAnnotationElement,[{key:"render",value:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),SquigglyAnnotationElement})(),StrikeOutAnnotationElement=(()=>{function StrikeOutAnnotationElement(parameters){_classCallCheck(this,StrikeOutAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(StrikeOutAnnotationElement).call(this,parameters,isRenderable,!0))}return _inherits(StrikeOutAnnotationElement,AnnotationElement),_createClass(StrikeOutAnnotationElement,[{key:"render",value:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),StrikeOutAnnotationElement})(),StampAnnotationElement=(()=>{function StampAnnotationElement(parameters){_classCallCheck(this,StampAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(StampAnnotationElement).call(this,parameters,isRenderable,!0))}return _inherits(StampAnnotationElement,AnnotationElement),_createClass(StampAnnotationElement,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),StampAnnotationElement})(),FileAttachmentAnnotationElement=(()=>{function FileAttachmentAnnotationElement(parameters){_classCallCheck(this,FileAttachmentAnnotationElement);var _this6$data$file=(parameters=_possibleConstructorReturn(this,_getPrototypeOf(FileAttachmentAnnotationElement).call(this,parameters,!0))).data.file,filename=_this6$data$file.filename,_this6$data$file=_this6$data$file.content;return parameters.filename=(0,_display_utils.getFilenameFromUrl)(filename),parameters.content=_this6$data$file,parameters.linkService.eventBus&&parameters.linkService.eventBus.dispatch("fileattachmentannotation",{source:_assertThisInitialized(parameters),id:(0,_util.stringToPDFString)(filename),filename:filename,content:_this6$data$file}),parameters}return _inherits(FileAttachmentAnnotationElement,AnnotationElement),_createClass(FileAttachmentAnnotationElement,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var trigger=document.createElement("div");return trigger.style.height=this.container.style.height,trigger.style.width=this.container.style.width,trigger.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,trigger,this.data),this.container.appendChild(trigger),this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,_util.warn)("Download cannot be started due to unavailable download manager")}}]),FileAttachmentAnnotationElement})();exports.AnnotationLayer=(()=>{function AnnotationLayer(){_classCallCheck(this,AnnotationLayer)}return _createClass(AnnotationLayer,null,[{key:"render",value:function(parameters){var _iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _step5,_iterator5=parameters.annotations[Symbol.iterator]();!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0){var element,data=_step5.value;data&&(element=AnnotationElementFactory.create({data:data,layer:parameters.div,page:parameters.page,viewport:parameters.viewport,linkService:parameters.linkService,downloadManager:parameters.downloadManager,imageResourcesPath:parameters.imageResourcesPath||"",renderInteractiveForms:parameters.renderInteractiveForms||!1,svgFactory:new _display_utils.DOMSVGFactory})).isRenderable&&parameters.div.appendChild(element.render())}}catch(err){_didIteratorError5=!0,_iteratorError5=err}finally{try{_iteratorNormalCompletion5||null==_iterator5.return||_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}}},{key:"update",value:function(parameters){var _iteratorNormalCompletion6=!0,_didIteratorError6=!1,_iteratorError6=void 0;try{for(var _step6,_iterator6=parameters.annotations[Symbol.iterator]();!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=!0){var data=_step6.value,element=parameters.div.querySelector('[data-annotation-id="'.concat(data.id,'"]'));element&&(element.style.transform="matrix(".concat(parameters.viewport.transform.join(","),")"))}}catch(err){_didIteratorError6=!0,_iteratorError6=err}finally{try{_iteratorNormalCompletion6||null==_iterator6.return||_iterator6.return()}finally{if(_didIteratorError6)throw _iteratorError6}}parameters.div.removeAttribute("hidden")}}]),AnnotationLayer})()},function(module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGGraphics=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(183),_is_node=(__w_pdfjs_require__=__w_pdfjs_require__(4))&&__w_pdfjs_require__.__esModule?__w_pdfjs_require__:{default:__w_pdfjs_require__};function _toConsumableArray(arr){return(arr=>{if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}})(arr)||(iter=>{if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)})(arr)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function _slicedToArray(arr,i){return(arr=>{if(Array.isArray(arr))return arr})(arr)||((arr,i)=>{if(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}})(arr,i)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps)}function pf(value){if(Number.isInteger(value))return value.toString();var s=value.toFixed(10),i=s.length-1;if("0"!==s[i])return s;for(;"0"===s[--i];);return s.substring(0,"."===s[i]?i:i+1)}function pm(m){if(0===m[4]&&0===m[5]){if(0===m[1]&&0===m[2])return 1===m[0]&&1===m[3]?"":"scale(".concat(pf(m[0])," ").concat(pf(m[3]),")");var a;if(m[0]===m[3]&&m[1]===-m[2])return a=180*Math.acos(m[0])/Math.PI,"rotate(".concat(pf(a),")")}else if(1===m[0]&&0===m[1]&&0===m[2]&&1===m[3])return"translate(".concat(pf(m[4])," ").concat(pf(m[5]),")");return"matrix(".concat(pf(m[0])," ").concat(pf(m[1])," ").concat(pf(m[2])," ").concat(pf(m[3])," ").concat(pf(m[4])," ")+"".concat(pf(m[5]),")")}exports.SVGGraphics=function(){throw new Error("Not implemented: SVGGraphics")};var SVG_DEFAULTS_fontStyle="normal",SVG_DEFAULTS_fontWeight="normal",SVG_DEFAULTS_fillColor="#000000",XLINK_NS="http://www.w3.org/1999/xlink",LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],convertImgDataToPng=(()=>{for(var PNG_HEADER=new Uint8Array([137,80,78,71,13,10,26,10]),crcTable=new Int32Array(256),i=0;i<256;i++){for(var c=i,h=0;h<8;h++)c=1&c?3988292384^c>>1&2147483647:c>>1&2147483647;crcTable[i]=c}function writePngChunk(type,body,data,offset){var p=offset,len=body.length,len=(data[p]=len>>24&255,data[p+1]=len>>16&255,data[p+2]=len>>8&255,data[p+3]=255&len,data[p+=4]=255&type.charCodeAt(0),data[p+1]=255&type.charCodeAt(1),data[p+2]=255&type.charCodeAt(2),data[p+3]=255&type.charCodeAt(3),data.set(body,p+=4),((data,start,end)=>{for(var crc=-1,_i=start;_i<end;_i++)var a=255&(crc^data[_i]),crc=crc>>>8^crcTable[a];return-1^crc})(data,offset+4,p+=body.length));data[p]=len>>24&255,data[p+1]=len>>16&255,data[p+2]=len>>8&255,data[p+3]=255&len}function deflateSyncUncompressed(literals){for(var len=literals.length,deflateBlocks=Math.ceil(len/65535),idat=new Uint8Array(2+len+5*deflateBlocks+4),pi=0,pos=(idat[pi++]=120,idat[pi++]=156,0);65535<len;)idat[pi++]=0,idat[pi++]=255,idat[pi++]=255,idat[pi++]=0,idat[pi++]=0,idat.set(literals.subarray(pos,pos+65535),pi),pi+=65535,pos+=65535,len-=65535;idat[pi++]=1,idat[pi++]=255&len,idat[pi++]=len>>8&255,idat[pi++]=255&~len,idat[pi++]=(65535&~len)>>8&255,idat.set(literals.subarray(pos),pi),pi+=literals.length-pos;deflateBlocks=((data,start,end)=>{for(var a=1,b=0,_i2=start;_i2<end;++_i2)b=(b+(a=(a+(255&data[_i2]))%65521))%65521;return b<<16|a})(literals,0,literals.length);return idat[pi++]=deflateBlocks>>24&255,idat[pi++]=deflateBlocks>>16&255,idat[pi++]=deflateBlocks>>8&255,idat[pi++]=255&deflateBlocks,idat}function encode(imgData,kind,forceDataSchema,isMask){var bitDepth,colorType,lineSize,width=imgData.width,height=imgData.height,bytes=imgData.data;switch(kind){case _util.ImageKind.GRAYSCALE_1BPP:colorType=0,bitDepth=1,lineSize=width+7>>3;break;case _util.ImageKind.RGB_24BPP:colorType=2,bitDepth=8,lineSize=3*width;break;case _util.ImageKind.RGBA_32BPP:colorType=6,bitDepth=8,lineSize=4*width;break;default:throw new Error("invalid format")}for(var literals=new Uint8Array((1+lineSize)*height),offsetLiterals=0,offsetBytes=0,y=0;y<height;++y)literals[offsetLiterals++]=0,literals.set(bytes.subarray(offsetBytes,offsetBytes+lineSize),offsetLiterals),offsetBytes+=lineSize,offsetLiterals+=lineSize;if(kind===_util.ImageKind.GRAYSCALE_1BPP&&isMask)for(var offsetLiterals=0,_y=0;_y<height;_y++){offsetLiterals++;for(var _i3=0;_i3<lineSize;_i3++)literals[offsetLiterals++]^=255}var imgData=new Uint8Array([width>>24&255,width>>16&255,width>>8&255,255&width,height>>24&255,height>>16&255,height>>8&255,255&height,bitDepth,colorType,0,0,0]),kind=(literals=>{if((0,_is_node.default)())try{var input=8<=parseInt(process.versions.node)?literals:new Buffer(literals),output=require("zlib").deflateSync(input,{level:9});return output instanceof Uint8Array?output:new Uint8Array(output)}catch(e){(0,_util.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return deflateSyncUncompressed(literals)})(literals),isMask=PNG_HEADER.length+36+imgData.length+kind.length,isMask=new Uint8Array(isMask),offset=0;return isMask.set(PNG_HEADER,0),writePngChunk("IHDR",imgData,isMask,offset+=PNG_HEADER.length),writePngChunk("IDATA",kind,isMask,offset+=12+imgData.length),offset+=12+kind.length,writePngChunk("IEND",new Uint8Array(0),isMask,offset),(0,_util.createObjectURL)(isMask,"image/png",forceDataSchema)}return function(imgData,forceDataSchema,isMask){return encode(imgData,void 0===imgData.kind?_util.ImageKind.GRAYSCALE_1BPP:imgData.kind,forceDataSchema,isMask)}})(),SVGExtraState=(()=>{function SVGExtraState(){_classCallCheck(this,SVGExtraState),this.fontSizeScale=1,this.fontWeight=SVG_DEFAULTS_fontWeight,this.fontSize=0,this.textMatrix=_util.IDENTITY_MATRIX,this.fontMatrix=_util.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=_util.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=SVG_DEFAULTS_fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return _createClass(SVGExtraState,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(x,y){this.x=x,this.y=y}}]),SVGExtraState})(),clipCount=0,maskCount=0,shadingCount=0;exports.SVGGraphics=(()=>{function SVGGraphics(commonObjs,objs,forceDataSchema){for(var op in _classCallCheck(this,SVGGraphics),this.svgFactory=new _display_utils.DOMSVGFactory,this.current=new SVGExtraState,this.transformMatrix=_util.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=commonObjs,this.objs=objs,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!forceDataSchema,this._operatorIdMapping=[],_util.OPS)this._operatorIdMapping[_util.OPS[op]]=op}return _createClass(SVGGraphics,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var old=this.current;this.extraStack.push(old),this.current=old.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(items){this.save(),this.executeOpTree(items),this.restore()}},{key:"loadDependencies",value:function(operatorList){for(var _this=this,fnArray=operatorList.fnArray,argsArray=operatorList.argsArray,i=0,ii=fnArray.length;i<ii;i++)if(fnArray[i]===_util.OPS.dependency){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=argsArray[i][Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0)(()=>{var obj=_step2.value,objsPool=obj.startsWith("g_")?_this.commonObjs:_this.objs,promise=new Promise(function(resolve){objsPool.get(obj,resolve)});_this.current.dependencies.push(promise)})()}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(a,b,c,d,e,f){this.transformMatrix=_util.Util.transform(this.transformMatrix,[a,b,c,d,e,f]),this.tgrp=null}},{key:"getSVG",value:function(operatorList,viewport){var _this2=this,svgElement=(this.viewport=viewport,this._initialize(viewport));return this.loadDependencies(operatorList).then(function(){return _this2.transformMatrix=_util.IDENTITY_MATRIX,_this2.executeOpTree(_this2.convertOpList(operatorList)),svgElement})}},{key:"convertOpList",value:function(operatorList){for(var operatorIdMapping=this._operatorIdMapping,argsArray=operatorList.argsArray,fnArray=operatorList.fnArray,opList=[],i=0,ii=fnArray.length;i<ii;i++){var fnId=fnArray[i];opList.push({fnId:fnId,fn:operatorIdMapping[fnId],args:argsArray[i]})}return(opList=>{var opTree=[],tmp=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=opList[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var opListElement=_step.value;"save"===opListElement.fn?(opTree.push({fnId:92,fn:"group",items:[]}),tmp.push(opTree),opTree=opTree[opTree.length-1].items):"restore"===opListElement.fn?opTree=tmp.pop():opTree.push(opListElement)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return opTree})(opList)}},{key:"executeOpTree",value:function(opTree){var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=opTree[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var opTreeElement=_step3.value,fn=opTreeElement.fn,args=opTreeElement.args;switch(0|opTreeElement.fnId){case _util.OPS.beginText:this.beginText();break;case _util.OPS.dependency:break;case _util.OPS.setLeading:this.setLeading(args);break;case _util.OPS.setLeadingMoveText:this.setLeadingMoveText(args[0],args[1]);break;case _util.OPS.setFont:this.setFont(args);break;case _util.OPS.showText:case _util.OPS.showSpacedText:this.showText(args[0]);break;case _util.OPS.endText:this.endText();break;case _util.OPS.moveText:this.moveText(args[0],args[1]);break;case _util.OPS.setCharSpacing:this.setCharSpacing(args[0]);break;case _util.OPS.setWordSpacing:this.setWordSpacing(args[0]);break;case _util.OPS.setHScale:this.setHScale(args[0]);break;case _util.OPS.setTextMatrix:this.setTextMatrix(args[0],args[1],args[2],args[3],args[4],args[5]);break;case _util.OPS.setTextRise:this.setTextRise(args[0]);break;case _util.OPS.setTextRenderingMode:this.setTextRenderingMode(args[0]);break;case _util.OPS.setLineWidth:this.setLineWidth(args[0]);break;case _util.OPS.setLineJoin:this.setLineJoin(args[0]);break;case _util.OPS.setLineCap:this.setLineCap(args[0]);break;case _util.OPS.setMiterLimit:this.setMiterLimit(args[0]);break;case _util.OPS.setFillRGBColor:this.setFillRGBColor(args[0],args[1],args[2]);break;case _util.OPS.setStrokeRGBColor:this.setStrokeRGBColor(args[0],args[1],args[2]);break;case _util.OPS.setStrokeColorN:this.setStrokeColorN(args);break;case _util.OPS.setFillColorN:this.setFillColorN(args);break;case _util.OPS.shadingFill:this.shadingFill(args[0]);break;case _util.OPS.setDash:this.setDash(args[0],args[1]);break;case _util.OPS.setRenderingIntent:this.setRenderingIntent(args[0]);break;case _util.OPS.setFlatness:this.setFlatness(args[0]);break;case _util.OPS.setGState:this.setGState(args[0]);break;case _util.OPS.fill:this.fill();break;case _util.OPS.eoFill:this.eoFill();break;case _util.OPS.stroke:this.stroke();break;case _util.OPS.fillStroke:this.fillStroke();break;case _util.OPS.eoFillStroke:this.eoFillStroke();break;case _util.OPS.clip:this.clip("nonzero");break;case _util.OPS.eoClip:this.clip("evenodd");break;case _util.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case _util.OPS.paintJpegXObject:this.paintJpegXObject(args[0],args[1],args[2]);break;case _util.OPS.paintImageXObject:this.paintImageXObject(args[0]);break;case _util.OPS.paintInlineImageXObject:this.paintInlineImageXObject(args[0]);break;case _util.OPS.paintImageMaskXObject:this.paintImageMaskXObject(args[0]);break;case _util.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(args[0],args[1]);break;case _util.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case _util.OPS.closePath:this.closePath();break;case _util.OPS.closeStroke:this.closeStroke();break;case _util.OPS.closeFillStroke:this.closeFillStroke();break;case _util.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case _util.OPS.nextLine:this.nextLine();break;case _util.OPS.transform:this.transform(args[0],args[1],args[2],args[3],args[4],args[5]);break;case _util.OPS.constructPath:this.constructPath(args[0],args[1]);break;case _util.OPS.endPath:this.endPath();break;case 92:this.group(opTreeElement.items);break;default:(0,_util.warn)("Unimplemented operator ".concat(fn))}}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}}},{key:"setWordSpacing",value:function(wordSpacing){this.current.wordSpacing=wordSpacing}},{key:"setCharSpacing",value:function(charSpacing){this.current.charSpacing=charSpacing}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(a,b,c,d,e,f){var current=this.current;current.textMatrix=current.lineMatrix=[a,b,c,d,e,f],current.textMatrixScale=Math.sqrt(a*a+b*b),current.x=current.lineX=0,current.y=current.lineY=0,current.xcoords=[],current.tspan=this.svgFactory.createElement("svg:tspan"),current.tspan.setAttributeNS(null,"font-family",current.fontFamily),current.tspan.setAttributeNS(null,"font-size","".concat(pf(current.fontSize),"px")),current.tspan.setAttributeNS(null,"y",pf(-current.y)),current.txtElement=this.svgFactory.createElement("svg:text"),current.txtElement.appendChild(current.tspan)}},{key:"beginText",value:function(){var current=this.current;current.x=current.lineX=0,current.y=current.lineY=0,current.textMatrix=_util.IDENTITY_MATRIX,current.lineMatrix=_util.IDENTITY_MATRIX,current.textMatrixScale=1,current.tspan=this.svgFactory.createElement("svg:tspan"),current.txtElement=this.svgFactory.createElement("svg:text"),current.txtgrp=this.svgFactory.createElement("svg:g"),current.xcoords=[]}},{key:"moveText",value:function(x,y){var current=this.current;current.x=current.lineX+=x,current.y=current.lineY+=y,current.xcoords=[],current.tspan=this.svgFactory.createElement("svg:tspan"),current.tspan.setAttributeNS(null,"font-family",current.fontFamily),current.tspan.setAttributeNS(null,"font-size","".concat(pf(current.fontSize),"px")),current.tspan.setAttributeNS(null,"y",pf(-current.y))}},{key:"showText",value:function(glyphs){var current=this.current,font=current.font,fontSize=current.fontSize;if(0!==fontSize){var charSpacing=current.charSpacing,wordSpacing=current.wordSpacing,fontDirection=current.fontDirection,textHScale=current.textHScale*fontDirection,vertical=font.vertical,widthAdvanceScale=fontSize*current.fontMatrix[0],x=0,_iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=glyphs[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var width,character,charWidth,glyph=_step4.value;null===glyph?x+=fontDirection*wordSpacing:(0,_util.isNum)(glyph)?x+=-glyph*fontSize*.001:(width=glyph.width,character=glyph.fontChar,charWidth=width*widthAdvanceScale+((glyph.isSpace?wordSpacing:0)+charSpacing)*fontDirection,(glyph.isInFont||font.missingFile)&&(current.xcoords.push(current.x+x*textHScale),current.tspan.textContent+=character),x+=charWidth)}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{_iteratorNormalCompletion4||null==_iterator4.return||_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}vertical?current.y-=x*textHScale:current.x+=x*textHScale,current.tspan.setAttributeNS(null,"x",current.xcoords.map(pf).join(" ")),current.tspan.setAttributeNS(null,"y",pf(-current.y)),current.tspan.setAttributeNS(null,"font-family",current.fontFamily),current.tspan.setAttributeNS(null,"font-size","".concat(pf(current.fontSize),"px")),current.fontStyle!==SVG_DEFAULTS_fontStyle&&current.tspan.setAttributeNS(null,"font-style",current.fontStyle),current.fontWeight!==SVG_DEFAULTS_fontWeight&&current.tspan.setAttributeNS(null,"font-weight",current.fontWeight);glyphs=current.textRenderingMode&_util.TextRenderingMode.FILL_STROKE_MASK,_iteratorError4=(glyphs===_util.TextRenderingMode.FILL||glyphs===_util.TextRenderingMode.FILL_STROKE?(current.fillColor!==SVG_DEFAULTS_fillColor&&current.tspan.setAttributeNS(null,"fill",current.fillColor),current.fillAlpha<1&&current.tspan.setAttributeNS(null,"fill-opacity",current.fillAlpha)):current.textRenderingMode===_util.TextRenderingMode.ADD_TO_PATH?current.tspan.setAttributeNS(null,"fill","transparent"):current.tspan.setAttributeNS(null,"fill","none"),glyphs!==_util.TextRenderingMode.STROKE&&glyphs!==_util.TextRenderingMode.FILL_STROKE||(_didIteratorError4=1/(current.textMatrixScale||1),this._setStrokeAttributes(current.tspan,_didIteratorError4)),current.textMatrix);0!==current.textRise&&((_iteratorError4=_iteratorError4.slice())[5]+=current.textRise),current.txtElement.setAttributeNS(null,"transform","".concat(pm(_iteratorError4)," scale(1, -1)")),current.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),current.txtElement.appendChild(current.tspan),current.txtgrp.appendChild(current.txtElement),this._ensureTransformGroup().appendChild(current.txtElement)}}},{key:"setLeadingMoveText",value:function(x,y){this.setLeading(-y),this.moveText(x,y)}},{key:"addFontStyle",value:function(fontObj){this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var url=(0,_util.createObjectURL)(fontObj.data,fontObj.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(fontObj.loadedName,'";')+" src: url(".concat(url,"); }\n")}},{key:"setFont",value:function(details){var current=this.current,fontObj=this.commonObjs.get(details[0]),details=details[1],bold=(current.font=fontObj,this.embedFonts&&fontObj.data&&!this.embeddedFonts[fontObj.loadedName]&&(this.addFontStyle(fontObj),this.embeddedFonts[fontObj.loadedName]=fontObj),current.fontMatrix=fontObj.fontMatrix||_util.FONT_IDENTITY_MATRIX,fontObj.black?fontObj.bold?"bolder":"bold":fontObj.bold?"bold":"normal"),italic=fontObj.italic?"italic":"normal";details<0?(details=-details,current.fontDirection=-1):current.fontDirection=1,current.fontSize=details,current.fontFamily=fontObj.loadedName,current.fontWeight=bold,current.fontStyle=italic,current.tspan=this.svgFactory.createElement("svg:tspan"),current.tspan.setAttributeNS(null,"y",pf(-current.y)),current.xcoords=[]}},{key:"endText",value:function(){var current=this.current;current.textRenderingMode&_util.TextRenderingMode.ADD_TO_PATH_FLAG&&current.txtElement&&current.txtElement.hasChildNodes()&&(current.element=current.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(width){0<width&&(this.current.lineWidth=width)}},{key:"setLineCap",value:function(style){this.current.lineCap=LINE_CAP_STYLES[style]}},{key:"setLineJoin",value:function(style){this.current.lineJoin=LINE_JOIN_STYLES[style]}},{key:"setMiterLimit",value:function(limit){this.current.miterLimit=limit}},{key:"setStrokeAlpha",value:function(strokeAlpha){this.current.strokeAlpha=strokeAlpha}},{key:"setStrokeRGBColor",value:function(r,g,b){this.current.strokeColor=_util.Util.makeCssRgb(r,g,b)}},{key:"setFillAlpha",value:function(fillAlpha){this.current.fillAlpha=fillAlpha}},{key:"setFillRGBColor",value:function(r,g,b){this.current.fillColor=_util.Util.makeCssRgb(r,g,b),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[]}},{key:"setStrokeColorN",value:function(args){this.current.strokeColor=this._makeColorN_Pattern(args)}},{key:"setFillColorN",value:function(args){this.current.fillColor=this._makeColorN_Pattern(args)}},{key:"shadingFill",value:function(args){var width=this.viewport.width,height=this.viewport.height,inv=_util.Util.inverseTransform(this.transformMatrix),bl=_util.Util.applyTransform([0,0],inv),br=_util.Util.applyTransform([0,height],inv),ul=_util.Util.applyTransform([width,0],inv),width=_util.Util.applyTransform([width,height],inv),height=Math.min(bl[0],br[0],ul[0],width[0]),inv=Math.min(bl[1],br[1],ul[1],width[1]),x1=Math.max(bl[0],br[0],ul[0],width[0]),bl=Math.max(bl[1],br[1],ul[1],width[1]),br=this.svgFactory.createElement("svg:rect");br.setAttributeNS(null,"x",height),br.setAttributeNS(null,"y",inv),br.setAttributeNS(null,"width",x1-height),br.setAttributeNS(null,"height",bl-inv),br.setAttributeNS(null,"fill",this._makeShadingPattern(args)),this._ensureTransformGroup().appendChild(br)}},{key:"_makeColorN_Pattern",value:function(args){return"TilingPattern"===args[0]?this._makeTilingPattern(args):this._makeShadingPattern(args)}},{key:"_makeTilingPattern",value:function(args){var color=args[1],operatorList=args[2],matrix=args[3]||_util.IDENTITY_MATRIX,_args$=_slicedToArray(args[4],4),x0=_args$[0],y0=_args$[1],x1=_args$[2],_args$=_args$[3],xstep=args[5],ystep=args[6],args=args[7],tilingId="shading".concat(shadingCount++),x0=_slicedToArray(_util.Util.applyTransform([x0,y0],matrix),2),y0=x0[0],x0=x0[1],x1=_slicedToArray(_util.Util.applyTransform([x1,_args$],matrix),2),_args$=x1[0],x1=x1[1],_Util$singularValueDe2=_slicedToArray(_util.Util.singularValueDecompose2dScale(matrix),2),xstep=xstep*_Util$singularValueDe2[0],ystep=ystep*_Util$singularValueDe2[1],_Util$singularValueDe2=this.svgFactory.createElement("svg:pattern"),xstep=(_Util$singularValueDe2.setAttributeNS(null,"id",tilingId),_Util$singularValueDe2.setAttributeNS(null,"patternUnits","userSpaceOnUse"),_Util$singularValueDe2.setAttributeNS(null,"width",xstep),_Util$singularValueDe2.setAttributeNS(null,"height",ystep),_Util$singularValueDe2.setAttributeNS(null,"x","".concat(y0)),_Util$singularValueDe2.setAttributeNS(null,"y","".concat(x0)),this.svg),ystep=this.transformMatrix,fillColor=this.current.fillColor,strokeColor=this.current.strokeColor,_args$=this.svgFactory.create(_args$-y0,x1-x0);return this.svg=_args$,this.transformMatrix=matrix,2===args&&(y0=_util.Util.makeCssRgb.apply(_util.Util,_toConsumableArray(color)),this.current.fillColor=y0,this.current.strokeColor=y0),this.executeOpTree(this.convertOpList(operatorList)),this.svg=xstep,this.transformMatrix=ystep,this.current.fillColor=fillColor,this.current.strokeColor=strokeColor,_Util$singularValueDe2.appendChild(_args$.childNodes[0]),this.defs.appendChild(_Util$singularValueDe2),"url(#".concat(tilingId,")")}},{key:"_makeShadingPattern",value:function(args){switch(args[0]){case"RadialAxial":var shadingId="shading".concat(shadingCount++),colorStops=args[2];switch(args[1]){case"axial":var gradient,point0=args[3],point1=args[4];(gradient=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",shadingId),gradient.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),gradient.setAttributeNS(null,"x1",point0[0]),gradient.setAttributeNS(null,"y1",point0[1]),gradient.setAttributeNS(null,"x2",point1[0]),gradient.setAttributeNS(null,"y2",point1[1]);break;case"radial":var point0=args[3],point1=args[4],focalRadius=args[5],circleRadius=args[6];(gradient=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",shadingId),gradient.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),gradient.setAttributeNS(null,"cx",point1[0]),gradient.setAttributeNS(null,"cy",point1[1]),gradient.setAttributeNS(null,"r",circleRadius),gradient.setAttributeNS(null,"fx",point0[0]),gradient.setAttributeNS(null,"fy",point0[1]),gradient.setAttributeNS(null,"fr",focalRadius);break;default:throw new Error("Unknown RadialAxial type: ".concat(args[1]))}var _iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _step5,_iterator5=colorStops[Symbol.iterator]();!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0){var colorStop=_step5.value,stop=this.svgFactory.createElement("svg:stop");stop.setAttributeNS(null,"offset",colorStop[0]),stop.setAttributeNS(null,"stop-color",colorStop[1]),gradient.appendChild(stop)}}catch(err){_didIteratorError5=!0,_iteratorError5=err}finally{try{_iteratorNormalCompletion5||null==_iterator5.return||_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}return this.defs.appendChild(gradient),"url(#".concat(shadingId,")");case"Mesh":return(0,_util.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(args[0]))}}},{key:"setDash",value:function(dashArray,dashPhase){this.current.dashArray=dashArray,this.current.dashPhase=dashPhase}},{key:"constructPath",value:function(ops,args){var current=this.current,x=current.x,y=current.y,d=[],j=0,_iteratorNormalCompletion6=!0,_didIteratorError6=!1,_iteratorError6=void 0;try{for(var _step6,_iterator6=ops[Symbol.iterator]();!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=!0)switch(0|_step6.value){case _util.OPS.rectangle:var x=args[j++],y=args[j++],xw=x+args[j++],yh=y+args[j++];d.push("M",pf(x),pf(y),"L",pf(xw),pf(y),"L",pf(xw),pf(yh),"L",pf(x),pf(yh),"Z");break;case _util.OPS.moveTo:x=args[j++],y=args[j++],d.push("M",pf(x),pf(y));break;case _util.OPS.lineTo:x=args[j++],y=args[j++],d.push("L",pf(x),pf(y));break;case _util.OPS.curveTo:x=args[j+4],y=args[j+5],d.push("C",pf(args[j]),pf(args[j+1]),pf(args[j+2]),pf(args[j+3]),pf(x),pf(y)),j+=6;break;case _util.OPS.curveTo2:x=args[j+2],y=args[j+3],d.push("C",pf(x),pf(y),pf(args[j]),pf(args[j+1]),pf(args[j+2]),pf(args[j+3])),j+=4;break;case _util.OPS.curveTo3:x=args[j+2],y=args[j+3],d.push("C",pf(args[j]),pf(args[j+1]),pf(x),pf(y),pf(x),pf(y)),j+=4;break;case _util.OPS.closePath:d.push("Z")}}catch(err){_didIteratorError6=!0,_iteratorError6=err}finally{try{_iteratorNormalCompletion6||null==_iterator6.return||_iterator6.return()}finally{if(_didIteratorError6)throw _iteratorError6}}d=d.join(" "),current.path&&0<ops.length&&ops[0]!==_util.OPS.rectangle&&ops[0]!==_util.OPS.moveTo?d=current.path.getAttributeNS(null,"d")+d:(current.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(current.path)),current.path.setAttributeNS(null,"d",d),current.path.setAttributeNS(null,"fill","none"),current.element=current.path,current.setCurrentPoint(x,y)}},{key:"endPath",value:function(){var clipId,clipPath,clipElement,current=this.current;current.path=null,this.pendingClip&&(current.element?(clipId="clippath".concat(clipCount++),(clipPath=this.svgFactory.createElement("svg:clipPath")).setAttributeNS(null,"id",clipId),clipPath.setAttributeNS(null,"transform",pm(this.transformMatrix)),clipElement=current.element.cloneNode(!0),"evenodd"===this.pendingClip?clipElement.setAttributeNS(null,"clip-rule","evenodd"):clipElement.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,clipPath.appendChild(clipElement),this.defs.appendChild(clipPath),current.activeClipUrl&&(current.clipGroup=null,this.extraStack.forEach(function(prev){prev.clipGroup=null}),clipPath.setAttributeNS(null,"clip-path",current.activeClipUrl)),current.activeClipUrl="url(#".concat(clipId,")"),this.tgrp=null):this.pendingClip=null)}},{key:"clip",value:function(type){this.pendingClip=type}},{key:"closePath",value:function(){var d,current=this.current;current.path&&(d="".concat(current.path.getAttributeNS(null,"d"),"Z"),current.path.setAttributeNS(null,"d",d))}},{key:"setLeading",value:function(leading){this.current.leading=-leading}},{key:"setTextRise",value:function(textRise){this.current.textRise=textRise}},{key:"setTextRenderingMode",value:function(textRenderingMode){this.current.textRenderingMode=textRenderingMode}},{key:"setHScale",value:function(scale){this.current.textHScale=scale/100}},{key:"setRenderingIntent",value:function(intent){}},{key:"setFlatness",value:function(flatness){}},{key:"setGState",value:function(states){var _iteratorNormalCompletion7=!0,_didIteratorError7=!1,_iteratorError7=void 0;try{for(var _step7,_iterator7=states[Symbol.iterator]();!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=!0){var _step7$value=_slicedToArray(_step7.value,2),key=_step7$value[0],value=_step7$value[1];switch(key){case"LW":this.setLineWidth(value);break;case"LC":this.setLineCap(value);break;case"LJ":this.setLineJoin(value);break;case"ML":this.setMiterLimit(value);break;case"D":this.setDash(value[0],value[1]);break;case"RI":this.setRenderingIntent(value);break;case"FL":this.setFlatness(value);break;case"Font":this.setFont(value);break;case"CA":this.setStrokeAlpha(value);break;case"ca":this.setFillAlpha(value);break;default:(0,_util.warn)("Unimplemented graphic state operator ".concat(key))}}}catch(err){_didIteratorError7=!0,_iteratorError7=err}finally{try{_iteratorNormalCompletion7||null==_iterator7.return||_iterator7.return()}finally{if(_didIteratorError7)throw _iteratorError7}}}},{key:"fill",value:function(){var current=this.current;current.element&&(current.element.setAttributeNS(null,"fill",current.fillColor),current.element.setAttributeNS(null,"fill-opacity",current.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var current=this.current;current.element&&(this._setStrokeAttributes(current.element),current.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(element){var lineWidthScale=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,current=this.current,dashArray=current.dashArray;1!==lineWidthScale&&0<dashArray.length&&(dashArray=dashArray.map(function(value){return lineWidthScale*value})),element.setAttributeNS(null,"stroke",current.strokeColor),element.setAttributeNS(null,"stroke-opacity",current.strokeAlpha),element.setAttributeNS(null,"stroke-miterlimit",pf(current.miterLimit)),element.setAttributeNS(null,"stroke-linecap",current.lineCap),element.setAttributeNS(null,"stroke-linejoin",current.lineJoin),element.setAttributeNS(null,"stroke-width",pf(lineWidthScale*current.lineWidth)+"px"),element.setAttributeNS(null,"stroke-dasharray",dashArray.map(pf).join(" ")),element.setAttributeNS(null,"stroke-dashoffset",pf(lineWidthScale*current.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var rect=this.svgFactory.createElement("svg:rect");rect.setAttributeNS(null,"x","0"),rect.setAttributeNS(null,"y","0"),rect.setAttributeNS(null,"width","1px"),rect.setAttributeNS(null,"height","1px"),rect.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(rect)}},{key:"paintJpegXObject",value:function(objId,w,h){var objId=this.objs.get(objId),imgEl=this.svgFactory.createElement("svg:image");imgEl.setAttributeNS(XLINK_NS,"xlink:href",objId.src),imgEl.setAttributeNS(null,"width",pf(w)),imgEl.setAttributeNS(null,"height",pf(h)),imgEl.setAttributeNS(null,"x","0"),imgEl.setAttributeNS(null,"y",pf(-h)),imgEl.setAttributeNS(null,"transform","scale(".concat(pf(1/w)," ").concat(pf(-1/h),")")),this._ensureTransformGroup().appendChild(imgEl)}},{key:"paintImageXObject",value:function(objId){var imgData=this.objs.get(objId);imgData?this.paintInlineImageXObject(imgData):(0,_util.warn)("Dependent image with object ID ".concat(objId," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(imgData,mask){var width=imgData.width,height=imgData.height,imgData=convertImgDataToPng(imgData,this.forceDataSchema,!!mask),cliprect=this.svgFactory.createElement("svg:rect"),cliprect=(cliprect.setAttributeNS(null,"x","0"),cliprect.setAttributeNS(null,"y","0"),cliprect.setAttributeNS(null,"width",pf(width)),cliprect.setAttributeNS(null,"height",pf(height)),this.current.element=cliprect,this.clip("nonzero"),this.svgFactory.createElement("svg:image"));cliprect.setAttributeNS(XLINK_NS,"xlink:href",imgData),cliprect.setAttributeNS(null,"x","0"),cliprect.setAttributeNS(null,"y",pf(-height)),cliprect.setAttributeNS(null,"width",pf(width)+"px"),cliprect.setAttributeNS(null,"height",pf(height)+"px"),cliprect.setAttributeNS(null,"transform","scale(".concat(pf(1/width)," ").concat(pf(-1/height),")")),(mask||this._ensureTransformGroup()).appendChild(cliprect)}},{key:"paintImageMaskXObject",value:function(imgData){var current=this.current,width=imgData.width,height=imgData.height,fillColor=current.fillColor,mask=(current.maskId="mask".concat(maskCount++),this.svgFactory.createElement("svg:mask")),rect=(mask.setAttributeNS(null,"id",current.maskId),this.svgFactory.createElement("svg:rect"));rect.setAttributeNS(null,"x","0"),rect.setAttributeNS(null,"y","0"),rect.setAttributeNS(null,"width",pf(width)),rect.setAttributeNS(null,"height",pf(height)),rect.setAttributeNS(null,"fill",fillColor),rect.setAttributeNS(null,"mask","url(#".concat(current.maskId,")")),this.defs.appendChild(mask),this._ensureTransformGroup().appendChild(rect),this.paintInlineImageXObject(imgData,mask)}},{key:"paintFormXObjectBegin",value:function(matrix,bbox){var height,cliprect;Array.isArray(matrix)&&6===matrix.length&&this.transform(matrix[0],matrix[1],matrix[2],matrix[3],matrix[4],matrix[5]),bbox&&(matrix=bbox[2]-bbox[0],height=bbox[3]-bbox[1],(cliprect=this.svgFactory.createElement("svg:rect")).setAttributeNS(null,"x",bbox[0]),cliprect.setAttributeNS(null,"y",bbox[1]),cliprect.setAttributeNS(null,"width",pf(matrix)),cliprect.setAttributeNS(null,"height",pf(height)),this.current.element=cliprect,this.clip("nonzero"),this.endPath())}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(viewport){var svg=this.svgFactory.create(viewport.width,viewport.height),definitions=this.svgFactory.createElement("svg:defs"),definitions=(svg.appendChild(definitions),this.defs=definitions,this.svgFactory.createElement("svg:g"));return definitions.setAttributeNS(null,"transform",pm(viewport.transform)),svg.appendChild(definitions),this.svg=definitions,svg}},{key:"_ensureClipGroup",value:function(){var clipGroup;return this.current.clipGroup||((clipGroup=this.svgFactory.createElement("svg:g")).setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(clipGroup),this.current.clipGroup=clipGroup),this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",pm(this.transformMatrix)),(this.current.activeClipUrl?this._ensureClipGroup():this.svg).appendChild(this.tgrp)),this.tgrp}}]),SVGGraphics})()},function(module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFNodeStream=void 0;var obj,_regenerator=(obj=__w_pdfjs_require__(180))&&obj.__esModule?obj:{default:obj},_util=__w_pdfjs_require__(1),_network_utils=__w_pdfjs_require__(198);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?(self=>{if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")})(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps)}var fs=require("fs"),http=require("http"),https=require("https"),url=require("url"),fileUriRegex=/^file:\/\/\/[a-zA-Z]:\//;exports.PDFNodeStream=(()=>{function PDFNodeStream(source){_classCallCheck(this,PDFNodeStream),this.source=source,this.url=(sourceUrl=>{var parsedUrl=url.parse(sourceUrl);if("file:"!==parsedUrl.protocol&&!parsedUrl.host){if(/^[a-z]:[/\\]/i.test(sourceUrl))return url.parse("file:///".concat(sourceUrl));parsedUrl.host||(parsedUrl.protocol="file:")}return parsedUrl})(source.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&source.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(PDFNodeStream,[{key:"getFullReader",value:function(){return(0,_util.assert)(!this._fullRequestReader),this._fullRequestReader=new(this.isFsUrl?PDFNodeStreamFsFullReader:PDFNodeStreamFullReader)(this),this._fullRequestReader}},{key:"getRangeReader",value:function(start,end){return end<=this._progressiveDataLength?null:(start=new(this.isFsUrl?PDFNodeStreamFsRangeReader:PDFNodeStreamRangeReader)(this,start,end),this._rangeRequestReaders.push(start),start)}},{key:"cancelAllRequests",value:function(reason){this._fullRequestReader&&this._fullRequestReader.cancel(reason),this._rangeRequestReaders.slice(0).forEach(function(reader){reader.cancel(reason)})}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),PDFNodeStream})();var BaseFullReader=(()=>{function BaseFullReader(stream){_classCallCheck(this,BaseFullReader),this._url=stream.url,this._done=!1,this._storedError=null,this.onProgress=null;stream=stream.source;this._contentLength=stream.length,this._loaded=0,this._filename=null,this._disableRange=stream.disableRange||!1,this._rangeChunkSize=stream.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!stream.disableStream,this._isRangeSupported=!stream.disableRange,this._readableStream=null,this._readCapability=(0,_util.createPromiseCapability)(),this._headersCapability=(0,_util.createPromiseCapability)()}var _read;return _createClass(BaseFullReader,[{key:"read",value:(_read=_asyncToGenerator(_regenerator.default.mark(function _callee(){var chunk,buffer;return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this._readCapability.promise;case 2:if(this._done)return _context.abrupt("return",{value:void 0,done:!0});_context.next=4;break;case 4:if(this._storedError)throw this._storedError;_context.next=6;break;case 6:if(null===(chunk=this._readableStream.read()))return this._readCapability=(0,_util.createPromiseCapability)(),_context.abrupt("return",this.read());_context.next=10;break;case 10:return this._loaded+=chunk.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),buffer=new Uint8Array(chunk).buffer,_context.abrupt("return",{value:buffer,done:!1});case 14:case"end":return _context.stop()}},_callee,this)})),function(){return _read.apply(this,arguments)})},{key:"cancel",value:function(reason){this._readableStream?this._readableStream.destroy(reason):this._error(reason)}},{key:"_error",value:function(reason){this._storedError=reason,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(readableStream){var _this=this;(this._readableStream=readableStream).on("readable",function(){_this._readCapability.resolve()}),readableStream.on("end",function(){readableStream.destroy(),_this._done=!0,_this._readCapability.resolve()}),readableStream.on("error",function(reason){_this._error(reason)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new _util.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),BaseFullReader})(),BaseRangeReader=(()=>{function BaseRangeReader(stream){_classCallCheck(this,BaseRangeReader),this._url=stream.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,_util.createPromiseCapability)();stream=stream.source;this._isStreamingSupported=!stream.disableStream}var _read2;return _createClass(BaseRangeReader,[{key:"read",value:(_read2=_asyncToGenerator(_regenerator.default.mark(function _callee2(){var chunk,buffer;return _regenerator.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this._readCapability.promise;case 2:if(this._done)return _context2.abrupt("return",{value:void 0,done:!0});_context2.next=4;break;case 4:if(this._storedError)throw this._storedError;_context2.next=6;break;case 6:if(null===(chunk=this._readableStream.read()))return this._readCapability=(0,_util.createPromiseCapability)(),_context2.abrupt("return",this.read());_context2.next=10;break;case 10:return this._loaded+=chunk.length,this.onProgress&&this.onProgress({loaded:this._loaded}),buffer=new Uint8Array(chunk).buffer,_context2.abrupt("return",{value:buffer,done:!1});case 14:case"end":return _context2.stop()}},_callee2,this)})),function(){return _read2.apply(this,arguments)})},{key:"cancel",value:function(reason){this._readableStream?this._readableStream.destroy(reason):this._error(reason)}},{key:"_error",value:function(reason){this._storedError=reason,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(readableStream){var _this2=this;(this._readableStream=readableStream).on("readable",function(){_this2._readCapability.resolve()}),readableStream.on("end",function(){readableStream.destroy(),_this2._done=!0,_this2._readCapability.resolve()}),readableStream.on("error",function(reason){_this2._error(reason)}),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),BaseRangeReader})();function createRequestOptions(url,headers){return{protocol:url.protocol,auth:url.auth,host:url.hostname,port:url.port,path:url.path,method:"GET",headers:headers}}var PDFNodeStreamFullReader=(()=>{function PDFNodeStreamFullReader(stream){function handleResponse(response){var error,allowRangeRequests;404===response.statusCode?(error=new _util.MissingPDFException('Missing PDF "'.concat(_this3._url,'".')),_this3._storedError=error,_this3._headersCapability.reject(error)):(_this3._headersCapability.resolve(),_this3._setReadableStream(response),allowRangeRequests=(response=(0,_network_utils.validateRangeRequestCapabilities)({getResponseHeader:error=function(name){return _this3._readableStream.headers[name.toLowerCase()]},isHttp:stream.isHttp,rangeChunkSize:_this3._rangeChunkSize,disableRange:_this3._disableRange})).allowRangeRequests,response=response.suggestedLength,_this3._isRangeSupported=allowRangeRequests,_this3._contentLength=response||_this3._contentLength,_this3._filename=(0,_network_utils.extractFilenameFromHeader)(error))}var _this3;_classCallCheck(this,PDFNodeStreamFullReader);return(_this3=_possibleConstructorReturn(this,_getPrototypeOf(PDFNodeStreamFullReader).call(this,stream)))._request=null,"http:"===_this3._url.protocol?_this3._request=http.request(createRequestOptions(_this3._url,stream.httpHeaders),handleResponse):_this3._request=https.request(createRequestOptions(_this3._url,stream.httpHeaders),handleResponse),_this3._request.on("error",function(reason){_this3._storedError=reason,_this3._headersCapability.reject(reason)}),_this3._request.end(),_this3}return _inherits(PDFNodeStreamFullReader,BaseFullReader),PDFNodeStreamFullReader})(),PDFNodeStreamRangeReader=(()=>{function PDFNodeStreamRangeReader(stream,start,end){var _this4,property;for(property in _classCallCheck(this,PDFNodeStreamRangeReader),(_this4=_possibleConstructorReturn(this,_getPrototypeOf(PDFNodeStreamRangeReader).call(this,stream)))._httpHeaders={},stream.httpHeaders){var value=stream.httpHeaders[property];void 0!==value&&(_this4._httpHeaders[property]=value)}_this4._httpHeaders.Range="bytes=".concat(start,"-").concat(end-1);function handleResponse(response){var error;404===response.statusCode?(error=new _util.MissingPDFException('Missing PDF "'.concat(_this4._url,'".')),_this4._storedError=error):_this4._setReadableStream(response)}return _this4._request=null,"http:"===_this4._url.protocol?_this4._request=http.request(createRequestOptions(_this4._url,_this4._httpHeaders),handleResponse):_this4._request=https.request(createRequestOptions(_this4._url,_this4._httpHeaders),handleResponse),_this4._request.on("error",function(reason){_this4._storedError=reason}),_this4._request.end(),_this4}return _inherits(PDFNodeStreamRangeReader,BaseRangeReader),PDFNodeStreamRangeReader})(),PDFNodeStreamFsFullReader=(()=>{function PDFNodeStreamFsFullReader(stream){_classCallCheck(this,PDFNodeStreamFsFullReader),_this5=_possibleConstructorReturn(this,_getPrototypeOf(PDFNodeStreamFsFullReader).call(this,stream));var _this5,path=decodeURIComponent(_this5._url.path);return fileUriRegex.test(_this5._url.href)&&(path=path.replace(/^\//,"")),fs.lstat(path,function(error,stat){error?("ENOENT"===error.code&&(error=new _util.MissingPDFException('Missing PDF "'.concat(path,'".'))),_this5._storedError=error,_this5._headersCapability.reject(error)):(_this5._contentLength=stat.size,_this5._setReadableStream(fs.createReadStream(path)),_this5._headersCapability.resolve())}),_this5}return _inherits(PDFNodeStreamFsFullReader,BaseFullReader),PDFNodeStreamFsFullReader})(),PDFNodeStreamFsRangeReader=(()=>{function PDFNodeStreamFsRangeReader(stream,start,end){_classCallCheck(this,PDFNodeStreamFsRangeReader),stream=_possibleConstructorReturn(this,_getPrototypeOf(PDFNodeStreamFsRangeReader).call(this,stream));var path=decodeURIComponent(stream._url.path);return fileUriRegex.test(stream._url.href)&&(path=path.replace(/^\//,"")),stream._setReadableStream(fs.createReadStream(path,{start:start,end:end-1})),stream}return _inherits(PDFNodeStreamFsRangeReader,BaseRangeReader),PDFNodeStreamFsRangeReader})()},function(module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.createResponseStatusError=function(status,url){if(404===status||0===status&&/^file:/.test(url))return new _util.MissingPDFException('Missing PDF "'+url+'".');return new _util.UnexpectedResponseException("Unexpected server response ("+status+') while retrieving PDF "'+url+'".',status)},exports.extractFilenameFromHeader=function(getResponseHeader){getResponseHeader=getResponseHeader("Content-Disposition");if(getResponseHeader){getResponseHeader=(0,_content_disposition.getFilenameFromContentDispositionHeader)(getResponseHeader);if(getResponseHeader.includes("%"))try{getResponseHeader=decodeURIComponent(getResponseHeader)}catch(ex){}if(/\.pdf$/i.test(getResponseHeader))return getResponseHeader}return null},exports.validateRangeRequestCapabilities=function(_ref){var getResponseHeader=_ref.getResponseHeader,isHttp=_ref.isHttp,rangeChunkSize=_ref.rangeChunkSize,_ref=_ref.disableRange,returnValues=((0,_util.assert)(0<rangeChunkSize,"Range chunk size must be larger than zero"),{allowRangeRequests:!1,suggestedLength:void 0}),length=parseInt(getResponseHeader("Content-Length"),10);return!Number.isInteger(length)||(returnValues.suggestedLength=length)<=2*rangeChunkSize||!_ref&&isHttp&&"bytes"===getResponseHeader("Accept-Ranges")&&"identity"===(getResponseHeader("Content-Encoding")||"identity")&&(returnValues.allowRangeRequests=!0),returnValues},exports.validateResponseStatus=function(status){return 200===status||206===status};var _util=__w_pdfjs_require__(1),_content_disposition=__w_pdfjs_require__(199)},function(module,exports,__w_pdfjs_require__){function _slicedToArray(arr,i){return(arr=>{if(Array.isArray(arr))return arr})(arr)||((arr,i)=>{if(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}})(arr,i)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFilenameFromContentDispositionHeader=function(contentDisposition){var needsEncodingFixup=!0,tmp=toParamRegExp("filename\\*","i").exec(contentDisposition);{var filename;if(tmp)return filename=rfc2616unquote(tmp=tmp[1]),fixupEncoding(filename=rfc2047decode(filename=rfc5987decode(filename=unescape(filename))))}if(tmp=(contentDisposition=>{for(var matches=[],iter=toParamRegExp("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(match=iter.exec(contentDisposition));){var match=_slicedToArray(match,4),n=match[1],quot=match[2],part=match[3];if((n=parseInt(n,10))in matches){if(0===n)break}else matches[n]=[quot,part]}for(var parts=[],n=0;n<matches.length&&n in matches;++n){var _matches$n=_slicedToArray(matches[n],2),quot=_matches$n[0];part=rfc2616unquote(part=_matches$n[1]),quot&&(part=unescape(part),0===n)&&(part=rfc5987decode(part)),parts.push(part)}return parts.join("")})(contentDisposition))return fixupEncoding(rfc2047decode(tmp));if(tmp=toParamRegExp("filename","i").exec(contentDisposition))return tmp=tmp[1],fixupEncoding(rfc2047decode(rfc2616unquote(tmp)));function toParamRegExp(attributePattern,flags){return new RegExp("(?:^|;)\\s*"+attributePattern+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',flags)}function textdecode(encoding,value){if(encoding){if(!/^[\x00-\xFF]+$/.test(value))return value;try{var decoder=new TextDecoder(encoding,{fatal:!0}),bytes=Array.from(value,function(ch){return 255&ch.charCodeAt(0)});value=decoder.decode(new Uint8Array(bytes)),needsEncodingFixup=!1}catch(e){if(/^utf-?8$/i.test(encoding))try{value=decodeURIComponent(escape(value)),needsEncodingFixup=!1}catch(err){}}}return value}function fixupEncoding(value){return value=needsEncodingFixup&&/[\x80-\xff]/.test(value)&&(value=textdecode("utf-8",value),needsEncodingFixup)?textdecode("iso-8859-1",value):value}function rfc2616unquote(value){if(value.startsWith('"')){for(var parts=value.slice(1).split('\\"'),i=0;i<parts.length;++i){var quotindex=parts[i].indexOf('"');-1!==quotindex&&(parts[i]=parts[i].slice(0,quotindex),parts.length=i+1),parts[i]=parts[i].replace(/\\(.)/g,"$1")}value=parts.join('"')}return value}function rfc5987decode(extvalue){var encodingend=extvalue.indexOf("'");return-1===encodingend?extvalue:textdecode(extvalue.slice(0,encodingend),extvalue.slice(encodingend+1).replace(/^[^']*'/,""))}function rfc2047decode(value){return!value.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(value)?value:value.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(_,charset,encoding,text){if("q"===encoding||"Q"===encoding)return textdecode(charset,text=(text=text.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(_,hex){return String.fromCharCode(parseInt(hex,16))}));try{text=atob(text)}catch(e){}return textdecode(charset,text)})}return""}},function(module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFNetworkStream=void 0;var _regenerator=(obj=__w_pdfjs_require__(180))&&obj.__esModule?obj:{default:obj},_util=__w_pdfjs_require__(1),_network_utils=__w_pdfjs_require__(198);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps)}var NetworkManager=(()=>{function NetworkManager(url,args){_classCallCheck(this,NetworkManager),this.url=url,args=args||{},this.isHttp=/^https?:/i.test(url),this.httpHeaders=this.isHttp&&args.httpHeaders||{},this.withCredentials=args.withCredentials||!1,this.getXhr=args.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return _createClass(NetworkManager,[{key:"requestRange",value:function(begin,end,listeners){var prop,args={begin:begin,end:end};for(prop in listeners)args[prop]=listeners[prop];return this.request(args)}},{key:"requestFull",value:function(listeners){return this.request(listeners)}},{key:"request",value:function(args){var property,xhr=this.getXhr(),xhrId=this.currXhrId++,pendingRequest=this.pendingRequests[xhrId]={xhr:xhr};for(property in xhr.open("GET",this.url),xhr.withCredentials=this.withCredentials,this.httpHeaders){var value=this.httpHeaders[property];void 0!==value&&xhr.setRequestHeader(property,value)}return this.isHttp&&"begin"in args&&"end"in args?(xhr.setRequestHeader("Range","bytes=".concat(args.begin,"-").concat(args.end-1)),pendingRequest.expectedStatus=206):pendingRequest.expectedStatus=200,xhr.responseType="arraybuffer",args.onError&&(xhr.onerror=function(evt){args.onError(xhr.status)}),xhr.onreadystatechange=this.onStateChange.bind(this,xhrId),xhr.onprogress=this.onProgress.bind(this,xhrId),pendingRequest.onHeadersReceived=args.onHeadersReceived,pendingRequest.onDone=args.onDone,pendingRequest.onError=args.onError,pendingRequest.onProgress=args.onProgress,xhr.send(null),xhrId}},{key:"onProgress",value:function(xhrId,evt){xhrId=this.pendingRequests[xhrId];xhrId&&xhrId.onProgress&&xhrId.onProgress(evt)}},{key:"onStateChange",value:function(xhrId,evt){var xhr,chunk,pendingRequest=this.pendingRequests[xhrId];pendingRequest&&(2<=(xhr=pendingRequest.xhr).readyState&&pendingRequest.onHeadersReceived&&(pendingRequest.onHeadersReceived(),delete pendingRequest.onHeadersReceived),4===xhr.readyState)&&xhrId in this.pendingRequests&&(delete this.pendingRequests[xhrId],(0!==xhr.status||!this.isHttp)&&(200===(xhrId=xhr.status||200)&&206===pendingRequest.expectedStatus||xhrId===pendingRequest.expectedStatus)?(chunk=(xhr=>"string"!=typeof(xhr=xhr.response)?xhr:(0,_util.stringToBytes)(xhr).buffer)(xhr),206===xhrId?(xhrId=xhr.getResponseHeader("Content-Range"),xhrId=/bytes (\d+)-(\d+)\/(\d+)/.exec(xhrId),pendingRequest.onDone({begin:parseInt(xhrId[1],10),chunk:chunk})):chunk?pendingRequest.onDone({begin:0,chunk:chunk}):pendingRequest.onError&&pendingRequest.onError(xhr.status)):pendingRequest.onError&&pendingRequest.onError(xhr.status))}},{key:"hasPendingRequests",value:function(){for(var xhrId in this.pendingRequests)return!0;return!1}},{key:"getRequestXhr",value:function(xhrId){return this.pendingRequests[xhrId].xhr}},{key:"isPendingRequest",value:function(xhrId){return xhrId in this.pendingRequests}},{key:"abortAllRequests",value:function(){for(var xhrId in this.pendingRequests)this.abortRequest(0|xhrId)}},{key:"abortRequest",value:function(xhrId){var xhr=this.pendingRequests[xhrId].xhr;delete this.pendingRequests[xhrId],xhr.abort()}}]),NetworkManager})(),obj=(()=>{function PDFNetworkStream(source){_classCallCheck(this,PDFNetworkStream),this._source=source,this._manager=new NetworkManager(source.url,{httpHeaders:source.httpHeaders,withCredentials:source.withCredentials}),this._rangeChunkSize=source.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(PDFNetworkStream,[{key:"_onRangeRequestReaderClosed",value:function(reader){reader=this._rangeRequestReaders.indexOf(reader);0<=reader&&this._rangeRequestReaders.splice(reader,1)}},{key:"getFullReader",value:function(){return(0,_util.assert)(!this._fullRequestReader),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(begin,end){begin=new PDFNetworkStreamRangeRequestReader(this._manager,begin,end);return begin.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(begin),begin}},{key:"cancelAllRequests",value:function(reason){this._fullRequestReader&&this._fullRequestReader.cancel(reason),this._rangeRequestReaders.slice(0).forEach(function(reader){reader.cancel(reason)})}}]),PDFNetworkStream})(),PDFNetworkStreamFullRequestReader=(exports.PDFNetworkStream=obj,(()=>{function PDFNetworkStreamFullRequestReader(manager,source){_classCallCheck(this,PDFNetworkStreamFullRequestReader),this._manager=manager;var args={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=source.url,this._fullRequestId=manager.requestFull(args),this._headersReceivedCapability=(0,_util.createPromiseCapability)(),this._disableRange=source.disableRange||!1,this._contentLength=source.length,this._rangeChunkSize=source.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}var _read;return _createClass(PDFNetworkStreamFullRequestReader,[{key:"_onHeadersReceived",value:function(){function getResponseHeader(name){return fullRequestXhr.getResponseHeader(name)}var fullRequestXhrId=this._fullRequestId,fullRequestXhr=this._manager.getRequestXhr(fullRequestXhrId),_validateRangeRequest=(0,_network_utils.validateRangeRequestCapabilities)({getResponseHeader:getResponseHeader,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),allowRangeRequests=_validateRangeRequest.allowRangeRequests,_validateRangeRequest=_validateRangeRequest.suggestedLength;allowRangeRequests&&(this._isRangeSupported=!0),this._contentLength=_validateRangeRequest||this._contentLength,this._filename=(0,_network_utils.extractFilenameFromHeader)(getResponseHeader),this._isRangeSupported&&this._manager.abortRequest(fullRequestXhrId),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(args){args&&(0<this._requests.length?this._requests.shift().resolve({value:args.chunk,done:!1}):this._cachedChunks.push(args.chunk)),this._done=!0,0<this._cachedChunks.length||(this._requests.forEach(function(requestCapability){requestCapability.resolve({value:void 0,done:!0})}),this._requests=[])}},{key:"_onError",value:function(status){var url=this._url,exception=(0,_network_utils.createResponseStatusError)(status,url);this._storedError=exception,this._headersReceivedCapability.reject(exception),this._requests.forEach(function(requestCapability){requestCapability.reject(exception)}),this._requests=[],this._cachedChunks=[]}},{key:"_onProgress",value:function(data){this.onProgress&&this.onProgress({loaded:data.loaded,total:data.lengthComputable?data.total:this._contentLength})}},{key:"read",value:(_read=_asyncToGenerator(_regenerator.default.mark(function _callee(){var chunk;return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(this._storedError)throw this._storedError;_context.next=2;break;case 2:if(0<this._cachedChunks.length)return chunk=this._cachedChunks.shift(),_context.abrupt("return",{value:chunk,done:!1});_context.next=5;break;case 5:if(this._done)return _context.abrupt("return",{value:void 0,done:!0});_context.next=7;break;case 7:return chunk=(0,_util.createPromiseCapability)(),this._requests.push(chunk),_context.abrupt("return",chunk.promise);case 10:case"end":return _context.stop()}},_callee,this)})),function(){return _read.apply(this,arguments)})},{key:"cancel",value:function(reason){this._done=!0,this._headersReceivedCapability.reject(reason),this._requests.forEach(function(requestCapability){requestCapability.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}}]),PDFNetworkStreamFullRequestReader})()),PDFNetworkStreamRangeRequestReader=(()=>{function PDFNetworkStreamRangeRequestReader(manager,begin,end){_classCallCheck(this,PDFNetworkStreamRangeRequestReader),this._manager=manager;var args={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=manager.requestRange(begin,end,args),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}var _read2;return _createClass(PDFNetworkStreamRangeRequestReader,[{key:"_close",value:function(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function(data){data=data.chunk;0<this._requests.length?this._requests.shift().resolve({value:data,done:!1}):this._queuedChunk=data,this._done=!0,this._requests.forEach(function(requestCapability){requestCapability.resolve({value:void 0,done:!0})}),this._requests=[],this._close()}},{key:"_onProgress",value:function(evt){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:evt.loaded})}},{key:"read",value:(_read2=_asyncToGenerator(_regenerator.default.mark(function _callee2(){var chunk;return _regenerator.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(null!==this._queuedChunk)return chunk=this._queuedChunk,this._queuedChunk=null,_context2.abrupt("return",{value:chunk,done:!1});_context2.next=4;break;case 4:if(this._done)return _context2.abrupt("return",{value:void 0,done:!0});_context2.next=6;break;case 6:return chunk=(0,_util.createPromiseCapability)(),this._requests.push(chunk),_context2.abrupt("return",chunk.promise);case 9:case"end":return _context2.stop()}},_callee2,this)})),function(){return _read2.apply(this,arguments)})},{key:"cancel",value:function(reason){this._done=!0,this._requests.forEach(function(requestCapability){requestCapability.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},{key:"isStreamingSupported",get:function(){return!1}}]),PDFNetworkStreamRangeRequestReader})()},function(module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFFetchStream=void 0;var obj,_regenerator=(obj=__w_pdfjs_require__(180))&&obj.__esModule?obj:{default:obj},_util=__w_pdfjs_require__(1),_network_utils=__w_pdfjs_require__(198);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps)}function createFetchOptions(headers,withCredentials,abortController){return{method:"GET",headers:headers,signal:abortController&&abortController.signal,mode:"cors",credentials:withCredentials?"include":"same-origin",redirect:"follow"}}exports.PDFFetchStream=(()=>{function PDFFetchStream(source){_classCallCheck(this,PDFFetchStream),this.source=source,this.isHttp=/^https?:/i.test(source.url),this.httpHeaders=this.isHttp&&source.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(PDFFetchStream,[{key:"getFullReader",value:function(){return(0,_util.assert)(!this._fullRequestReader),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}},{key:"getRangeReader",value:function(begin,end){return end<=this._progressiveDataLength?null:(begin=new PDFFetchStreamRangeReader(this,begin,end),this._rangeRequestReaders.push(begin),begin)}},{key:"cancelAllRequests",value:function(reason){this._fullRequestReader&&this._fullRequestReader.cancel(reason),this._rangeRequestReaders.slice(0).forEach(function(reader){reader.cancel(reason)})}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),PDFFetchStream})();var PDFFetchStreamReader=(()=>{function PDFFetchStreamReader(stream){var property,_this=this,stream=(_classCallCheck(this,PDFFetchStreamReader),this._stream=stream,this._reader=null,this._loaded=0,this._filename=null,stream.source);for(property in this._withCredentials=stream.withCredentials||!1,this._contentLength=stream.length,this._headersCapability=(0,_util.createPromiseCapability)(),this._disableRange=stream.disableRange||!1,this._rangeChunkSize=stream.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!stream.disableStream,this._isRangeSupported=!stream.disableRange,this._headers=new Headers,this._stream.httpHeaders){var value=this._stream.httpHeaders[property];void 0!==value&&this._headers.append(property,value)}var url=stream.url;fetch(url,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(function(response){if(!(0,_network_utils.validateResponseStatus)(response.status))throw(0,_network_utils.createResponseStatusError)(response.status,url);_this._reader=response.body.getReader(),_this._headersCapability.resolve();function getResponseHeader(name){return response.headers.get(name)}var _validateRangeRequest=(0,_network_utils.validateRangeRequestCapabilities)({getResponseHeader:getResponseHeader,isHttp:_this._stream.isHttp,rangeChunkSize:_this._rangeChunkSize,disableRange:_this._disableRange}),allowRangeRequests=_validateRangeRequest.allowRangeRequests,_validateRangeRequest=_validateRangeRequest.suggestedLength;_this._isRangeSupported=allowRangeRequests,_this._contentLength=_validateRangeRequest||_this._contentLength,_this._filename=(0,_network_utils.extractFilenameFromHeader)(getResponseHeader),!_this._isStreamingSupported&&_this._isRangeSupported&&_this.cancel(new _util.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}var _read;return _createClass(PDFFetchStreamReader,[{key:"read",value:(_read=_asyncToGenerator(_regenerator.default.mark(function _callee(){var value,_ref;return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this._headersCapability.promise;case 2:return _context.next=4,this._reader.read();case 4:if(_ref=_context.sent,value=_ref.value,_ref=_ref.done)return _context.abrupt("return",{value:value,done:_ref});_context.next=9;break;case 9:return this._loaded+=value.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),_ref=new Uint8Array(value).buffer,_context.abrupt("return",{value:_ref,done:!1});case 13:case"end":return _context.stop()}},_callee,this)})),function(){return _read.apply(this,arguments)})},{key:"cancel",value:function(reason){this._reader&&this._reader.cancel(reason),this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),PDFFetchStreamReader})(),PDFFetchStreamRangeReader=(()=>{function PDFFetchStreamRangeReader(stream,begin,end){var property,_this2=this,stream=(_classCallCheck(this,PDFFetchStreamRangeReader),this._stream=stream,this._reader=null,this._loaded=0,stream.source);for(property in this._withCredentials=stream.withCredentials||!1,this._readCapability=(0,_util.createPromiseCapability)(),this._isStreamingSupported=!stream.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=new Headers,this._stream.httpHeaders){var value=this._stream.httpHeaders[property];void 0!==value&&this._headers.append(property,value)}this._headers.append("Range","bytes=".concat(begin,"-").concat(end-1));var url=stream.url;fetch(url,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(function(response){if(!(0,_network_utils.validateResponseStatus)(response.status))throw(0,_network_utils.createResponseStatusError)(response.status,url);_this2._readCapability.resolve(),_this2._reader=response.body.getReader()}),this.onProgress=null}var _read2;return _createClass(PDFFetchStreamRangeReader,[{key:"read",value:(_read2=_asyncToGenerator(_regenerator.default.mark(function _callee2(){var value,_ref2;return _regenerator.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this._readCapability.promise;case 2:return _context2.next=4,this._reader.read();case 4:if(_ref2=_context2.sent,value=_ref2.value,_ref2=_ref2.done)return _context2.abrupt("return",{value:value,done:_ref2});_context2.next=9;break;case 9:return this._loaded+=value.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),_ref2=new Uint8Array(value).buffer,_context2.abrupt("return",{value:_ref2,done:!1});case 13:case"end":return _context2.stop()}},_callee2,this)})),function(){return _read2.apply(this,arguments)})},{key:"cancel",value:function(reason){this._reader&&this._reader.cancel(reason),this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),PDFFetchStreamRangeReader})()}],installedModules={},__w_pdfjs_require__.m=modules,__w_pdfjs_require__.c=installedModules,__w_pdfjs_require__.d=function(exports,name,getter){__w_pdfjs_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__w_pdfjs_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__w_pdfjs_require__.t=function(value,mode){if(1&mode&&(value=__w_pdfjs_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__w_pdfjs_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__w_pdfjs_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__w_pdfjs_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __w_pdfjs_require__.d(getter,"a",getter),getter},__w_pdfjs_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__w_pdfjs_require__.p="",__w_pdfjs_require__(__w_pdfjs_require__.s=0);function __w_pdfjs_require__(moduleId){var module;return(installedModules[moduleId]||(module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}},modules[moduleId].call(module.exports,module,module.exports,__w_pdfjs_require__),module.l=!0,module)).exports}var modules,installedModules});